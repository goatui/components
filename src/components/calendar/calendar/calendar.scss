@import "../../../globalStyles/commons";

:host {
  display: block;
  height: 100%;
  min-height: 20em;
  --calendar-border-color: #{v(--ui-04)};
  --scale-size: 3rem;
}

.calendar {
  height: 100%;
  display: flex;
  flex-direction: column;

  .calendar-header {
    .calendar-header-classic {
      display: flex;
      padding: 1rem;

      .header-left {
        display: flex;
        gap: 1rem;
        flex: 1;
      }
    }

    goat-select {
      margin-bottom: 0;
    }
  }

  .calendar-body {
    flex: 1;
    overflow: auto;

    .view-container {
      height: 100%;
    }
  }
}

.scale {
  width: var(--scale-size);
}


.calendar-column-view {
  display: flex;
  flex-direction: column;
  height: 100%;

  .view-header {
    border-top: 1px solid v(--border-color);
    display: flex;

    .scale {
      border-bottom: 1px solid v(--border-color);
      border-right: 1px solid v(--border-color);
    }

    .columns {
      display: flex;
      flex: 1;
      border-bottom: 1px solid v(--border-color);

      .column {
        flex: 1;


        border-right: 1px solid v(--border-color);


        .column-content {
          display: flex;
          border-top: .5rem solid transparent;
          align-items: center;
          padding: .5rem;
          gap: .5rem;
        }

        &.active {
          .column-content {
            border-top-color: v(--color-primary);

            .date {
              color: v(--color-primary);
            }
          }
        }

        .date {
          font-size: 2rem;
          cursor: pointer;
          border-radius: 100%;
          padding: 0.5rem;

          &:hover {
            background: v(--color-primary-30);
          }
        }

        .day {
          font-size: 1rem;
        }
      }
    }

    .scrollbar-placeholder {
      width: var(--scrollbar-width);
    }
  }

  .view-body {
    height: 100%;
    border-bottom: 1px solid v(--calendar-border-color);
    overflow-y: scroll;

    .view-body-scroll {
      display: flex;
      position: relative;

      .scale {
        border-right: 1px solid v(--border-color);

        .row {
          width: 0;
          position: relative;
          &.hour {
            width: 50%;
            margin-inline-start: 50%;
          }
          .time {
            position: absolute;
            top: -.5rem;
            font-size: .75rem;
          }
        }
      }

      .drawing-area {
        flex: 1;

        .row {
          display: flex;

          .column {
            flex: 1;
            border-right: 1px solid v(--border-color);
          }
        }
      }

      .current-time-line {
        border-bottom: 2px solid v(--color-primary);
        position: absolute;
        z-index: 100;
        width: calc(100% - var(--scale-size));
        margin-inline-start: var(--scale-size);

        .dot {
          border-radius: 100%;
          width: 0.5rem;
          height: 0.5rem;
          background: v(--color-primary);
          display: block;
          position: absolute;
          top: -0.25rem;
          left: -0.25rem;
        }
      }
    }
  }

  .row {
    display: block;
    height: 2rem;
    border-bottom: 1px dashed v(--border-color);

    &.hour {
      border-bottom: 1px solid v(--border-color);
    }

    &:last-child {
      border-bottom: 0;
    }
  }

}

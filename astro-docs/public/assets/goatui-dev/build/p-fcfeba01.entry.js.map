{"version":3,"names":["linkCss","Link","this","gid","getComponentIndex","blurHandler","hasFocus","focusHandler","mouseDownHandler","isActive","keyDownHandler","evt","key","windowMouseUp","windowKeyUp","triggerClick","nativeElement","click","componentWillLoad","elm","hasAttribute","tabindex","getAttribute","undefined","removeAttribute","itemprop","render","h","Host","active","class","link","href","target","ref","input","onBlur","onFocus","onMouseDown","onKeyDown"],"sources":["src/components/navigation/link/link.scss?tag=goat-link&encapsulation=shadow","src/components/navigation/link/link.tsx"],"sourcesContent":["@import \"../../../globalStyles/commons\";\r\n\r\n\r\n:host {\r\n  display: inline-block;\r\n}\r\n\r\n.link {\r\n\r\n  border-radius: v(--border-radius);\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: row;\r\n  cursor: pointer;\r\n  text-decoration: var(--link-decoration, none);\r\n\r\n  color: var(--link-color, v(--link-01));\r\n\r\n  &:hover {\r\n    color: var(--link-color-hover, v(--hover-primary-text));\r\n    text-decoration: var(--link-decoration-hover, underline);\r\n  }\r\n\r\n  &:visited {\r\n    color: var(--link-color-visited, v(--visited-link));\r\n  }\r\n\r\n  &.active {\r\n    color: var(--link-color-active, v(--text-primary));\r\n  }\r\n\r\n\r\n}\r\n\r\n:host(.no-style) .link {\r\n  color: inherit !important;\r\n  text-decoration: none !important;\r\n}\r\n\r\n:host(.no-decoration) .link {\r\n  text-decoration: none !important;\r\n}\r\n\r\n:host(.inline) .link {\r\n  text-decoration: var(--link-decoration, underline);\r\n}\r\n\r\n.link.has-focus:not(.active) {\r\n  text-decoration: none;\r\n  @include focus-ring();\r\n}\r\n","import { Component, ComponentInterface, Element, h, Host, Listen, Method, Prop, State } from '@stencil/core';\r\nimport { getComponentIndex } from '../../../utils/utils';\r\n\r\n/**\r\n * @name Link\r\n * @description Links allow users to click their way from page to page.\r\n * @category Navigation\r\n * @example <goat-link href=\"#\">Link</goat-link>\r\n */\r\n@Component({\r\n  tag: 'goat-link',\r\n  styleUrl: 'link.scss',\r\n  shadow: true,\r\n})\r\nexport class Link implements ComponentInterface {\r\n\r\n  gid: string = getComponentIndex();\r\n\r\n  /**\r\n   * Hyperlink to navigate to on click.\r\n   */\r\n  @Prop() href: string;\r\n\r\n  /**\r\n   * Sets or retrieves the window or frame at which to target content.\r\n   */\r\n  @Prop() target: string;\r\n\r\n\r\n  @State() hasFocus = false;\r\n  @State() isActive = false;\r\n\r\n  @Element() elm!: HTMLElement;\r\n  private tabindex?: string | number;\r\n  private itemprop?: string;\r\n  private nativeElement?: HTMLAnchorElement;\r\n\r\n  @Listen('mouseup', { target: 'window' })\r\n  windowMouseUp() {\r\n    if (this.isActive)\r\n      this.isActive = false;\r\n  }\r\n\r\n  @Listen('keyup', { target: 'window' })\r\n  windowKeyUp(evt) {\r\n    if (this.isActive && (evt.key == 'Enter' || evt.key == ' '))\r\n      this.isActive = false;\r\n  }\r\n\r\n  @Method()\r\n  async triggerClick() {\r\n    if (this.nativeElement) {\r\n      this.nativeElement.click();\r\n    }\r\n  }\r\n\r\n  private blurHandler = () => {\r\n    this.hasFocus = false;\r\n  };\r\n\r\n  private focusHandler = () => {\r\n    this.hasFocus = true;\r\n  };\r\n\r\n  private mouseDownHandler = () => {\r\n    this.isActive = true;\r\n  };\r\n\r\n  private keyDownHandler = (evt) => {\r\n    if (evt.key == 'Enter' || evt.key == ' ') {\r\n      this.isActive = true;\r\n    }\r\n  };\r\n\r\n  componentWillLoad() {\r\n    // If the ion-input has a tabindex attribute we get the value\r\n    // and pass it down to the native input, then remove it from the\r\n    // goat-input to avoid causing tabbing twice on the same element\r\n    if (this.elm.hasAttribute('tabindex')) {\r\n      const tabindex = this.elm.getAttribute('tabindex');\r\n      this.tabindex = tabindex !== null ? tabindex : undefined;\r\n      this.elm.removeAttribute('tabindex');\r\n    }\r\n    if (this.elm.hasAttribute('itemprop')) {\r\n      const tabindex = this.elm.getAttribute('itemprop');\r\n      this.itemprop = tabindex !== null ? tabindex : undefined;\r\n      this.elm.removeAttribute('itemprop');\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    return (<Host has-focus={this.hasFocus} active={this.isActive}>\r\n      <a class={{\r\n        'link': true,\r\n        'has-focus': this.hasFocus,\r\n        'active': this.isActive,\r\n      }}\r\n         href={this.href}\r\n         target={this.target}\r\n         itemprop={this.itemprop}\r\n         ref={input => this.nativeElement = input}\r\n         tabindex={this.tabindex}\r\n         onBlur={this.blurHandler}\r\n         onFocus={this.focusHandler}\r\n         onMouseDown={this.mouseDownHandler}\r\n         onKeyDown={this.keyDownHandler}>\r\n\r\n        <slot />\r\n\r\n      </a>\r\n    </Host>);\r\n  }\r\n\r\n}\r\n"],"mappings":"6FAAA,MAAMA,EAAU,q9C,MCcHC,EAAI,M,yBAEfC,KAAAC,IAAcC,IAwCNF,KAAAG,YAAc,KACpBH,KAAKI,SAAW,KAAK,EAGfJ,KAAAK,aAAe,KACrBL,KAAKI,SAAW,IAAI,EAGdJ,KAAAM,iBAAmB,KACzBN,KAAKO,SAAW,IAAI,EAGdP,KAAAQ,eAAkBC,IACxB,GAAIA,EAAIC,KAAO,SAAWD,EAAIC,KAAO,IAAK,CACxCV,KAAKO,SAAW,I,2DAzCA,M,cACA,K,CAQpB,aAAAI,GACE,GAAIX,KAAKO,SACPP,KAAKO,SAAW,K,CAIpB,WAAAK,CAAYH,GACV,GAAIT,KAAKO,WAAaE,EAAIC,KAAO,SAAWD,EAAIC,KAAO,KACrDV,KAAKO,SAAW,K,CAIpB,kBAAMM,GACJ,GAAIb,KAAKc,cAAe,CACtBd,KAAKc,cAAcC,O,EAsBvB,iBAAAC,GAIE,GAAIhB,KAAKiB,IAAIC,aAAa,YAAa,CACrC,MAAMC,EAAWnB,KAAKiB,IAAIG,aAAa,YACvCpB,KAAKmB,SAAWA,IAAa,KAAOA,EAAWE,UAC/CrB,KAAKiB,IAAIK,gBAAgB,W,CAE3B,GAAItB,KAAKiB,IAAIC,aAAa,YAAa,CACrC,MAAMC,EAAWnB,KAAKiB,IAAIG,aAAa,YACvCpB,KAAKuB,SAAWJ,IAAa,KAAOA,EAAWE,UAC/CrB,KAAKiB,IAAIK,gBAAgB,W,EAK7B,MAAAE,GAEE,OAAQC,EAACC,EAAI,aAAY1B,KAAKI,SAAUuB,OAAQ3B,KAAKO,UACnDkB,EAAA,KAAGG,MAAO,CACRC,KAAQ,KACR,YAAa7B,KAAKI,SAClBuB,OAAU3B,KAAKO,UAEduB,KAAM9B,KAAK8B,KACXC,OAAQ/B,KAAK+B,OACbR,SAAUvB,KAAKuB,SACfS,IAAKC,GAASjC,KAAKc,cAAgBmB,EACnCd,SAAUnB,KAAKmB,SACfe,OAAQlC,KAAKG,YACbgC,QAASnC,KAAKK,aACd+B,YAAapC,KAAKM,iBAClB+B,UAAWrC,KAAKQ,gBAEjBiB,EAAA,c"}
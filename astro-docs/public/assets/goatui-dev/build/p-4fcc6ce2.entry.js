import{r as t,c as e,h as o,H as i,g as r}from"./p-6592004b.js";const s='*{box-sizing:border-box}:host{font-family:var(--font-family-base)}::selection{color:var(--color-white, white);background:var(--color-primary, #0f62fe)}::-webkit-scrollbar{width:var(--scrollbar-width, 0.75rem);height:var(--scrollbar-width, 0.75rem)}::-webkit-scrollbar-track{background:#f1f1f1}::-webkit-scrollbar-thumb{background:#888}::-webkit-scrollbar-thumb :hover{background:#555}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.center-content{display:flex;align-items:center;justify-content:center}:host([hidden]){display:none}@keyframes reveal{0%{opacity:0;transform:translateY(8px)}}:host{display:block;height:100%;min-height:20em;--table-border-color:var(--border-strong-01, #8d8d8d);--table-border:1px solid var(--table-border-color);--table-col-content-padding:var(--spacing-02, 0.25rem) var(--spacing-03, 0.5rem)}.table{height:100%;border-inline-start:var(--table-border-inline-start, var(--table-border));border-inline-end:var(--table-border-inline-end, var(--table-border));border-top:var(--table-border-top, var(--table-border));border-bottom:var(--table-border-bottom, var(--table-border));font-family:var(--text-md-font-family, );font-size:var(--text-md-font-size, 1rem);font-weight:var(--text-md-font-weight, );line-height:var(--text-md-line-height, 1.5rem);letter-spacing:var(--text-md-letter-spacing, 0rem);display:flex;flex-direction:column}.table .table-scroll-container{position:relative;overflow:auto;height:100%}.table .empty-table{height:80%;display:flex;align-items:center;justify-content:center}.table .pagination{display:flex;border-top:1px solid var(--table-border-color)}.table .pagination .form-control{margin:0}.table .pagination .select{margin:0;--input-border-radius:none;--input-border-style:none;border-left:1px solid var(--table-border-color);border-right:1px solid var(--table-border-color)}.table .pagination .page-sizes-select{margin-inline-start:var(--spacing-03, 0.5rem)}.table .pagination .pagination-item-count{margin-inline-start:var(--spacing-04, 0.75rem);flex:1;display:flex;align-items:center}.table .pagination .arrows{--border-radius:0;--button-height:calc(2.5rem - 2px)}.table.horizontal-scrolled .fixed-columns:after{box-shadow:10px 0 20px -20px var(--border-color) inset;content:" ";height:100%;position:absolute;top:0;right:-20px;width:20px}.row{display:flex;box-sizing:border-box}.row .columns-container{display:flex}.row .col{margin:0;color:var(--text-primary, #161616)}.row .col .col-content{display:flex;align-items:center;height:100%}.row .col .col-content .col-text{padding:var(--table-col-content-padding);flex:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.row .col .col-content .col-template{width:100%}.row .col .col-content .col-action{--button-border-radius:none}.row .col .col-content .col-action.has-focus{z-index:12}.row .col .col-content .checkbox{padding:0 var(--spacing-03, 0.5rem)}.row .col.center .col-content{justify-content:center}.row .col:last-child{flex:1}.row .fixed-columns{position:sticky;left:0;z-index:1}.row .scrollable-columns{flex:1;}.header{z-index:var(--z-index-table-header, 30);font-weight:var(--font-weight-semi-bold, 600);text-transform:uppercase;position:sticky;top:0;background:var(--layer-01, #f4f4f4)}.header .left-panel{position:sticky;top:0;left:0}.header .col{background:var(--layer-01, #f4f4f4);border-bottom:1px solid var(--table-border-color)}.header .col.sort{background:var(--active-ui, #c6c6c6)}.body .row:hover{background-color:var(--hover-ui, #f4f4f4)}.body .row:hover .col{background-color:var(--hover-ui, #f4f4f4)}.body .row .col{cursor:pointer;background:var(--background, white);border-bottom:1px solid var(--layer-accent-01)}.body .row .col.col-checkbox .col-content{border:0}.body .row .col .col-content{border:2px solid transparent;border-bottom:1px solid transparent}.body .row .col:focus{outline:none;border-bottom-color:var(--color-primary, #0f62fe);z-index:1}.body .row .col:focus .col-content{border-color:var(--color-primary, #0f62fe)}.body .left-panel{position:sticky;left:0}:host(.show-full-content) .body .col-text{overflow:initial;white-space:initial;text-overflow:initial}.empty-data{text-align:center;position:absolute;margin:auto;top:46px;right:0;bottom:0;left:0;border-radius:3px;height:max-content;color:var(--color-neutral-600, )}';const l=16;const a=[{value:10,label:10},{value:25,label:25},{value:50,label:50},{value:100,label:100}];const n=class{constructor(o){t(this,o);this.goatCellClick=e(this,"goat:table-cell-click",7);this.goatSelectChange=e(this,"goat:table-select-change",7);this.goatSort=e(this,"goat:sort",7);this.goatPage=e(this,"goat:page",7);this.onSelectAllClick=()=>{let t=[];this.isSelectAll=!this.isSelectAll;if(this.isSelectAll)t=this.data.map((t=>t[this.keyField])).slice((this.page-1)*this.pageSize,this.page*this.pageSize);this.onSelectChange(t)};this.onRowSelectClick=t=>{let e=[...this.selectedRowKeys];if(e.includes(t[this.keyField])){this.isSelectAll=false;e=e.filter((e=>e!==t[this.keyField]))}else{e.push(t[this.keyField])}this.onSelectChange(e)};this.onCellMouseOver=(t,e)=>{this.hoveredCell={row:t,column:e}};this.columns=[];this.data=[];this.selectionType=undefined;this.selectedRowKeys=[];this.keyField="id";this.managed=false;this.sortable=true;this.sortBy=undefined;this.sortOrder="asc";this.paginate=true;this.page=1;this.pageSize=10;this.totalItems=undefined;this.emptyState={title:"No items",description:"There are no items to display"};this.hoveredCell={};this.isSelectAll=false;this.isSelectAllIntermediate=false;this.isHorizontallyScrolled=false}onSelectChange(t){this.selectedRowKeys=t;this.goatSelectChange.emit({value:this.selectedRowKeys,isSelectAll:this.isSelectAll})}onCellClick(t,e,o){this.goatCellClick.emit({record:t,column:e,altKey:o.altKey,ctrlKey:o.ctrlKey,metaKey:o.metaKey,shiftKey:o.shiftKey})}renderHeader(){const t=[];const e=[];if(this.selectionType==="checkbox"){t.push(o("div",{class:"col col-checkbox center"},o("div",{class:"col-content"},o("goat-checkbox",{class:"checkbox light",value:this.isSelectAll,intermediate:this.isSelectAllIntermediate,"onGoat:change":this.onSelectAllClick}))))}this.columns.forEach((i=>{let r=l;if(i.width)r=parseInt(i.width);const s=o("div",{class:{col:true,sort:this.sortBy===i.name},style:{width:r+"rem"}},o("div",{class:"col-content"},o("div",{class:"col-text"},i.label),o("div",{class:"col-actions"},(()=>{if(!this.sortable)return;let t="arrows--vertical";if(this.sortBy===i.name){if(this.sortOrder==="asc")t="arrow--up";else t="arrow--down"}return o("goat-button",{icon:t,class:"col-action color-secondary",variant:"ghost",onClick:()=>{if(this.sortBy===i.name){if(this.sortOrder==="asc")this.sortOrder="desc";else this.sortBy=null}else{this.sortBy=i.name;this.sortOrder="asc"}this.goatSort.emit({sortBy:this.sortBy,sortOrder:this.sortOrder})}})})())));i.fixed?t.push(s):e.push(s)}));return o("div",{class:"header"},o("div",{class:"row"},o("div",{class:"fixed-columns columns-container"},t),o("div",{class:"scrollable-columns columns-container"},e)))}renderBody(){const t=[];let e=[...this.data];if(!this.managed){if(this.sortable&&this.sortBy){e=e.sort(((t,e)=>{if(t[this.sortBy]<e[this.sortBy])return this.sortOrder==="asc"?-1:1;if(t[this.sortBy]>e[this.sortBy])return this.sortOrder==="asc"?1:-1;return 0}))}if(this.paginate){e=e.slice((this.page-1)*this.pageSize,this.page*this.pageSize)}}e.forEach((e=>{const i=[];const r=[];if(this.selectionType==="checkbox")i.push(o("div",{class:{col:true,center:true,"col-checkbox":true}},o("div",{class:"col-content"},o("goat-checkbox",{class:"checkbox light",value:this.selectedRowKeys.includes(e[this.keyField]),"onGoat:change":()=>this.onRowSelectClick(e)}))));this.columns.forEach((t=>{let s=l;if(t.width)s=parseInt(t.width);const a=o("div",{tabindex:"1",class:{col:true,"col-hover":this.hoveredCell.row===e&&this.hoveredCell.column===t},style:{width:s+"rem"},onMouseOver:()=>this.onCellMouseOver(e,t),onKeyDown:t=>{if((t.ctrlKey||t.metaKey)&&t.key==="c"){const e=t.target;window.navigator.clipboard.writeText(e.innerText)}},onClick:o=>{const i=window.getSelection();if(i.type!="Range")this.onCellClick(e,t,o)}},o("div",{class:"col-content"},(()=>{if(t.template)return o("div",{class:"col-template",innerHTML:t.template(e,t)});else return o("div",{class:"col-text",title:e===null||e===void 0?void 0:e[t.name]},e===null||e===void 0?void 0:e[t.name])})()));t.fixed?i.push(a):r.push(a)}));t.push(o("div",{class:{row:true,"row-hover":this.hoveredCell.row===e}},o("div",{class:"fixed-columns columns-container"},i),o("div",{class:"scrollable-columns columns-container"},r)))}));return o("div",{class:"body"},t)}getTotalItems(){let t=this.totalItems;if(this.paginate&&!this.managed)t=this.data.length;return t}renderPagination(){if(this.paginate)return o("div",{class:"pagination"},o("div",{class:"page-sizes-select"},o("goat-form-control",{label:"Items per page:",inline:true,class:"form-control"},o("goat-select",{class:"select",items:a,positions:"top-right",value:this.pageSize,"onGoat:change":t=>{this.pageSize=t.detail.value;this.goatPage.emit({page:this.page,pageSize:this.pageSize})}}))),o("div",{class:"pagination-item-count"},o("goat-text",{inline:true},this.pageSize*(this.page-1)," - ",this.pageSize*this.page<this.getTotalItems()?this.pageSize*this.page:this.getTotalItems()," of ",this.getTotalItems()," ","items")),o("div",{class:"pagination-right"},o("div",{class:"table-footer-right-content"},o("div",{class:"table-footer-right-content-pagination"},o("goat-button",{icon:"arrow--left",class:"arrows",variant:"ghost",disabled:this.page===1,onClick:()=>{this.page=this.page-1;this.goatPage.emit({page:this.page,pageSize:this.pageSize})}}),o("goat-button",{icon:"arrow--right",variant:"ghost",class:"arrows",disabled:this.pageSize*this.page>=this.getTotalItems(),onClick:()=>{this.page=this.page+1;this.goatPage.emit({page:this.page,pageSize:this.pageSize})}})))))}render(){return o(i,null,o("div",{class:{table:true,sortable:this.sortable,paginate:this.paginate,"horizontal-scrolled":this.isHorizontallyScrolled}},o("div",{class:"table-scroll-container",onScroll:t=>{this.isHorizontallyScrolled=!!t.target.scrollLeft}},this.renderHeader(),this.data.length?this.renderBody():this.renderEmptyState()),o("div",{class:"table-footer"},this.renderPagination())))}renderEmptyState(){return o("div",{class:"empty-table"},o("goat-empty-state",Object.assign({class:"content-center"},this.emptyState)))}get elm(){return r(this)}};n.style=s;export{n as goat_table};
//# sourceMappingURL=p-4fcc6ce2.entry.js.map
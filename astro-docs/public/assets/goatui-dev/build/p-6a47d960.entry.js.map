{"version":3,"names":["modalCss","Modal","title","message","action","label","type","callback","handler","evt","this","promptDetails","detail","show","cancel","submit","componentDidRender","prompt","el","shadowRoot","querySelector","setFocus","render","h","Host","class","expressive","color","onClick"],"sources":["src/components/modal/modal/modal.scss?tag=goat-modal&encapsulation=shadow","src/components/modal/modal/modal.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n}\r\n\r\n.prompt {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  z-index: 5000;\r\n\r\n  &:before {\r\n    position: absolute;\r\n    content: '';\r\n    background: black;\r\n    opacity: 0.5;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  .prompt-content {\r\n    z-index: 5001;\r\n    width: 32rem;\r\n    border-radius: var(--border-radius);\r\n    background: var(--color-white);\r\n    padding: 1.5rem;\r\n    .message {\r\n      padding-bottom: var(--spacing-03);\r\n    }\r\n    .actions {\r\n      display: flex;\r\n      justify-content: end;\r\n      gap: 0.5rem;\r\n      .action {\r\n        padding-bottom: 0;\r\n      }\r\n    }\r\n\r\n    .prompt-message {\r\n      margin-bottom: var(--spacing-05);\r\n    }\r\n  }\r\n}\r\n","import { Component, Element, h, Host, Listen, Prop, State } from '@stencil/core';\r\n\r\n/**\r\n * @name Modal\r\n * @description  Modals are used to display content in a layer above the app.\r\n * @category Up coming\r\n * @tags controls\r\n */\r\n@Component({\r\n  tag: 'goat-modal',\r\n  styleUrl: 'modal.scss',\r\n  shadow: true,\r\n})\r\nexport class Modal {\r\n  @Element() el!: HTMLElement;\r\n\r\n  @Prop() show: boolean = false;\r\n\r\n  @State() promptDetails: any = {\r\n    title: '',\r\n    message: '',\r\n    action: {\r\n      label: '',\r\n      type: '',\r\n      callback: () => {},\r\n    },\r\n  };\r\n\r\n  @Listen('os:prompt', { target: 'window' })\r\n  handler(evt) {\r\n    this.promptDetails = evt.detail;\r\n    this.show = true;\r\n  }\r\n\r\n  private cancel() {\r\n    this.show = false;\r\n  }\r\n\r\n  private async submit() {\r\n    await this.promptDetails.action.callback();\r\n    this.show = false;\r\n  }\r\n\r\n  componentDidRender() {\r\n    if (this.show) {\r\n      const prompt: any = this.el.shadowRoot.querySelector('.submit');\r\n      prompt.setFocus();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.show) {\r\n      return (\r\n        <Host>\r\n          <div class=\"prompt\">\r\n            <div class=\"prompt-content\">\r\n              <goat-text type=\"heading\" heading-size=\"5\" class=\"title\">\r\n                {this.promptDetails.title}\r\n              </goat-text>\r\n              <goat-text expressive={true} class=\"prompt-message\">\r\n                {this.promptDetails.message}\r\n              </goat-text>\r\n              <div class=\"actions\">\r\n                <goat-button class={`submit action`} color={this.promptDetails.action.type} onClick={() => this.submit()}>\r\n                  {this.promptDetails.action.label}\r\n                </goat-button>\r\n                <goat-button class=\"cancel action\" color={'secondary'} onClick={() => this.cancel()}>\r\n                  Cancel\r\n                </goat-button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Host>\r\n      );\r\n    }\r\n  }\r\n}\r\n"],"mappings":"yDAAA,MAAMA,EAAW,0oB,MCaJC,EAAK,M,mCAGQ,M,mBAEM,CAC5BC,MAAO,GACPC,QAAS,GACTC,OAAQ,CACNC,MAAO,GACPC,KAAM,GACNC,SAAU,Q,CAKd,OAAAC,CAAQC,GACNC,KAAKC,cAAgBF,EAAIG,OACzBF,KAAKG,KAAO,I,CAGN,MAAAC,GACNJ,KAAKG,KAAO,K,CAGN,YAAME,SACNL,KAAKC,cAAcP,OAAOG,WAChCG,KAAKG,KAAO,K,CAGd,kBAAAG,GACE,GAAIN,KAAKG,KAAM,CACb,MAAMI,EAAcP,KAAKQ,GAAGC,WAAWC,cAAc,WACrDH,EAAOI,U,EAIX,MAAAC,GACE,GAAIZ,KAAKG,KAAM,CACb,OACEU,EAACC,EAAI,KACHD,EAAA,OAAKE,MAAM,UACTF,EAAA,OAAKE,MAAM,kBACTF,EAAA,aAAWjB,KAAK,UAAS,eAAc,IAAImB,MAAM,SAC9Cf,KAAKC,cAAcT,OAEtBqB,EAAA,aAAWG,WAAY,KAAMD,MAAM,kBAChCf,KAAKC,cAAcR,SAEtBoB,EAAA,OAAKE,MAAM,WACTF,EAAA,eAAaE,MAAO,gBAAiBE,MAAOjB,KAAKC,cAAcP,OAAOE,KAAMsB,QAAS,IAAMlB,KAAKK,UAC7FL,KAAKC,cAAcP,OAAOC,OAE7BkB,EAAA,eAAaE,MAAM,gBAAgBE,MAAO,YAAaC,QAAS,IAAMlB,KAAKI,UAAQ,a"}
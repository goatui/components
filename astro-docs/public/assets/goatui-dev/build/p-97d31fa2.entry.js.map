{"version":3,"names":["sidenavMenuItemCss","SidenavMenuItem","this","gid","getComponentIndex","tabindex","clickHandler","event","disabled","goatMenuItemClick","emit","value","elm","innerText","preventDefault","stopPropagation","blurHandler","hasFocus","focusHandler","mouseDownHandler","isActive","keyDownHandler","evt","key","render","h","Host","active","ref","el","nativeElement","class","selected","startSlotHasContent","endSlotHasContent","onBlur","onFocus","onClick","onMouseDown","onKeyDown","name","setFocus","focus","setBlur","blur","windowMouseUp","windowKeyUp","componentWillLoad","hasAttribute","getAttribute","undefined","removeAttribute","querySelector"],"sources":["src/components/app-shell/sidenav-menu-item/sidenav-menu-item.scss?tag=goat-sidenav-menu-item&encapsulation=shadow","src/components/app-shell/sidenav-menu-item/sidenav-menu-item.tsx"],"sourcesContent":["@import \"../../../globalStyles/commons\";\n\n:host {\n  display: block;\n}\n\n.sidenav-menu-item {\n  cursor: pointer;\n  @include font-style(text-md);\n  padding: v(--spacing-02) v(--spacing-04);\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  gap: v(--spacing-02);\n  color: v(--text-secondary);\n  outline: none;\n\n  .item-section {\n    display: flex;\n    align-items: center;\n  }\n\n  .slot-main {\n    display: block;\n    flex: 1;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n  }\n\n  .slot-end {\n    color: v(--text-helper);\n  }\n\n}\n\n\n\n.menu-item {\n  &:hover, &.has-focus:not(.active) {\n    background: v(--hover-ui);\n    color: v(--text-primary);\n    .slot-end {\n      color: v(--icon-01);\n    }\n  }\n\n  &.active, &.selected {\n    background: v(--selected-ui);\n  }\n}\n\n.menu-item.has-focus:not(.active) {\n  @include focus-ring;\n}\n\n.menu-item.disabled {\n  cursor: not-allowed;\n  color: v(--text-disabled) !important;\n  background-color: v(--disabled-01) !important;\n\n  &:hover, &.has-focus:not(.active) {\n    color: v(--text-disabled) !important;\n    background-color: v(--disabled-01) !important;\n  }\n\n  &.active, &.selected {\n    color: v(--text-disabled) !important;\n    background-color: v(--disabled-01) !important;\n  }\n}\n\n\n.menu-item:not(.start-slot-has-content) {\n  .slot-start {\n    display: none;\n  }\n}\n\n.menu-item:not(.end-slot-has-content) {\n  .slot-end {\n    display: none;\n  }\n}\n\n\n","import { Component, Element, Event, EventEmitter, h, Host, Listen, Method, Prop, State } from '@stencil/core';\r\nimport { getComponentIndex } from '../../../utils/utils';\r\n\r\n\r\n@Component({\r\n  tag: 'goat-sidenav-menu-item',\r\n  styleUrl: 'sidenav-menu-item.scss',\r\n  shadow: true,\r\n})\r\nexport class SidenavMenuItem {\r\n\r\n  gid: string = getComponentIndex();\r\n\r\n  private nativeElement?: HTMLElement;\r\n\r\n  private tabindex?: string | number = 1;\r\n\r\n\r\n  /**\r\n   * The menu item value.\r\n   */\r\n  @Prop({mutable: true}) value?: string | number | null;\r\n\r\n  /**\r\n   * If true, the user cannot interact with the button. Defaults to `false`.\r\n   */\r\n  @Prop({ reflect: true }) disabled: boolean = false;\r\n\r\n  /**\r\n   * Menu item selection state.\r\n   */\r\n  @Prop({ reflect: true }) selected: boolean = false;\r\n\r\n  /**\r\n   * Emitted when the menu item is clicked.\r\n   */\r\n  @Event({ eventName: 'goat:sidenav-menu-item-click' }) goatMenuItemClick: EventEmitter;\r\n\r\n\r\n  @State() startSlotHasContent = false;\r\n  @State() endSlotHasContent = false;\r\n\r\n  /**\r\n   * Sets focus on the native `input` in `goat-input`. Use this method instead of the global\r\n   * `input.focus()`.\r\n   */\r\n  @Method()\r\n  async setFocus() {\r\n    if (this.nativeElement) {\r\n      this.nativeElement.focus();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sets blur on the native `input` in `goat-input`. Use this method instead of the global\r\n   * `input.blur()`.\r\n   */\r\n  @Method()\r\n  async setBlur() {\r\n    if (this.nativeElement) {\r\n      this.nativeElement.blur();\r\n    }\r\n  }\r\n\r\n  @Listen('mouseup', { target: 'window' })\r\n  windowMouseUp() {\r\n    if (this.isActive)\r\n      this.isActive = false;\r\n  }\r\n\r\n  @Listen('keyup', { target: 'window' })\r\n  windowKeyUp(evt) {\r\n    if (this.isActive && (evt.key == ' '))\r\n      this.isActive = false;\r\n  }\r\n\r\n  @State() hasFocus = false;\r\n  @State() isActive = false;\r\n  @Element() elm!: HTMLElement;\r\n\r\n  private clickHandler = (event) => {\r\n    if (!this.disabled) {\r\n      this.goatMenuItemClick.emit({\r\n        value: this.value || this.elm.innerText\r\n      });\r\n    } else {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      return;\r\n    }\r\n  };\r\n\r\n  private blurHandler = () => {\r\n    this.hasFocus = false;\r\n  };\r\n\r\n  private focusHandler = () => {\r\n    this.hasFocus = true;\r\n  };\r\n\r\n  private mouseDownHandler = () => {\r\n    this.isActive = true;\r\n  };\r\n\r\n  private keyDownHandler = (evt) => {\r\n    if (evt.key == ' ') {\r\n      evt.preventDefault();\r\n      this.isActive = true;\r\n      this.clickHandler(evt);\r\n    }\r\n  };\r\n\r\n  componentWillLoad() {\r\n    // If the ion-input has a tabindex attribute we get the value\r\n    // and pass it down to the native input, then remove it from the\r\n    // goat-input to avoid causing tabbing twice on the same element\r\n    if (this.elm.hasAttribute('tabindex')) {\r\n      const tabindex = this.elm.getAttribute('tabindex');\r\n      this.tabindex = tabindex !== null ? tabindex : undefined;\r\n      this.elm.removeAttribute('tabindex');\r\n    }\r\n    this.startSlotHasContent = !!this.elm.querySelector('[slot=\"start\"]');\r\n    this.endSlotHasContent = !!this.elm.querySelector('[slot=\"end\"]');\r\n  }\r\n\r\n  render = () => {\r\n    return <Host active={this.isActive} has-focus={this.hasFocus}>\r\n      <div\r\n        ref={(el) => this.nativeElement = el as HTMLElement}\r\n        class={{\r\n          'sidenav-menu-item': true,\r\n          'selected': this.selected,\r\n          'active': this.isActive,\r\n          'disabled': this.disabled,\r\n          'has-focus': this.hasFocus,\r\n          'start-slot-has-content': this.startSlotHasContent,\r\n          'end-slot-has-content': this.endSlotHasContent,\r\n        }}\r\n        tabindex={this.tabindex}\r\n        onBlur={this.blurHandler}\r\n        onFocus={this.focusHandler}\r\n        onClick={this.clickHandler}\r\n        onMouseDown={this.mouseDownHandler}\r\n        onKeyDown={this.keyDownHandler}\r\n        aria-disabled={this.disabled}>\r\n\r\n        <div class=\"item-section slot-start\">\r\n          <slot name=\"start\" />\r\n        </div>\r\n\r\n        <div class='item-section slot-main'>\r\n          <slot />\r\n        </div>\r\n\r\n        <div class=\"item-section slot-end\">\r\n          <slot name=\"end\" />\r\n        </div>\r\n\r\n      </div>\r\n    </Host>;\r\n  };\r\n\r\n\r\n}\r\n"],"mappings":"oGAAA,MAAMA,EAAqB,k2E,MCSdC,EAAe,M,yFAE1BC,KAAAC,IAAcC,IAINF,KAAAG,SAA6B,EAiE7BH,KAAAI,aAAgBC,IACtB,IAAKL,KAAKM,SAAU,CAClBN,KAAKO,kBAAkBC,KAAK,CAC1BC,MAAOT,KAAKS,OAAST,KAAKU,IAAIC,W,KAE3B,CACLN,EAAMO,iBACNP,EAAMQ,kBACN,M,GAIIb,KAAAc,YAAc,KACpBd,KAAKe,SAAW,KAAK,EAGff,KAAAgB,aAAe,KACrBhB,KAAKe,SAAW,IAAI,EAGdf,KAAAiB,iBAAmB,KACzBjB,KAAKkB,SAAW,IAAI,EAGdlB,KAAAmB,eAAkBC,IACxB,GAAIA,EAAIC,KAAO,IAAK,CAClBD,EAAIR,iBACJZ,KAAKkB,SAAW,KAChBlB,KAAKI,aAAagB,E,GAiBtBpB,KAAAsB,OAAS,IACAC,EAACC,EAAI,CAACC,OAAQzB,KAAKkB,SAAQ,YAAalB,KAAKe,UAClDQ,EAAA,OACEG,IAAMC,GAAO3B,KAAK4B,cAAgBD,EAClCE,MAAO,CACL,oBAAqB,KACrBC,SAAY9B,KAAK8B,SACjBL,OAAUzB,KAAKkB,SACfZ,SAAYN,KAAKM,SACjB,YAAaN,KAAKe,SAClB,yBAA0Bf,KAAK+B,oBAC/B,uBAAwB/B,KAAKgC,mBAE/B7B,SAAUH,KAAKG,SACf8B,OAAQjC,KAAKc,YACboB,QAASlC,KAAKgB,aACdmB,QAASnC,KAAKI,aACdgC,YAAapC,KAAKiB,iBAClBoB,UAAWrC,KAAKmB,eAAc,gBACfnB,KAAKM,UAEpBiB,EAAA,OAAKM,MAAM,2BACTN,EAAA,QAAMe,KAAK,WAGbf,EAAA,OAAKM,MAAM,0BACTN,EAAA,cAGFA,EAAA,OAAKM,MAAM,yBACTN,EAAA,QAAMe,KAAK,W,mCAjI0B,M,cAKA,M,yBAQd,M,uBACF,M,cAoCT,M,cACA,K,CA9BpB,cAAMC,GACJ,GAAIvC,KAAK4B,cAAe,CACtB5B,KAAK4B,cAAcY,O,EASvB,aAAMC,GACJ,GAAIzC,KAAK4B,cAAe,CACtB5B,KAAK4B,cAAcc,M,EAKvB,aAAAC,GACE,GAAI3C,KAAKkB,SACPlB,KAAKkB,SAAW,K,CAIpB,WAAA0B,CAAYxB,GACV,GAAIpB,KAAKkB,UAAaE,EAAIC,KAAO,IAC/BrB,KAAKkB,SAAW,K,CAuCpB,iBAAA2B,GAIE,GAAI7C,KAAKU,IAAIoC,aAAa,YAAa,CACrC,MAAM3C,EAAWH,KAAKU,IAAIqC,aAAa,YACvC/C,KAAKG,SAAWA,IAAa,KAAOA,EAAW6C,UAC/ChD,KAAKU,IAAIuC,gBAAgB,W,CAE3BjD,KAAK+B,sBAAwB/B,KAAKU,IAAIwC,cAAc,kBACpDlD,KAAKgC,oBAAsBhC,KAAKU,IAAIwC,cAAc,e"}
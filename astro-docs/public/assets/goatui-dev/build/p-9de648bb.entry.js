import{r as e,c as t,h as i,H as s,g as o}from"./p-6592004b.js";import{g as r}from"./p-96630149.js";const n='*{box-sizing:border-box}:host{font-family:var(--font-family-base)}::selection{color:var(--color-white, white);background:var(--color-primary, #0f62fe)}::-webkit-scrollbar{width:var(--scrollbar-width, 0.75rem);height:var(--scrollbar-width, 0.75rem)}::-webkit-scrollbar-track{background:#f1f1f1}::-webkit-scrollbar-thumb{background:#888}::-webkit-scrollbar-thumb :hover{background:#555}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.center-content{display:flex;align-items:center;justify-content:center}:host([hidden]){display:none}@keyframes reveal{0%{opacity:0;transform:translateY(8px)}}:host{display:block}.tree-node-content{cursor:pointer;height:2rem;font-family:var(--text-md-font-family, );font-size:var(--text-md-font-size, 1rem);font-weight:var(--text-md-font-weight, );line-height:var(--text-md-line-height, 1.5rem);letter-spacing:var(--text-md-letter-spacing, 0rem);padding:0 var(--spacing-04, 0.75rem);box-sizing:border-box;color:var(--text-secondary, #525252);outline:none;display:flex;align-items:center;position:relative;border:0.125rem solid transparent}.tree-node-content .tree-node-label{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-left:0.5rem}.tree-node-content .expand-icon{transform:rotate(0deg);transition:all 0.11s cubic-bezier(0.2, 0, 0.38, 0.9)}.tree-node-content .expand-icon.expanded{transform:rotate(90deg)}.tree-node-content .icon-space{width:1rem}.node-slot{display:none}.node-slot.expanded{display:block}.tree-node-content:hover{background:var(--layer-hover-01, #e8e8e8)}.tree-node-content.has-focus:not(.selected){color:var(--text-primary, #161616);border-color:var(--color-primary, #0f62fe)}.tree-node-content.has-focus:not(.selected) .slot-end{color:var(--icon-01, #161616)}.tree-node-content.selected{background:var(--selected-ui, #e0e0e0);font-weight:var(--font-weight-semi-bold, 600);border-left:0.125rem solid transparent}.tree-node-content.selected::before{content:" ";display:block;height:calc(100% + 0.25rem);border-left:0.25rem solid var(--color-primary, var(--color-blue-60, #0f62fe)) !important;position:absolute;top:-0.125rem;left:-0.125rem}.link{color:inherit !important;text-decoration:none !important}.tree-node-content.disabled{cursor:not-allowed;color:var(--text-disabled, rgba(22, 22, 22, 0.25)) !important;background-color:var(--disabled-01, #f4f4f4) !important}.tree-node-content.disabled:hover,.tree-node-content.disabled.has-focus:not(.selected){color:var(--text-disabled, rgba(22, 22, 22, 0.25)) !important;background-color:var(--disabled-01, #f4f4f4) !important}.tree-node-content.disabled.selected{color:var(--text-disabled, rgba(22, 22, 22, 0.25)) !important;background-color:var(--disabled-01, #f4f4f4) !important}';const a=class{constructor(o){e(this,o);this.goatTreeNodeClick=t(this,"goat:tree-node-click",7);this.gid=r();this.tabindex=1;this.clickHandler=e=>{if(!this.disabled){this.expanded=!this.expanded;this.goatTreeNodeClick.emit({value:this.value||this.label,expand:this.expanded,id:this.gid})}else{e.preventDefault();e.stopPropagation();return}};this.blurHandler=()=>{this.hasFocus=false};this.focusHandler=()=>{this.hasFocus=true};this.mouseDownHandler=()=>{this.isActive=true};this.keyDownHandler=e=>{if(e.key==" "||e.key=="Enter"){e.preventDefault();this.isActive=true;this.clickHandler(e)}else if(e.key==="ArrowLeft"){e.preventDefault();this.expanded=false}else if(e.key==="ArrowRight"){e.preventDefault();if(this.expanded&&this.hasChildNodes){const e=this.elm.querySelectorAll("goat-tree-node");if(e.length){const t=e[0];t.setFocus()}}else{this.expanded=true}}};this.render=()=>i(s,{active:this.isActive,"has-focus":this.hasFocus},i("div",{class:"tree-node"},i("a",{class:"link",href:this.href},i("div",{class:{"tree-node-content":true,selected:this.isSelected(),active:this.isActive,disabled:this.disabled,"has-focus":this.hasFocus},style:{paddingLeft:`${this.level+1}rem`},onClick:this.clickHandler,onMouseDown:this.mouseDownHandler,onKeyDown:this.keyDownHandler,"aria-disabled":this.disabled,onBlur:this.blurHandler,onFocus:this.focusHandler,tabindex:this.tabindex,ref:e=>this.nativeElement=e},this.hasChildNodes&&i("goat-icon",{name:"chevron--right",class:{"expand-icon":true,expanded:this.expanded},size:"1rem"}),!this.hasChildNodes&&i("div",{class:"icon-space"}),i("span",{class:"tree-node-label"},this.label))),i("div",{class:{"node-slot":true,expanded:this.expanded}},i("slot",null))));this.value=undefined;this.label="";this.href=undefined;this.disabled=false;this.selectedNode=undefined;this.expanded=true;this.level=0;this.hasChildNodes=false;this.hasFocus=false;this.isActive=false}async setFocus(){if(this.nativeElement){this.nativeElement.focus()}}async setBlur(){if(this.nativeElement){this.nativeElement.blur()}}windowMouseUp(){if(this.isActive)this.isActive=false}windowKeyUp(e){if(this.isActive&&e.key==" ")this.isActive=false}isSelected(){if(this.value===undefined&&this.label===undefined)return false;else if(this.value===undefined)return this.selectedNode===this.label;else return this.selectedNode===this.value}componentWillLoad(){if(this.elm.hasAttribute("tabindex")){const e=this.elm.getAttribute("tabindex");this.tabindex=e!==null?e:undefined;this.elm.removeAttribute("tabindex")}const e=this.elm.closest("goat-tree-view");e.getSelectedNode().then((e=>{this.selectedNode=e}));e.subscribeToSelect((e=>{this.selectedNode=e}));const t=this.elm.querySelectorAll("goat-tree-node");this.hasChildNodes=!!t.length;t.forEach((e=>{e.level=this.level+1}))}get elm(){return o(this)}};a.style=n;export{a as goat_tree_node};
//# sourceMappingURL=p-9de648bb.entry.js.map
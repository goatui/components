import{r as e,c as t,h as a,H as i,g as s}from"./p-6592004b.js";import{t as r,a as n,f as l,C as o}from"./p-bc20e6ca.js";import{r as c,t as h}from"./p-d51a9f28.js";function d(e,t){c(2,arguments);var a=h(e);var i=r(t);if(isNaN(i)){return new Date(NaN)}if(!i){return a}var s=a.getDate();var n=new Date(a.getTime());n.setMonth(a.getMonth()+i+1,0);var l=n.getDate();if(s>=l){return n}else{a.setFullYear(n.getFullYear(),n.getMonth(),s);return a}}const m="*{box-sizing:border-box}:host{font-family:var(--font-family-base)}::selection{color:var(--color-white, white);background:var(--color-primary, #0f62fe)}::-webkit-scrollbar{width:var(--scrollbar-width, 0.75rem);height:var(--scrollbar-width, 0.75rem)}::-webkit-scrollbar-track{background:#f1f1f1}::-webkit-scrollbar-thumb{background:#888}::-webkit-scrollbar-thumb :hover{background:#555}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.center-content{display:flex;align-items:center;justify-content:center}:host([hidden]){display:none}@keyframes reveal{0%{opacity:0;transform:translateY(8px)}}:host{display:block;height:100%;min-height:20em;--calendar-border-color:var(--border-strong-01, #8d8d8d);--scale-color:var(--text-placeholder, #a8a8a8)}.calendar{height:100%;display:flex;flex-direction:column}.calendar .calendar-header .calendar-header-classic{display:flex;padding:1rem}.calendar .calendar-header .calendar-header-classic .header-left{display:flex;gap:1rem;align-items:center;flex:1}.calendar .calendar-header .calendar-header-classic .header-left .title{display:flex;align-items:center}.calendar .calendar-header goat-select{margin-bottom:0}.calendar .calendar-body{flex:1;overflow:auto}.calendar .calendar-body .view-container{height:100%}";const v=class{constructor(a){e(this,a);this.goatCalendarEventClick=t(this,"goat:calendar-event-click",7);this.events=[];this.availableViews=[{label:"Day",value:"day",type:"column",days:1},{label:"Week",value:"week",type:"column",days:7},{label:"Month",value:"month",type:"month"}];this.view="week";this.eventClickable=true;this.showLoader=false;this.timezone=undefined;this.contextDate=undefined}columnViewDateClick(e){this.view="day";this.contextDate=e.detail.date}columnViewEventClick(e){this.goatCalendarEventClick.emit(e.detail.event)}monthViewEventClick(e){this.goatCalendarEventClick.emit(e.detail.event)}async componentWillLoad(){if(this.timezone){this.currentTime=new Date((new Date).toLocaleString("en",{timeZone:this.timezone}))}else{this.currentTime=new Date}if(!this.contextDate){this.contextDate=this.currentTime}}async componentWillRender(){this.currentView=this.availableViews.find((e=>e.value===this.view))}previous(){if(this.currentView.days){this.contextDate=n(this.contextDate,-1*this.currentView.days)}else if(this.currentView.type==="month"){this.contextDate=d(this.contextDate,-1)}}next(){if(this.currentView.days){this.contextDate=n(this.contextDate,this.currentView.days)}else if(this.currentView.type==="month"){this.contextDate=d(this.contextDate,1)}}renderHeader(){return a("div",{class:"calendar-header-classic"},a("div",{class:"header-left"},a("goat-button",{variant:"outline",size:"sm",kind:"simple",class:"color-secondary",onClick:()=>this.contextDate=this.currentTime},"Today"),a("goat-button",{variant:"ghost",size:"sm",class:"color-secondary",icon:"chevron--left",onClick:()=>this.previous()}),a("goat-button",{variant:"ghost",size:"sm",class:"color-secondary",icon:"chevron--right",onClick:()=>this.next()}),a("div",{class:"title"},l(this.contextDate,"MMMM d, yyyy"))),a("div",{class:"header-right"},a("goat-select",{size:"sm",positions:"bottom-left",value:this.view,items:this.availableViews.map((e=>({label:e.label,value:e.value}))),"onGoat:change":e=>{this.view=e.detail.value}})))}renderCalendarView(){if(!this.currentView)return"Invalid view";const e=this.events.map((e=>new o(e.start,e.end,e.title,e)));if(this.currentView.type==="column"){return a("goat-calendar-column-view",{view:this.currentView.value,days:this.currentView.days,currentTime:this.currentTime,contextDate:this.contextDate,eventClickable:this.eventClickable,events:e})}else if(this.currentView.type==="month"){return a("goat-calendar-month-view",{currentTime:this.currentTime,contextDate:this.contextDate,eventClickable:this.eventClickable,events:e})}}render(){return a(i,null,a("div",{class:"calendar"},a("div",{class:"calendar-header"},this.renderHeader()),a("div",{class:"calendar-body"},a("div",{class:"view-container"},this.renderCalendarView()),a("div",{class:"contextual-panel"}))))}get elm(){return s(this)}};v.style=m;export{v as goat_calendar};
//# sourceMappingURL=p-0872749a.entry.js.map
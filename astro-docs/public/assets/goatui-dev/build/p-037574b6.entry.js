import{r as t,h as i,H as s,g as e}from"./p-6592004b.js";import{l as h}from"./p-96630149.js";const a="1.27.0";async function u(){await h(`https://cdn.jsdelivr.net/npm/prismjs@${a}/components/prism-core.min.js`);await h(`https://cdn.jsdelivr.net/npm/prismjs@${a}/plugins/autoloader/prism-autoloader.min.js`)}function n(t,i,s){return s={path:i,exports:{},require:function(t,i){return r()}},t(s,s.exports),s.exports}function r(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}function f(t){this.__parent=t;this.__character_count=0;this.__indent_count=-1;this.__alignment_count=0;this.__wrap_point_index=0;this.__wrap_point_character_count=0;this.__wrap_point_indent_count=-1;this.__wrap_point_alignment_count=0;this.__items=[]}f.prototype.clone_empty=function(){var t=new f(this.__parent);t.set_indent(this.__indent_count,this.__alignment_count);return t};f.prototype.item=function(t){if(t<0){return this.__items[this.__items.length+t]}else{return this.__items[t]}};f.prototype.has_match=function(t){for(var i=this.__items.length-1;i>=0;i--){if(this.__items[i].match(t)){return true}}return false};f.prototype.set_indent=function(t,i){if(this.is_empty()){this.__indent_count=t||0;this.__alignment_count=i||0;this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count)}};f.prototype._set_wrap_point=function(){if(this.__parent.wrap_line_length){this.__wrap_point_index=this.__items.length;this.__wrap_point_character_count=this.__character_count;this.__wrap_point_indent_count=this.__parent.next_line.__indent_count;this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count}};f.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count};f.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count);t.__items=this.__items.slice(this.__wrap_point_index);this.__items=this.__items.slice(0,this.__wrap_point_index);t.__character_count+=this.__character_count-this.__wrap_point_character_count;this.__character_count=this.__wrap_point_character_count;if(t.__items[0]===" "){t.__items.splice(0,1);t.__character_count-=1}return true}return false};f.prototype.is_empty=function(){return this.__items.length===0};f.prototype.last=function(){if(!this.is_empty()){return this.__items[this.__items.length-1]}else{return null}};f.prototype.push=function(t){this.__items.push(t);var i=t.lastIndexOf("\n");if(i!==-1){this.__character_count=t.length-i}else{this.__character_count+=t.length}};f.prototype.pop=function(){var t=null;if(!this.is_empty()){t=this.__items.pop();this.__character_count-=t.length}return t};f.prototype._remove_indent=function(){if(this.__indent_count>0){this.__indent_count-=1;this.__character_count-=this.__parent.indent_size}};f.prototype._remove_wrap_indent=function(){if(this.__wrap_point_indent_count>0){this.__wrap_point_indent_count-=1}};f.prototype.trim=function(){while(this.last()===" "){this.__items.pop();this.__character_count-=1}};f.prototype.toString=function(){var t="";if(this.is_empty()){if(this.__parent.indent_empty_lines){t=this.__parent.get_indent_string(this.__indent_count)}}else{t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count);t+=this.__items.join("")}return t};function o(t,i){this.__cache=[""];this.__indent_size=t.indent_size;this.__indent_string=t.indent_char;if(!t.indent_with_tabs){this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)}i=i||"";if(t.indent_level>0){i=new Array(t.indent_level+1).join(this.__indent_string)}this.__base_string=i;this.__base_string_length=i.length}o.prototype.get_indent_size=function(t,i){var s=this.__base_string_length;i=i||0;if(t<0){s=0}s+=t*this.__indent_size;s+=i;return s};o.prototype.get_indent_string=function(t,i){var s=this.__base_string;i=i||0;if(t<0){t=0;s=""}i+=t*this.__indent_size;this.__ensure_cache(i);s+=this.__cache[i];return s};o.prototype.__ensure_cache=function(t){while(t>=this.__cache.length){this.__add_column()}};o.prototype.__add_column=function(){var t=this.__cache.length;var i=0;var s="";if(this.__indent_size&&t>=this.__indent_size){i=Math.floor(t/this.__indent_size);t-=i*this.__indent_size;s=new Array(i+1).join(this.__indent_string)}if(t){s+=new Array(t+1).join(" ")}this.__cache.push(s)};function l(t,i){this.__indent_cache=new o(t,i);this.raw=false;this._end_with_newline=t.end_with_newline;this.indent_size=t.indent_size;this.wrap_line_length=t.wrap_line_length;this.indent_empty_lines=t.indent_empty_lines;this.__lines=[];this.previous_line=null;this.current_line=null;this.next_line=new f(this);this.space_before_token=false;this.non_breaking_space=false;this.previous_token_wrapped=false;this.__add_outputline()}l.prototype.__add_outputline=function(){this.previous_line=this.current_line;this.current_line=this.next_line.clone_empty();this.__lines.push(this.current_line)};l.prototype.get_line_number=function(){return this.__lines.length};l.prototype.get_indent_string=function(t,i){return this.__indent_cache.get_indent_string(t,i)};l.prototype.get_indent_size=function(t,i){return this.__indent_cache.get_indent_size(t,i)};l.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()};l.prototype.add_new_line=function(t){if(this.is_empty()||!t&&this.just_added_newline()){return false}if(!this.raw){this.__add_outputline()}return true};l.prototype.get_code=function(t){this.trim(true);var i=this.current_line.pop();if(i){if(i[i.length-1]==="\n"){i=i.replace(/\n+$/g,"")}this.current_line.push(i)}if(this._end_with_newline){this.__add_outputline()}var s=this.__lines.join("\n");if(t!=="\n"){s=s.replace(/[\n]/g,t)}return s};l.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()};l.prototype.set_indent=function(t,i){t=t||0;i=i||0;this.next_line.set_indent(t,i);if(this.__lines.length>1){this.current_line.set_indent(t,i);return true}this.current_line.set_indent();return false};l.prototype.add_raw_token=function(t){for(var i=0;i<t.newlines;i++){this.__add_outputline()}this.current_line.set_indent(-1);this.current_line.push(t.whitespace_before);this.current_line.push(t.text);this.space_before_token=false;this.non_breaking_space=false;this.previous_token_wrapped=false};l.prototype.add_token=function(t){this.__add_space_before_token();this.current_line.push(t);this.space_before_token=false;this.non_breaking_space=false;this.previous_token_wrapped=this.current_line._allow_wrap()};l.prototype.__add_space_before_token=function(){if(this.space_before_token&&!this.just_added_newline()){if(!this.non_breaking_space){this.set_wrap_point()}this.current_line.push(" ")}};l.prototype.remove_indent=function(t){var i=this.__lines.length;while(t<i){this.__lines[t]._remove_indent();t++}this.current_line._remove_wrap_indent()};l.prototype.trim=function(t){t=t===undefined?false:t;this.current_line.trim();while(t&&this.__lines.length>1&&this.current_line.is_empty()){this.__lines.pop();this.current_line=this.__lines[this.__lines.length-1];this.current_line.trim()}this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null};l.prototype.just_added_newline=function(){return this.current_line.is_empty()};l.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()};l.prototype.ensure_empty_line_above=function(t,i){var s=this.__lines.length-2;while(s>=0){var e=this.__lines[s];if(e.is_empty()){break}else if(e.item(0).indexOf(t)!==0&&e.item(-1)!==i){this.__lines.splice(s+1,0,new f(this));this.previous_line=this.__lines[this.__lines.length-2];break}s--}};var c=l;var d={Output:c};function v(t,i,s,e){this.type=t;this.text=i;this.comments_before=null;this.newlines=s||0;this.whitespace_before=e||"";this.parent=null;this.next=null;this.previous=null;this.opened=null;this.closed=null;this.directives=null}var b=v;var p={Token:b};var m=n((function(t,i){var s="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a";var e="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a";var h="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc";var a="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f";var u="(?:\\\\u[0-9a-fA-F]{4}|["+s+h+"])";var n="(?:\\\\u[0-9a-fA-F]{4}|["+e+h+a+"])*";i.identifier=new RegExp(u+n,"g");i.identifierStart=new RegExp(u);i.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+e+h+a+"])+");i.newline=/[\n\r\u2028\u2029]/;i.lineBreak=new RegExp("\r\n|"+i.newline.source);i.allLineBreaks=new RegExp(i.lineBreak.source,"g")}));function g(t,i){this.raw_options=k(t,i);this.disabled=this._get_boolean("disabled");this.eol=this._get_characters("eol","auto");this.end_with_newline=this._get_boolean("end_with_newline");this.indent_size=this._get_number("indent_size",4);this.indent_char=this._get_characters("indent_char"," ");this.indent_level=this._get_number("indent_level");this.preserve_newlines=this._get_boolean("preserve_newlines",true);this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786);if(!this.preserve_newlines){this.max_preserve_newlines=0}this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="\t");if(this.indent_with_tabs){this.indent_char="\t";if(this.indent_size===1){this.indent_size=4}}this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char"));this.indent_empty_lines=this._get_boolean("indent_empty_lines");this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}g.prototype._get_array=function(t,i){var s=this.raw_options[t];var e=i||[];if(typeof s==="object"){if(s!==null&&typeof s.concat==="function"){e=s.concat()}}else if(typeof s==="string"){e=s.split(/[^a-zA-Z0-9_\/\-]+/)}return e};g.prototype._get_boolean=function(t,i){var s=this.raw_options[t];var e=s===undefined?!!i:!!s;return e};g.prototype._get_characters=function(t,i){var s=this.raw_options[t];var e=i||"";if(typeof s==="string"){e=s.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")}return e};g.prototype._get_number=function(t,i){var s=this.raw_options[t];i=parseInt(i,10);if(isNaN(i)){i=0}var e=parseInt(s,10);if(isNaN(e)){e=i}return e};g.prototype._get_selection=function(t,i,s){var e=this._get_selection_list(t,i,s);if(e.length!==1){throw new Error("Invalid Option Value: The option '"+t+"' can only be one of the following values:\n"+i+"\nYou passed in: '"+this.raw_options[t]+"'")}return e[0]};g.prototype._get_selection_list=function(t,i,s){if(!i||i.length===0){throw new Error("Selection list cannot be empty.")}s=s||[i[0]];if(!this._is_valid_selection(s,i)){throw new Error("Invalid Default Value!")}var e=this._get_array(t,s);if(!this._is_valid_selection(e,i)){throw new Error("Invalid Option Value: The option '"+t+"' can contain only the following values:\n"+i+"\nYou passed in: '"+this.raw_options[t]+"'")}return e};g.prototype._is_valid_selection=function(t,i){return t.length&&i.length&&!t.some((function(t){return i.indexOf(t)===-1}))};function k(t,i){var s={};t=w(t);var e;for(e in t){if(e!==i){s[e]=t[e]}}if(i&&t[i]){for(e in t[i]){s[e]=t[i][e]}}return s}function w(t){var i={};var s;for(s in t){var e=s.replace(/-/g,"_");i[e]=t[s]}return i}var x=g;var _=w;var y=k;var E={Options:x,normalizeOpts:_,mergeOpts:y};var T=E.Options;var A=["before-newline","after-newline","preserve-newline"];function N(t){T.call(this,t,"js");var i=this.raw_options.brace_style||null;if(i==="expand-strict"){this.raw_options.brace_style="expand"}else if(i==="collapse-preserve-inline"){this.raw_options.brace_style="collapse,preserve-inline"}else if(this.raw_options.braces_on_own_line!==undefined){this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse"}var s=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=false;this.brace_style="collapse";for(var e=0;e<s.length;e++){if(s[e]==="preserve-inline"){this.brace_preserve_inline=true}else{this.brace_style=s[e]}}this.unindent_chained_methods=this._get_boolean("unindent_chained_methods");this.break_chained_methods=this._get_boolean("break_chained_methods");this.space_in_paren=this._get_boolean("space_in_paren");this.space_in_empty_paren=this._get_boolean("space_in_empty_paren");this.jslint_happy=this._get_boolean("jslint_happy");this.space_after_anon_function=this._get_boolean("space_after_anon_function");this.space_after_named_function=this._get_boolean("space_after_named_function");this.keep_array_indentation=this._get_boolean("keep_array_indentation");this.space_before_conditional=this._get_boolean("space_before_conditional",true);this.unescape_strings=this._get_boolean("unescape_strings");this.e4x=this._get_boolean("e4x");this.comma_first=this._get_boolean("comma_first");this.operator_position=this._get_selection("operator_position",A);this.test_output_raw=this._get_boolean("test_output_raw");if(this.jslint_happy){this.space_after_anon_function=true}}N.prototype=new T;var O=N;var j={Options:O};var C=RegExp.prototype.hasOwnProperty("sticky");function R(t){this.__input=t||"";this.__input_length=this.__input.length;this.__position=0}R.prototype.restart=function(){this.__position=0};R.prototype.back=function(){if(this.__position>0){this.__position-=1}};R.prototype.hasNext=function(){return this.__position<this.__input_length};R.prototype.next=function(){var t=null;if(this.hasNext()){t=this.__input.charAt(this.__position);this.__position+=1}return t};R.prototype.peek=function(t){var i=null;t=t||0;t+=this.__position;if(t>=0&&t<this.__input_length){i=this.__input.charAt(t)}return i};R.prototype.__match=function(t,i){t.lastIndex=i;var s=t.exec(this.__input);if(s&&!(C&&t.sticky)){if(s.index!==i){s=null}}return s};R.prototype.test=function(t,i){i=i||0;i+=this.__position;if(i>=0&&i<this.__input_length){return!!this.__match(t,i)}else{return false}};R.prototype.testChar=function(t,i){var s=this.peek(i);t.lastIndex=0;return s!==null&&t.test(s)};R.prototype.match=function(t){var i=this.__match(t,this.__position);if(i){this.__position+=i[0].length}else{i=null}return i};R.prototype.read=function(t,i,s){var e="";var h;if(t){h=this.match(t);if(h){e+=h[0]}}if(i&&(h||!t)){e+=this.readUntil(i,s)}return e};R.prototype.readUntil=function(t,i){var s="";var e=this.__position;t.lastIndex=this.__position;var h=t.exec(this.__input);if(h){e=h.index;if(i){e+=h[0].length}}else{e=this.__input_length}s=this.__input.substring(this.__position,e);this.__position=e;return s};R.prototype.readUntilAfter=function(t){return this.readUntil(t,true)};R.prototype.get_regexp=function(t,i){var s=null;var e="g";if(i&&C){e="y"}if(typeof t==="string"&&t!==""){s=new RegExp(t,e)}else if(t){s=new RegExp(t.source,e)}return s};R.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))};R.prototype.peekUntilAfter=function(t){var i=this.__position;var s=this.readUntilAfter(t);this.__position=i;return s};R.prototype.lookBack=function(t){var i=this.__position-1;return i>=t.length&&this.__input.substring(i-t.length,i).toLowerCase()===t};var K=R;var S={InputScanner:K};function z(t){this.__tokens=[];this.__tokens_length=this.__tokens.length;this.__position=0;this.__parent_token=t}z.prototype.restart=function(){this.__position=0};z.prototype.isEmpty=function(){return this.__tokens_length===0};z.prototype.hasNext=function(){return this.__position<this.__tokens_length};z.prototype.next=function(){var t=null;if(this.hasNext()){t=this.__tokens[this.__position];this.__position+=1}return t};z.prototype.peek=function(t){var i=null;t=t||0;t+=this.__position;if(t>=0&&t<this.__tokens_length){i=this.__tokens[t]}return i};z.prototype.add=function(t){if(this.__parent_token){t.parent=this.__parent_token}this.__tokens.push(t);this.__tokens_length+=1};var L=z;var $={TokenStream:L};function D(t,i){this._input=t;this._starting_pattern=null;this._match_pattern=null;this._until_pattern=null;this._until_after=false;if(i){this._starting_pattern=this._input.get_regexp(i._starting_pattern,true);this._match_pattern=this._input.get_regexp(i._match_pattern,true);this._until_pattern=this._input.get_regexp(i._until_pattern);this._until_after=i._until_after}}D.prototype.read=function(){var t=this._input.read(this._starting_pattern);if(!this._starting_pattern||t){t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)}return t};D.prototype.read_match=function(){return this._input.match(this._match_pattern)};D.prototype.until_after=function(t){var i=this._create();i._until_after=true;i._until_pattern=this._input.get_regexp(t);i._update();return i};D.prototype.until=function(t){var i=this._create();i._until_after=false;i._until_pattern=this._input.get_regexp(t);i._update();return i};D.prototype.starting_with=function(t){var i=this._create();i._starting_pattern=this._input.get_regexp(t,true);i._update();return i};D.prototype.matching=function(t){var i=this._create();i._match_pattern=this._input.get_regexp(t,true);i._update();return i};D.prototype._create=function(){return new D(this._input,this)};D.prototype._update=function(){};var M=D;var W={Pattern:M};var I=W.Pattern;function P(t,i){I.call(this,t,i);if(i){this._line_regexp=this._input.get_regexp(i._line_regexp)}else{this.__set_whitespace_patterns("","")}this.newline_count=0;this.whitespace_before_token=""}P.prototype=new I;P.prototype.__set_whitespace_patterns=function(t,i){t+="\\t ";i+="\\n\\r";this._match_pattern=this._input.get_regexp("["+t+i+"]+",true);this._newline_regexp=this._input.get_regexp("\\r\\n|["+i+"]")};P.prototype.read=function(){this.newline_count=0;this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(t===" "){this.whitespace_before_token=" "}else if(t){var i=this.__split(this._newline_regexp,t);this.newline_count=i.length-1;this.whitespace_before_token=i[this.newline_count]}return t};P.prototype.matching=function(t,i){var s=this._create();s.__set_whitespace_patterns(t,i);s._update();return s};P.prototype._create=function(){return new P(this._input,this)};P.prototype.__split=function(t,i){t.lastIndex=0;var s=0;var e=[];var h=t.exec(i);while(h){e.push(i.substring(s,h.index));s=h.index+h[0].length;h=t.exec(i)}if(s<i.length){e.push(i.substring(s,i.length))}else{e.push("")}return e};var B=P;var F={WhitespacePattern:B};var q=S.InputScanner;var U=p.Token;var G=$.TokenStream;var V=F.WhitespacePattern;var X={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"};var Q=function(t,i){this._input=new q(t);this._options=i||{};this.__tokens=null;this._patterns={};this._patterns.whitespace=new V(this._input)};Q.prototype.tokenize=function(){this._input.restart();this.__tokens=new G;this._reset();var t;var i=new U(X.START,"");var s=null;var e=[];var h=new G;while(i.type!==X.EOF){t=this._get_next_token(i,s);while(this._is_comment(t)){h.add(t);t=this._get_next_token(i,s)}if(!h.isEmpty()){t.comments_before=h;h=new G}t.parent=s;if(this._is_opening(t)){e.push(s);s=t}else if(s&&this._is_closing(t,s)){t.opened=s;s.closed=t;s=e.pop();t.parent=s}t.previous=i;i.next=t;this.__tokens.add(t);i=t}return this.__tokens};Q.prototype._is_first_token=function(){return this.__tokens.isEmpty()};Q.prototype._reset=function(){};Q.prototype._get_next_token=function(t,i){this._readWhitespace();var s=this._input.read(/.+/g);if(s){return this._create_token(X.RAW,s)}else{return this._create_token(X.EOF,"")}};Q.prototype._is_comment=function(t){return false};Q.prototype._is_opening=function(t){return false};Q.prototype._is_closing=function(t,i){return false};Q.prototype._create_token=function(t,i){var s=new U(t,i,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return s};Q.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};var Z=Q;var Y=X;var H={Tokenizer:Z,TOKEN:Y};function J(t,i){t=typeof t==="string"?t:t.source;i=typeof i==="string"?i:i.source;this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+i,"g");this.__directive_pattern=/ (\w+)[:](\w+)/g;this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+i,"g")}J.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern)){return null}var i={};this.__directive_pattern.lastIndex=0;var s=this.__directive_pattern.exec(t);while(s){i[s[1]]=s[2];s=this.__directive_pattern.exec(t)}return i};J.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)};var tt=J;var it={Directives:tt};var st=W.Pattern;var et={django:false,erb:false,handlebars:false,php:false,smarty:false};function ht(t,i){st.call(this,t,i);this.__template_pattern=null;this._disabled=Object.assign({},et);this._excluded=Object.assign({},et);if(i){this.__template_pattern=this._input.get_regexp(i.__template_pattern);this._excluded=Object.assign(this._excluded,i._excluded);this._disabled=Object.assign(this._disabled,i._disabled)}var s=new st(t);this.__patterns={handlebars_comment:s.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:s.starting_with(/{{{/).until_after(/}}}/),handlebars:s.starting_with(/{{/).until_after(/}}/),php:s.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:s.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:s.starting_with(/{%/).until_after(/%}/),django_value:s.starting_with(/{{/).until_after(/}}/),django_comment:s.starting_with(/{#/).until_after(/#}/),smarty:s.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:s.starting_with(/{\*/).until_after(/\*}/),smarty_literal:s.starting_with(/{literal}/).until_after(/{\/literal}/)}}ht.prototype=new st;ht.prototype._create=function(){return new ht(this._input,this)};ht.prototype._update=function(){this.__set_templated_pattern()};ht.prototype.disable=function(t){var i=this._create();i._disabled[t]=true;i._update();return i};ht.prototype.read_options=function(t){var i=this._create();for(var s in et){i._disabled[s]=t.templating.indexOf(s)===-1}i._update();return i};ht.prototype.exclude=function(t){var i=this._create();i._excluded[t]=true;i._update();return i};ht.prototype.read=function(){var t="";if(this._match_pattern){t=this._input.read(this._starting_pattern)}else{t=this._input.read(this._starting_pattern,this.__template_pattern)}var i=this._read_template();while(i){if(this._match_pattern){i+=this._input.read(this._match_pattern)}else{i+=this._input.readUntil(this.__template_pattern)}t+=i;i=this._read_template()}if(this._until_after){t+=this._input.readUntilAfter(this._until_pattern)}return t};ht.prototype.__set_templated_pattern=function(){var t=[];if(!this._disabled.php){t.push(this.__patterns.php._starting_pattern.source)}if(!this._disabled.handlebars){t.push(this.__patterns.handlebars._starting_pattern.source)}if(!this._disabled.erb){t.push(this.__patterns.erb._starting_pattern.source)}if(!this._disabled.django){t.push(this.__patterns.django._starting_pattern.source);t.push(this.__patterns.django_value._starting_pattern.source);t.push(this.__patterns.django_comment._starting_pattern.source)}if(!this._disabled.smarty){t.push(this.__patterns.smarty._starting_pattern.source)}if(this._until_pattern){t.push(this._until_pattern.source)}this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")};ht.prototype._read_template=function(){var t="";var i=this._input.peek();if(i==="<"){var s=this._input.peek(1);if(!this._disabled.php&&!this._excluded.php&&s==="?"){t=t||this.__patterns.php.read()}if(!this._disabled.erb&&!this._excluded.erb&&s==="%"){t=t||this.__patterns.erb.read()}}else if(i==="{"){if(!this._disabled.handlebars&&!this._excluded.handlebars){t=t||this.__patterns.handlebars_comment.read();t=t||this.__patterns.handlebars_unescaped.read();t=t||this.__patterns.handlebars.read()}if(!this._disabled.django){if(!this._excluded.django&&!this._excluded.handlebars){t=t||this.__patterns.django_value.read()}if(!this._excluded.django){t=t||this.__patterns.django_comment.read();t=t||this.__patterns.django.read()}}if(!this._disabled.smarty){if(this._disabled.django&&this._disabled.handlebars){t=t||this.__patterns.smarty_comment.read();t=t||this.__patterns.smarty_literal.read();t=t||this.__patterns.smarty.read()}}}return t};var at=ht;var ut={TemplatablePattern:at};var nt=S.InputScanner;var rt=H.Tokenizer;var ft=H.TOKEN;var ot=it.Directives;var lt=W.Pattern;var ct=ut.TemplatablePattern;function dt(t,i){return i.indexOf(t)!==-1}var vt={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:ft.START,RAW:ft.RAW,EOF:ft.EOF};var bt=new ot(/\/\*/,/\*\//);var pt=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/;var mt=/[0-9]/;var gt=/[^\d\.]/;var kt=(">>> === !== &&= ??= ||= "+"<< && >= ** != == <= >> || ?? |> "+"< / - + > : & % ? ^ | *").split(" ");var wt=">>>= "+"... >>= <<= === >>> !== **= &&= ??= ||= "+"=> ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> "+"= ! ? > < : / ^ - + * & % ~ |";wt=wt.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");wt="\\?\\.(?!\\d) "+wt;wt=wt.replace(/ /g,"|");var xt=new RegExp(wt);var _t="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var yt=_t.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]);var Et=new RegExp("^(?:"+yt.join("|")+")$");var Tt;var At=function(t,i){rt.call(this,t,i);this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var s=new lt(this._input);var e=new ct(this._input).read_options(this._options);this.__patterns={template:e,identifier:e.starting_with(m.identifier).matching(m.identifierMatch),number:s.matching(pt),punct:s.matching(xt),comment:s.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:s.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:s.matching(/<!--/),html_comment_end:s.matching(/-->/),include:s.starting_with(/#include/).until_after(m.lineBreak),shebang:s.starting_with(/#!/).until_after(m.lineBreak),xml:s.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\[CDATA\[[^\]]*?\]\]|)(\s*{[^}]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\s*(\/?)\s*>/),single_quote:e.until(/['\\\n\r\u2028\u2029]/),double_quote:e.until(/["\\\n\r\u2028\u2029]/),template_text:e.until(/[`\\$]/),template_expression:e.until(/[`}\\]/)}};At.prototype=new rt;At.prototype._is_comment=function(t){return t.type===vt.COMMENT||t.type===vt.BLOCK_COMMENT||t.type===vt.UNKNOWN};At.prototype._is_opening=function(t){return t.type===vt.START_BLOCK||t.type===vt.START_EXPR};At.prototype._is_closing=function(t,i){return(t.type===vt.END_BLOCK||t.type===vt.END_EXPR)&&(i&&(t.text==="]"&&i.text==="["||t.text===")"&&i.text==="("||t.text==="}"&&i.text==="{"))};At.prototype._reset=function(){Tt=false};At.prototype._get_next_token=function(t,i){var s=null;this._readWhitespace();var e=this._input.peek();if(e===null){return this._create_token(vt.EOF,"")}s=s||this._read_non_javascript(e);s=s||this._read_string(e);s=s||this._read_pair(e,this._input.peek(1));s=s||this._read_word(t);s=s||this._read_singles(e);s=s||this._read_comment(e);s=s||this._read_regexp(e,t);s=s||this._read_xml(e,t);s=s||this._read_punctuation();s=s||this._create_token(vt.UNKNOWN,this._input.next());return s};At.prototype._read_word=function(t){var i;i=this.__patterns.identifier.read();if(i!==""){i=i.replace(m.allLineBreaks,"\n");if(!(t.type===vt.DOT||t.type===vt.RESERVED&&(t.text==="set"||t.text==="get"))&&Et.test(i)){if((i==="in"||i==="of")&&(t.type===vt.WORD||t.type===vt.STRING)){return this._create_token(vt.OPERATOR,i)}return this._create_token(vt.RESERVED,i)}return this._create_token(vt.WORD,i)}i=this.__patterns.number.read();if(i!==""){return this._create_token(vt.WORD,i)}};At.prototype._read_singles=function(t){var i=null;if(t==="("||t==="["){i=this._create_token(vt.START_EXPR,t)}else if(t===")"||t==="]"){i=this._create_token(vt.END_EXPR,t)}else if(t==="{"){i=this._create_token(vt.START_BLOCK,t)}else if(t==="}"){i=this._create_token(vt.END_BLOCK,t)}else if(t===";"){i=this._create_token(vt.SEMICOLON,t)}else if(t==="."&&gt.test(this._input.peek(1))){i=this._create_token(vt.DOT,t)}else if(t===","){i=this._create_token(vt.COMMA,t)}if(i){this._input.next()}return i};At.prototype._read_pair=function(t,i){var s=null;if(t==="#"&&i==="{"){s=this._create_token(vt.START_BLOCK,t+i)}if(s){this._input.next();this._input.next()}return s};At.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(t!==""){if(t==="="){return this._create_token(vt.EQUALS,t)}else if(t==="?."){return this._create_token(vt.DOT,t)}else{return this._create_token(vt.OPERATOR,t)}}};At.prototype._read_non_javascript=function(t){var i="";if(t==="#"){if(this._is_first_token()){i=this.__patterns.shebang.read();if(i){return this._create_token(vt.UNKNOWN,i.trim()+"\n")}}i=this.__patterns.include.read();if(i){return this._create_token(vt.UNKNOWN,i.trim()+"\n")}t=this._input.next();var s="#";if(this._input.hasNext()&&this._input.testChar(mt)){do{t=this._input.next();s+=t}while(this._input.hasNext()&&t!=="#"&&t!=="=");if(t==="#");else if(this._input.peek()==="["&&this._input.peek(1)==="]"){s+="[]";this._input.next();this._input.next()}else if(this._input.peek()==="{"&&this._input.peek(1)==="}"){s+="{}";this._input.next();this._input.next()}return this._create_token(vt.WORD,s)}this._input.back()}else if(t==="<"&&this._is_first_token()){i=this.__patterns.html_comment_start.read();if(i){while(this._input.hasNext()&&!this._input.testChar(m.newline)){i+=this._input.next()}Tt=true;return this._create_token(vt.COMMENT,i)}}else if(Tt&&t==="-"){i=this.__patterns.html_comment_end.read();if(i){Tt=false;return this._create_token(vt.COMMENT,i)}}return null};At.prototype._read_comment=function(t){var i=null;if(t==="/"){var s="";if(this._input.peek(1)==="*"){s=this.__patterns.block_comment.read();var e=bt.get_directives(s);if(e&&e.ignore==="start"){s+=bt.readIgnored(this._input)}s=s.replace(m.allLineBreaks,"\n");i=this._create_token(vt.BLOCK_COMMENT,s);i.directives=e}else if(this._input.peek(1)==="/"){s=this.__patterns.comment.read();i=this._create_token(vt.COMMENT,s)}}return i};At.prototype._read_string=function(t){if(t==="`"||t==="'"||t==='"'){var i=this._input.next();this.has_char_escapes=false;if(t==="`"){i+=this._read_string_recursive("`",true,"${")}else{i+=this._read_string_recursive(t)}if(this.has_char_escapes&&this._options.unescape_strings){i=Nt(i)}if(this._input.peek()===t){i+=this._input.next()}i=i.replace(m.allLineBreaks,"\n");return this._create_token(vt.STRING,i)}return null};At.prototype._allow_regexp_or_xml=function(t){return t.type===vt.RESERVED&&dt(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===vt.END_EXPR&&t.text===")"&&t.opened.previous.type===vt.RESERVED&&dt(t.opened.previous.text,["if","while","for"])||dt(t.type,[vt.COMMENT,vt.START_EXPR,vt.START_BLOCK,vt.START,vt.END_BLOCK,vt.OPERATOR,vt.EQUALS,vt.EOF,vt.SEMICOLON,vt.COMMA])};At.prototype._read_regexp=function(t,i){if(t==="/"&&this._allow_regexp_or_xml(i)){var s=this._input.next();var e=false;var h=false;while(this._input.hasNext()&&((e||h||this._input.peek()!==t)&&!this._input.testChar(m.newline))){s+=this._input.peek();if(!e){e=this._input.peek()==="\\";if(this._input.peek()==="["){h=true}else if(this._input.peek()==="]"){h=false}}else{e=false}this._input.next()}if(this._input.peek()===t){s+=this._input.next();s+=this._input.read(m.identifier)}return this._create_token(vt.STRING,s)}return null};At.prototype._read_xml=function(t,i){if(this._options.e4x&&t==="<"&&this._allow_regexp_or_xml(i)){var s="";var e=this.__patterns.xml.read_match();if(e){var h=e[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}");var a=h.indexOf("{")===0;var u=0;while(e){var n=!!e[1];var r=e[2];var f=!!e[e.length-1]||r.slice(0,8)==="![CDATA[";if(!f&&(r===h||a&&r.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))){if(n){--u}else{++u}}s+=e[0];if(u<=0){break}e=this.__patterns.xml.read_match()}if(!e){s+=this._input.match(/[\s\S]*/g)[0]}s=s.replace(m.allLineBreaks,"\n");return this._create_token(vt.STRING,s)}}return null};function Nt(t){var i="",s=0;var e=new nt(t);var h=null;while(e.hasNext()){h=e.match(/([\s]|[^\\]|\\\\)+/g);if(h){i+=h[0]}if(e.peek()==="\\"){e.next();if(e.peek()==="x"){h=e.match(/x([0-9A-Fa-f]{2})/g)}else if(e.peek()==="u"){h=e.match(/u([0-9A-Fa-f]{4})/g)}else{i+="\\";if(e.hasNext()){i+=e.next()}continue}if(!h){return t}s=parseInt(h[1],16);if(s>126&&s<=255&&h[0].indexOf("x")===0){return t}else if(s>=0&&s<32){i+="\\"+h[0];continue}else if(s===34||s===39||s===92){i+="\\"+String.fromCharCode(s)}else{i+=String.fromCharCode(s)}}}return i}At.prototype._read_string_recursive=function(t,i,s){var e;var h;if(t==="'"){h=this.__patterns.single_quote}else if(t==='"'){h=this.__patterns.double_quote}else if(t==="`"){h=this.__patterns.template_text}else if(t==="}"){h=this.__patterns.template_expression}var a=h.read();var u="";while(this._input.hasNext()){u=this._input.next();if(u===t||!i&&m.newline.test(u)){this._input.back();break}else if(u==="\\"&&this._input.hasNext()){e=this._input.peek();if(e==="x"||e==="u"){this.has_char_escapes=true}else if(e==="\r"&&this._input.peek(1)==="\n"){this._input.next()}u+=this._input.next()}else if(s){if(s==="${"&&u==="$"&&this._input.peek()==="{"){u+=this._input.next()}if(s===u){if(t==="`"){u+=this._read_string_recursive("}",i,"`")}else{u+=this._read_string_recursive("`",i,"${")}if(this._input.hasNext()){u+=this._input.next()}}}u+=h.read();a+=u}return a};var Ot=At;var jt=vt;var Ct=kt.slice();var Rt=_t.slice();var Kt={Tokenizer:Ot,TOKEN:jt,positionable_operators:Ct,line_starters:Rt};var St=d.Output;var zt=p.Token;var Lt=j.Options;var $t=Kt.Tokenizer;var Dt=Kt.line_starters;var Mt=Kt.positionable_operators;var Wt=Kt.TOKEN;function It(t,i){return i.indexOf(t)!==-1}function Pt(t){return t.replace(/^\s+/g,"")}function Bt(t){var i={};for(var s=0;s<t.length;s++){i[t[s].replace(/-/g,"_")]=t[s]}return i}function Ft(t,i){return t&&t.type===Wt.RESERVED&&t.text===i}function qt(t,i){return t&&t.type===Wt.RESERVED&&It(t.text,i)}var Ut=["case","return","do","if","throw","else","await","break","continue","async"];var Gt=["before-newline","after-newline","preserve-newline"];var Vt=Bt(Gt);var Xt=[Vt.before_newline,Vt.preserve_newline];var Qt={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function Zt(t,i){if(i.multiline_frame||i.mode===Qt.ForInitializer||i.mode===Qt.Conditional){return}t.remove_indent(i.start_line_index)}function Yt(t){t=t.replace(m.allLineBreaks,"\n");var i=[],s=t.indexOf("\n");while(s!==-1){i.push(t.substring(0,s));t=t.substring(s+1);s=t.indexOf("\n")}if(t.length){i.push(t)}return i}function Ht(t){return t===Qt.ArrayLiteral}function Jt(t){return It(t,[Qt.Expression,Qt.ForInitializer,Qt.Conditional])}function ti(t,i){for(var s=0;s<t.length;s++){var e=t[s].trim();if(e.charAt(0)!==i){return false}}return true}function ii(t,i){var s=0,e=t.length,h;for(;s<e;s++){h=t[s];if(h&&h.indexOf(i)!==0){return false}}return true}function si(t,i){i=i||{};this._source_text=t||"";this._output=null;this._tokens=null;this._last_last_text=null;this._flags=null;this._previous_flags=null;this._flag_store=null;this._options=new Lt(i)}si.prototype.create_flags=function(t,i){var s=0;if(t){s=t.indentation_level;if(!this._output.just_added_newline()&&t.line_indent_level>s){s=t.line_indent_level}}var e={mode:i,parent:t,last_token:t?t.last_token:new zt(Wt.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:false,declaration_assignment:false,multiline_frame:false,inline_frame:false,if_block:false,else_block:false,class_start_block:false,do_block:false,do_while:false,import_block:false,in_case_statement:false,in_case:false,case_body:false,case_block:false,indentation_level:s,alignment:0,line_indent_level:t?t.line_indent_level:s,start_line_index:this._output.get_line_number(),ternary_depth:0};return e};si.prototype._reset=function(t){var i=t.match(/^[\t ]*/)[0];this._last_last_text="";this._output=new St(this._options,i);this._output.raw=this._options.test_output_raw;this._flag_store=[];this.set_mode(Qt.BlockStatement);var s=new $t(t,this._options);this._tokens=s.tokenize();return t};si.prototype.beautify=function(){if(this._options.disabled){return this._source_text}var t;var i=this._reset(this._source_text);var s=this._options.eol;if(this._options.eol==="auto"){s="\n";if(i&&m.lineBreak.test(i||"")){s=i.match(m.lineBreak)[0]}}var e=this._tokens.next();while(e){this.handle_token(e);this._last_last_text=this._flags.last_token.text;this._flags.last_token=e;e=this._tokens.next()}t=this._output.get_code(s);return t};si.prototype.handle_token=function(t,i){if(t.type===Wt.START_EXPR){this.handle_start_expr(t)}else if(t.type===Wt.END_EXPR){this.handle_end_expr(t)}else if(t.type===Wt.START_BLOCK){this.handle_start_block(t)}else if(t.type===Wt.END_BLOCK){this.handle_end_block(t)}else if(t.type===Wt.WORD){this.handle_word(t)}else if(t.type===Wt.RESERVED){this.handle_word(t)}else if(t.type===Wt.SEMICOLON){this.handle_semicolon(t)}else if(t.type===Wt.STRING){this.handle_string(t)}else if(t.type===Wt.EQUALS){this.handle_equals(t)}else if(t.type===Wt.OPERATOR){this.handle_operator(t)}else if(t.type===Wt.COMMA){this.handle_comma(t)}else if(t.type===Wt.BLOCK_COMMENT){this.handle_block_comment(t,i)}else if(t.type===Wt.COMMENT){this.handle_comment(t,i)}else if(t.type===Wt.DOT){this.handle_dot(t)}else if(t.type===Wt.EOF){this.handle_eof(t)}else if(t.type===Wt.UNKNOWN){this.handle_unknown(t,i)}else{this.handle_unknown(t,i)}};si.prototype.handle_whitespace_and_comments=function(t,i){var s=t.newlines;var e=this._options.keep_array_indentation&&Ht(this._flags.mode);if(t.comments_before){var h=t.comments_before.next();while(h){this.handle_whitespace_and_comments(h,i);this.handle_token(h,i);h=t.comments_before.next()}}if(e){for(var a=0;a<s;a+=1){this.print_newline(a>0,i)}}else{if(this._options.max_preserve_newlines&&s>this._options.max_preserve_newlines){s=this._options.max_preserve_newlines}if(this._options.preserve_newlines){if(s>1){this.print_newline(false,i);for(var u=1;u<s;u+=1){this.print_newline(true,i)}}}}};var ei=["async","break","continue","return","throw","yield"];si.prototype.allow_wrap_or_preserved_newline=function(t,i){i=i===undefined?false:i;if(this._output.just_added_newline()){return}var s=this._options.preserve_newlines&&t.newlines||i;var e=It(this._flags.last_token.text,Mt)||It(t.text,Mt);if(e){var h=It(this._flags.last_token.text,Mt)&&It(this._options.operator_position,Xt)||It(t.text,Mt);s=s&&h}if(s){this.print_newline(false,true)}else if(this._options.wrap_line_length){if(qt(this._flags.last_token,ei)){return}this._output.set_wrap_point()}};si.prototype.print_newline=function(t,i){if(!i){if(this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==Wt.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")){var s=this._tokens.peek();while(this._flags.mode===Qt.Statement&&!(this._flags.if_block&&Ft(s,"else"))&&!this._flags.do_block){this.restore_mode()}}}if(this._output.add_new_line(t)){this._flags.multiline_frame=true}};si.prototype.print_token_line_indentation=function(t){if(this._output.just_added_newline()){if(this._options.keep_array_indentation&&t.newlines&&(t.text==="["||Ht(this._flags.mode))){this._output.current_line.set_indent(-1);this._output.current_line.push(t.whitespace_before);this._output.space_before_token=false}else if(this._output.set_indent(this._flags.indentation_level,this._flags.alignment)){this._flags.line_indent_level=this._flags.indentation_level}}};si.prototype.print_token=function(t){if(this._output.raw){this._output.add_raw_token(t);return}if(this._options.comma_first&&t.previous&&t.previous.type===Wt.COMMA&&this._output.just_added_newline()){if(this._output.previous_line.last()===","){var i=this._output.previous_line.pop();if(this._output.previous_line.is_empty()){this._output.previous_line.push(i);this._output.trim(true);this._output.current_line.pop();this._output.trim()}this.print_token_line_indentation(t);this._output.add_token(",");this._output.space_before_token=true}}this.print_token_line_indentation(t);this._output.non_breaking_space=true;this._output.add_token(t.text);if(this._output.previous_token_wrapped){this._flags.multiline_frame=true}};si.prototype.indent=function(){this._flags.indentation_level+=1;this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};si.prototype.deindent=function(){if(this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)){this._flags.indentation_level-=1;this._output.set_indent(this._flags.indentation_level,this._flags.alignment)}};si.prototype.set_mode=function(t){if(this._flags){this._flag_store.push(this._flags);this._previous_flags=this._flags}else{this._previous_flags=this.create_flags(null,t)}this._flags=this.create_flags(this._previous_flags,t);this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};si.prototype.restore_mode=function(){if(this._flag_store.length>0){this._previous_flags=this._flags;this._flags=this._flag_store.pop();if(this._previous_flags.mode===Qt.Statement){Zt(this._output,this._previous_flags)}this._output.set_indent(this._flags.indentation_level,this._flags.alignment)}};si.prototype.start_of_object_property=function(){return this._flags.parent.mode===Qt.ObjectLiteral&&this._flags.mode===Qt.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||qt(this._flags.last_token,["get","set"]))};si.prototype.start_of_statement=function(t){var i=false;i=i||qt(this._flags.last_token,["var","let","const"])&&t.type===Wt.WORD;i=i||Ft(this._flags.last_token,"do");i=i||!(this._flags.parent.mode===Qt.ObjectLiteral&&this._flags.mode===Qt.Statement)&&qt(this._flags.last_token,ei)&&!t.newlines;i=i||Ft(this._flags.last_token,"else")&&!(Ft(t,"if")&&!t.comments_before);i=i||this._flags.last_token.type===Wt.END_EXPR&&(this._previous_flags.mode===Qt.ForInitializer||this._previous_flags.mode===Qt.Conditional);i=i||this._flags.last_token.type===Wt.WORD&&this._flags.mode===Qt.BlockStatement&&!this._flags.in_case&&!(t.text==="--"||t.text==="++")&&this._last_last_text!=="function"&&t.type!==Wt.WORD&&t.type!==Wt.RESERVED;i=i||this._flags.mode===Qt.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||qt(this._flags.last_token,["get","set"]));if(i){this.set_mode(Qt.Statement);this.indent();this.handle_whitespace_and_comments(t,true);if(!this.start_of_object_property()){this.allow_wrap_or_preserved_newline(t,qt(t,["do","for","if","while"]))}return true}return false};si.prototype.handle_start_expr=function(t){if(!this.start_of_statement(t)){this.handle_whitespace_and_comments(t)}var i=Qt.Expression;if(t.text==="["){if(this._flags.last_token.type===Wt.WORD||this._flags.last_token.text===")"){if(qt(this._flags.last_token,Dt)){this._output.space_before_token=true}this.print_token(t);this.set_mode(i);this.indent();if(this._options.space_in_paren){this._output.space_before_token=true}return}i=Qt.ArrayLiteral;if(Ht(this._flags.mode)){if(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}")){if(!this._options.keep_array_indentation){this.print_newline()}}}if(!It(this._flags.last_token.type,[Wt.START_EXPR,Wt.END_EXPR,Wt.WORD,Wt.OPERATOR,Wt.DOT])){this._output.space_before_token=true}}else{if(this._flags.last_token.type===Wt.RESERVED){if(this._flags.last_token.text==="for"){this._output.space_before_token=this._options.space_before_conditional;i=Qt.ForInitializer}else if(It(this._flags.last_token.text,["if","while","switch"])){this._output.space_before_token=this._options.space_before_conditional;i=Qt.Conditional}else if(It(this._flags.last_word,["await","async"])){this._output.space_before_token=true}else if(this._flags.last_token.text==="import"&&t.whitespace_before===""){this._output.space_before_token=false}else if(It(this._flags.last_token.text,Dt)||this._flags.last_token.text==="catch"){this._output.space_before_token=true}}else if(this._flags.last_token.type===Wt.EQUALS||this._flags.last_token.type===Wt.OPERATOR){if(!this.start_of_object_property()){this.allow_wrap_or_preserved_newline(t)}}else if(this._flags.last_token.type===Wt.WORD){this._output.space_before_token=false;var s=this._tokens.peek(-3);if(this._options.space_after_named_function&&s){var e=this._tokens.peek(-4);if(qt(s,["async","function"])||s.text==="*"&&qt(e,["async","function"])){this._output.space_before_token=true}else if(this._flags.mode===Qt.ObjectLiteral){if(s.text==="{"||s.text===","||s.text==="*"&&(e.text==="{"||e.text===",")){this._output.space_before_token=true}}else if(this._flags.parent&&this._flags.parent.class_start_block){this._output.space_before_token=true}}}else{this.allow_wrap_or_preserved_newline(t)}if(this._flags.last_token.type===Wt.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(It(this._last_last_text,["function","yield"])||this._flags.mode===Qt.ObjectLiteral&&It(this._last_last_text,["{",","]))){this._output.space_before_token=this._options.space_after_anon_function}}if(this._flags.last_token.text===";"||this._flags.last_token.type===Wt.START_BLOCK){this.print_newline()}else if(this._flags.last_token.type===Wt.END_EXPR||this._flags.last_token.type===Wt.START_EXPR||this._flags.last_token.type===Wt.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===Wt.COMMA){this.allow_wrap_or_preserved_newline(t,t.newlines)}this.print_token(t);this.set_mode(i);if(this._options.space_in_paren){this._output.space_before_token=true}this.indent()};si.prototype.handle_end_expr=function(t){while(this._flags.mode===Qt.Statement){this.restore_mode()}this.handle_whitespace_and_comments(t);if(this._flags.multiline_frame){this.allow_wrap_or_preserved_newline(t,t.text==="]"&&Ht(this._flags.mode)&&!this._options.keep_array_indentation)}if(this._options.space_in_paren){if(this._flags.last_token.type===Wt.START_EXPR&&!this._options.space_in_empty_paren){this._output.trim();this._output.space_before_token=false}else{this._output.space_before_token=true}}this.deindent();this.print_token(t);this.restore_mode();Zt(this._output,this._previous_flags);if(this._flags.do_while&&this._previous_flags.mode===Qt.Conditional){this._previous_flags.mode=Qt.Expression;this._flags.do_block=false;this._flags.do_while=false}};si.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var i=this._tokens.peek();var s=this._tokens.peek(1);if(this._flags.last_word==="switch"&&this._flags.last_token.type===Wt.END_EXPR){this.set_mode(Qt.BlockStatement);this._flags.in_case_statement=true}else if(this._flags.case_body){this.set_mode(Qt.BlockStatement)}else if(s&&(It(s.text,[":",","])&&It(i.type,[Wt.STRING,Wt.WORD,Wt.RESERVED])||It(i.text,["get","set","..."])&&It(s.type,[Wt.WORD,Wt.RESERVED]))){if(It(this._last_last_text,["class","interface"])&&!It(s.text,[":",","])){this.set_mode(Qt.BlockStatement)}else{this.set_mode(Qt.ObjectLiteral)}}else if(this._flags.last_token.type===Wt.OPERATOR&&this._flags.last_token.text==="=>"){this.set_mode(Qt.BlockStatement)}else if(It(this._flags.last_token.type,[Wt.EQUALS,Wt.START_EXPR,Wt.COMMA,Wt.OPERATOR])||qt(this._flags.last_token,["return","throw","import","default"])){this.set_mode(Qt.ObjectLiteral)}else{this.set_mode(Qt.BlockStatement)}if(this._flags.last_token){if(qt(this._flags.last_token.previous,["class","extends"])){this._flags.class_start_block=true}}var e=!i.comments_before&&i.text==="}";var h=e&&this._flags.last_word==="function"&&this._flags.last_token.type===Wt.END_EXPR;if(this._options.brace_preserve_inline){var a=0;var u=null;this._flags.inline_frame=true;do{a+=1;u=this._tokens.peek(a-1);if(u.newlines){this._flags.inline_frame=false;break}}while(u.type!==Wt.EOF&&!(u.type===Wt.END_BLOCK&&u.opened===t))}if((this._options.brace_style==="expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame){if(this._flags.last_token.type!==Wt.OPERATOR&&(h||this._flags.last_token.type===Wt.EQUALS||qt(this._flags.last_token,Ut)&&this._flags.last_token.text!=="else")){this._output.space_before_token=true}else{this.print_newline(false,true)}}else{if(Ht(this._previous_flags.mode)&&(this._flags.last_token.type===Wt.START_EXPR||this._flags.last_token.type===Wt.COMMA)){if(this._flags.last_token.type===Wt.COMMA||this._options.space_in_paren){this._output.space_before_token=true}if(this._flags.last_token.type===Wt.COMMA||this._flags.last_token.type===Wt.START_EXPR&&this._flags.inline_frame){this.allow_wrap_or_preserved_newline(t);this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame;this._flags.multiline_frame=false}}if(this._flags.last_token.type!==Wt.OPERATOR&&this._flags.last_token.type!==Wt.START_EXPR){if(It(this._flags.last_token.type,[Wt.START_BLOCK,Wt.SEMICOLON])&&!this._flags.inline_frame){this.print_newline()}else{this._output.space_before_token=true}}}this.print_token(t);this.indent();if(!e&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)){this.print_newline()}};si.prototype.handle_end_block=function(t){this.handle_whitespace_and_comments(t);while(this._flags.mode===Qt.Statement){this.restore_mode()}var i=this._flags.last_token.type===Wt.START_BLOCK;if(this._flags.inline_frame&&!i){this._output.space_before_token=true}else if(this._options.brace_style==="expand"){if(!i){this.print_newline()}}else{if(!i){if(Ht(this._flags.mode)&&this._options.keep_array_indentation){this._options.keep_array_indentation=false;this.print_newline();this._options.keep_array_indentation=true}else{this.print_newline()}}}this.restore_mode();this.print_token(t)};si.prototype.handle_word=function(t){if(t.type===Wt.RESERVED){if(It(t.text,["set","get"])&&this._flags.mode!==Qt.ObjectLiteral){t.type=Wt.WORD}else if(t.text==="import"&&It(this._tokens.peek().text,["(","."])){t.type=Wt.WORD}else if(It(t.text,["as","from"])&&!this._flags.import_block){t.type=Wt.WORD}else if(this._flags.mode===Qt.ObjectLiteral){var i=this._tokens.peek();if(i.text===":"){t.type=Wt.WORD}}}if(this.start_of_statement(t)){if(qt(this._flags.last_token,["var","let","const"])&&t.type===Wt.WORD){this._flags.declaration_statement=true}}else if(t.newlines&&!Jt(this._flags.mode)&&(this._flags.last_token.type!==Wt.OPERATOR||(this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))&&this._flags.last_token.type!==Wt.EQUALS&&(this._options.preserve_newlines||!qt(this._flags.last_token,["var","let","const","set","get"]))){this.handle_whitespace_and_comments(t);this.print_newline()}else{this.handle_whitespace_and_comments(t)}if(this._flags.do_block&&!this._flags.do_while){if(Ft(t,"while")){this._output.space_before_token=true;this.print_token(t);this._output.space_before_token=true;this._flags.do_while=true;return}else{this.print_newline();this._flags.do_block=false}}if(this._flags.if_block){if(!this._flags.else_block&&Ft(t,"else")){this._flags.else_block=true}else{while(this._flags.mode===Qt.Statement){this.restore_mode()}this._flags.if_block=false;this._flags.else_block=false}}if(this._flags.in_case_statement&&qt(t,["case","default"])){this.print_newline();if(!this._flags.case_block&&(this._flags.case_body||this._options.jslint_happy)){this.deindent()}this._flags.case_body=false;this.print_token(t);this._flags.in_case=true;return}if(this._flags.last_token.type===Wt.COMMA||this._flags.last_token.type===Wt.START_EXPR||this._flags.last_token.type===Wt.EQUALS||this._flags.last_token.type===Wt.OPERATOR){if(!this.start_of_object_property()){this.allow_wrap_or_preserved_newline(t)}}if(Ft(t,"function")){if(It(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(It(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===Wt.OPERATOR)){if(!this._output.just_added_blankline()&&!t.comments_before){this.print_newline();this.print_newline(true)}}if(this._flags.last_token.type===Wt.RESERVED||this._flags.last_token.type===Wt.WORD){if(qt(this._flags.last_token,["get","set","new","export"])||qt(this._flags.last_token,ei)){this._output.space_before_token=true}else if(Ft(this._flags.last_token,"default")&&this._last_last_text==="export"){this._output.space_before_token=true}else if(this._flags.last_token.text==="declare"){this._output.space_before_token=true}else{this.print_newline()}}else if(this._flags.last_token.type===Wt.OPERATOR||this._flags.last_token.text==="="){this._output.space_before_token=true}else if(!this._flags.multiline_frame&&(Jt(this._flags.mode)||Ht(this._flags.mode)));else{this.print_newline()}this.print_token(t);this._flags.last_word=t.text;return}var s="NONE";if(this._flags.last_token.type===Wt.END_BLOCK){if(this._previous_flags.inline_frame){s="SPACE"}else if(!qt(t,["else","catch","finally","from"])){s="NEWLINE"}else{if(this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines){s="NEWLINE"}else{s="SPACE";this._output.space_before_token=true}}}else if(this._flags.last_token.type===Wt.SEMICOLON&&this._flags.mode===Qt.BlockStatement){s="NEWLINE"}else if(this._flags.last_token.type===Wt.SEMICOLON&&Jt(this._flags.mode)){s="SPACE"}else if(this._flags.last_token.type===Wt.STRING){s="NEWLINE"}else if(this._flags.last_token.type===Wt.RESERVED||this._flags.last_token.type===Wt.WORD||this._flags.last_token.text==="*"&&(It(this._last_last_text,["function","yield"])||this._flags.mode===Qt.ObjectLiteral&&It(this._last_last_text,["{",","]))){s="SPACE"}else if(this._flags.last_token.type===Wt.START_BLOCK){if(this._flags.inline_frame){s="SPACE"}else{s="NEWLINE"}}else if(this._flags.last_token.type===Wt.END_EXPR){this._output.space_before_token=true;s="NEWLINE"}if(qt(t,Dt)&&this._flags.last_token.text!==")"){if(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"){s="SPACE"}else{s="NEWLINE"}}if(qt(t,["else","catch","finally"])){if((!(this._flags.last_token.type===Wt.END_BLOCK&&this._previous_flags.mode===Qt.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame){this.print_newline()}else{this._output.trim(true);var e=this._output.current_line;if(e.last()!=="}"){this.print_newline()}this._output.space_before_token=true}}else if(s==="NEWLINE"){if(qt(this._flags.last_token,Ut)){this._output.space_before_token=true}else if(this._flags.last_token.text==="declare"&&qt(t,["var","let","const"])){this._output.space_before_token=true}else if(this._flags.last_token.type!==Wt.END_EXPR){if((this._flags.last_token.type!==Wt.START_EXPR||!qt(t,["var","let","const"]))&&this._flags.last_token.text!==":"){if(Ft(t,"if")&&Ft(t.previous,"else")){this._output.space_before_token=true}else{this.print_newline()}}}else if(qt(t,Dt)&&this._flags.last_token.text!==")"){this.print_newline()}}else if(this._flags.multiline_frame&&Ht(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"){this.print_newline()}else if(s==="SPACE"){this._output.space_before_token=true}if(t.previous&&(t.previous.type===Wt.WORD||t.previous.type===Wt.RESERVED)){this._output.space_before_token=true}this.print_token(t);this._flags.last_word=t.text;if(t.type===Wt.RESERVED){if(t.text==="do"){this._flags.do_block=true}else if(t.text==="if"){this._flags.if_block=true}else if(t.text==="import"){this._flags.import_block=true}else if(this._flags.import_block&&Ft(t,"from")){this._flags.import_block=false}}};si.prototype.handle_semicolon=function(t){if(this.start_of_statement(t)){this._output.space_before_token=false}else{this.handle_whitespace_and_comments(t)}var i=this._tokens.peek();while(this._flags.mode===Qt.Statement&&!(this._flags.if_block&&Ft(i,"else"))&&!this._flags.do_block){this.restore_mode()}if(this._flags.import_block){this._flags.import_block=false}this.print_token(t)};si.prototype.handle_string=function(t){if(t.text.startsWith("`")&&t.newlines===0&&t.whitespace_before===""&&(t.previous.text===")"||this._flags.last_token.type===Wt.WORD));else if(this.start_of_statement(t)){this._output.space_before_token=true}else{this.handle_whitespace_and_comments(t);if(this._flags.last_token.type===Wt.RESERVED||this._flags.last_token.type===Wt.WORD||this._flags.inline_frame){this._output.space_before_token=true}else if(this._flags.last_token.type===Wt.COMMA||this._flags.last_token.type===Wt.START_EXPR||this._flags.last_token.type===Wt.EQUALS||this._flags.last_token.type===Wt.OPERATOR){if(!this.start_of_object_property()){this.allow_wrap_or_preserved_newline(t)}}else if(t.text.startsWith("`")&&this._flags.last_token.type===Wt.END_EXPR&&(t.previous.text==="]"||t.previous.text===")")&&t.newlines===0){this._output.space_before_token=true}else{this.print_newline()}}this.print_token(t)};si.prototype.handle_equals=function(t){if(this.start_of_statement(t));else{this.handle_whitespace_and_comments(t)}if(this._flags.declaration_statement){this._flags.declaration_assignment=true}this._output.space_before_token=true;this.print_token(t);this._output.space_before_token=true};si.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,true);this.print_token(t);this._output.space_before_token=true;if(this._flags.declaration_statement){if(Jt(this._flags.parent.mode)){this._flags.declaration_assignment=false}if(this._flags.declaration_assignment){this._flags.declaration_assignment=false;this.print_newline(false,true)}else if(this._options.comma_first){this.allow_wrap_or_preserved_newline(t)}}else if(this._flags.mode===Qt.ObjectLiteral||this._flags.mode===Qt.Statement&&this._flags.parent.mode===Qt.ObjectLiteral){if(this._flags.mode===Qt.Statement){this.restore_mode()}if(!this._flags.inline_frame){this.print_newline()}}else if(this._options.comma_first){this.allow_wrap_or_preserved_newline(t)}};si.prototype.handle_operator=function(t){var i=t.text==="*"&&(qt(this._flags.last_token,["function","yield"])||It(this._flags.last_token.type,[Wt.START_BLOCK,Wt.COMMA,Wt.END_BLOCK,Wt.SEMICOLON]));var s=It(t.text,["-","+"])&&(It(this._flags.last_token.type,[Wt.START_BLOCK,Wt.START_EXPR,Wt.EQUALS,Wt.OPERATOR])||It(this._flags.last_token.text,Dt)||this._flags.last_token.text===",");if(this.start_of_statement(t));else{var e=!i;this.handle_whitespace_and_comments(t,e)}if(t.text==="*"&&this._flags.last_token.type===Wt.DOT){this.print_token(t);return}if(t.text==="::"){this.print_token(t);return}if(this._flags.last_token.type===Wt.OPERATOR&&It(this._options.operator_position,Xt)){this.allow_wrap_or_preserved_newline(t)}if(t.text===":"&&this._flags.in_case){this.print_token(t);this._flags.in_case=false;this._flags.case_body=true;if(this._tokens.peek().type!==Wt.START_BLOCK){this.indent();this.print_newline();this._flags.case_block=false}else{this._flags.case_block=true;this._output.space_before_token=true}return}var h=true;var a=true;var u=false;if(t.text===":"){if(this._flags.ternary_depth===0){h=false}else{this._flags.ternary_depth-=1;u=true}}else if(t.text==="?"){this._flags.ternary_depth+=1}if(!s&&!i&&this._options.preserve_newlines&&It(t.text,Mt)){var n=t.text===":";var r=n&&u;var f=n&&!u;switch(this._options.operator_position){case Vt.before_newline:this._output.space_before_token=!f;this.print_token(t);if(!n||r){this.allow_wrap_or_preserved_newline(t)}this._output.space_before_token=true;return;case Vt.after_newline:this._output.space_before_token=true;if(!n||r){if(this._tokens.peek().newlines){this.print_newline(false,true)}else{this.allow_wrap_or_preserved_newline(t)}}else{this._output.space_before_token=false}this.print_token(t);this._output.space_before_token=true;return;case Vt.preserve_newline:if(!f){this.allow_wrap_or_preserved_newline(t)}h=!(this._output.just_added_newline()||f);this._output.space_before_token=h;this.print_token(t);this._output.space_before_token=true;return}}if(i){this.allow_wrap_or_preserved_newline(t);h=false;var o=this._tokens.peek();a=o&&It(o.type,[Wt.WORD,Wt.RESERVED])}else if(t.text==="..."){this.allow_wrap_or_preserved_newline(t);h=this._flags.last_token.type===Wt.START_BLOCK;a=false}else if(It(t.text,["--","++","!","~"])||s){if(this._flags.last_token.type===Wt.COMMA||this._flags.last_token.type===Wt.START_EXPR){this.allow_wrap_or_preserved_newline(t)}h=false;a=false;if(t.newlines&&(t.text==="--"||t.text==="++"||t.text==="~")){var l=qt(this._flags.last_token,Ut)&&t.newlines;if(l&&(this._previous_flags.if_block||this._previous_flags.else_block)){this.restore_mode()}this.print_newline(l,true)}if(this._flags.last_token.text===";"&&Jt(this._flags.mode)){h=true}if(this._flags.last_token.type===Wt.RESERVED){h=true}else if(this._flags.last_token.type===Wt.END_EXPR){h=!(this._flags.last_token.text==="]"&&(t.text==="--"||t.text==="++"))}else if(this._flags.last_token.type===Wt.OPERATOR){h=It(t.text,["--","-","++","+"])&&It(this._flags.last_token.text,["--","-","++","+"]);if(It(t.text,["+","-"])&&It(this._flags.last_token.text,["--","++"])){a=true}}if((this._flags.mode===Qt.BlockStatement&&!this._flags.inline_frame||this._flags.mode===Qt.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")){this.print_newline()}}this._output.space_before_token=this._output.space_before_token||h;this.print_token(t);this._output.space_before_token=a};si.prototype.handle_block_comment=function(t,i){if(this._output.raw){this._output.add_raw_token(t);if(t.directives&&t.directives.preserve==="end"){this._output.raw=this._options.test_output_raw}return}if(t.directives){this.print_newline(false,i);this.print_token(t);if(t.directives.preserve==="start"){this._output.raw=true}this.print_newline(false,true);return}if(!m.newline.test(t.text)&&!t.newlines){this._output.space_before_token=true;this.print_token(t);this._output.space_before_token=true;return}else{this.print_block_commment(t,i)}};si.prototype.print_block_commment=function(t,i){var s=Yt(t.text);var e;var h=false;var a=false;var u=t.whitespace_before;var n=u.length;this.print_newline(false,i);this.print_token_line_indentation(t);this._output.add_token(s[0]);this.print_newline(false,i);if(s.length>1){s=s.slice(1);h=ti(s,"*");a=ii(s,u);if(h){this._flags.alignment=1}for(e=0;e<s.length;e++){if(h){this.print_token_line_indentation(t);this._output.add_token(Pt(s[e]))}else if(a&&s[e]){this.print_token_line_indentation(t);this._output.add_token(s[e].substring(n))}else{this._output.current_line.set_indent(-1);this._output.add_token(s[e])}this.print_newline(false,i)}this._flags.alignment=0}};si.prototype.handle_comment=function(t,i){if(t.newlines){this.print_newline(false,i)}else{this._output.trim(true)}this._output.space_before_token=true;this.print_token(t);this.print_newline(false,i)};si.prototype.handle_dot=function(t){if(this.start_of_statement(t));else{this.handle_whitespace_and_comments(t,true)}if(this._flags.last_token.text.match("^[0-9]+$")){this._output.space_before_token=true}if(qt(this._flags.last_token,Ut)){this._output.space_before_token=false}else{this.allow_wrap_or_preserved_newline(t,this._flags.last_token.text===")"&&this._options.break_chained_methods)}if(this._options.unindent_chained_methods&&this._output.just_added_newline()){this.deindent()}this.print_token(t)};si.prototype.handle_unknown=function(t,i){this.print_token(t);if(t.text[t.text.length-1]==="\n"){this.print_newline(false,i)}};si.prototype.handle_eof=function(t){while(this._flags.mode===Qt.Statement){this.restore_mode()}this.handle_whitespace_and_comments(t)};var hi=si;var ai={Beautifier:hi};var ui=ai.Beautifier,ni=j.Options;function ri(t,i){var s=new ui(t,i);return s.beautify()}var fi=ri;var oi=function(){return new ni};fi.defaultOptions=oi;var li=E.Options;function ci(t){li.call(this,t,"css");this.selector_separator_newline=this._get_boolean("selector_separator_newline",true);this.newline_between_rules=this._get_boolean("newline_between_rules",true);var i=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||i;var s=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var e=0;e<s.length;e++){if(s[e]!=="expand"){this.brace_style="collapse"}else{this.brace_style=s[e]}}}ci.prototype=new li;var di=ci;var vi={Options:di};var bi=vi.Options;var pi=d.Output;var mi=S.InputScanner;var gi=it.Directives;var ki=new gi(/\/\*/,/\*\//);var wi=/\r\n|[\r\n]/;var xi=/\r\n|[\r\n]/g;var _i=/\s/;var yi=/(?:\s|\n)+/g;var Ei=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g;var Ti=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function Ai(t,i){this._source_text=t||"";this._options=new bi(i);this._ch=null;this._input=null;this.NESTED_AT_RULE={page:true,"font-face":true,keyframes:true,media:true,supports:true,document:true};this.CONDITIONAL_GROUP_RULE={media:true,supports:true,document:true};this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}Ai.prototype.eatString=function(t){var i="";this._ch=this._input.next();while(this._ch){i+=this._ch;if(this._ch==="\\"){i+=this._input.next()}else if(t.indexOf(this._ch)!==-1||this._ch==="\n"){break}this._ch=this._input.next()}return i};Ai.prototype.eatWhitespace=function(t){var i=_i.test(this._input.peek());var s=0;while(_i.test(this._input.peek())){this._ch=this._input.next();if(t&&this._ch==="\n"){if(s===0||s<this._options.max_preserve_newlines){s++;this._output.add_new_line(true)}}}return i};Ai.prototype.foundNestedPseudoClass=function(){var t=0;var i=1;var s=this._input.peek(i);while(s){if(s==="{"){return true}else if(s==="("){t+=1}else if(s===")"){if(t===0){return false}t-=1}else if(s===";"||s==="}"){return false}i++;s=this._input.peek(i)}return false};Ai.prototype.print_string=function(t){this._output.set_indent(this._indentLevel);this._output.non_breaking_space=true;this._output.add_token(t)};Ai.prototype.preserveSingleSpace=function(t){if(t){this._output.space_before_token=true}};Ai.prototype.indent=function(){this._indentLevel++};Ai.prototype.outdent=function(){if(this._indentLevel>0){this._indentLevel--}};Ai.prototype.beautify=function(){if(this._options.disabled){return this._source_text}var t=this._source_text;var i=this._options.eol;if(i==="auto"){i="\n";if(t&&wi.test(t||"")){i=t.match(wi)[0]}}t=t.replace(xi,"\n");var s=t.match(/^[\t ]*/)[0];this._output=new pi(this._options,s);this._input=new mi(t);this._indentLevel=0;this._nestedLevel=0;this._ch=null;var e=0;var h=false;var a=false;var u=false;var n=false;var r=false;var f=this._ch;var o=false;var l;var c;var d;while(true){l=this._input.read(yi);c=l!=="";d=f;this._ch=this._input.next();if(this._ch==="\\"&&this._input.hasNext()){this._ch+=this._input.next()}f=this._ch;if(!this._ch){break}else if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line();this._input.back();var v=this._input.read(Ei);var b=ki.get_directives(v);if(b&&b.ignore==="start"){v+=ki.readIgnored(this._input)}this.print_string(v);this.eatWhitespace(true);this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/"){this._output.space_before_token=true;this._input.back();this.print_string(this._input.read(Ti));this.eatWhitespace(true)}else if(this._ch==="$"){this.preserveSingleSpace(c);this.print_string(this._ch);var p=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);if(p.match(/[ :]$/)){p=this.eatString(": ").replace(/\s$/,"");this.print_string(p);this._output.space_before_token=true}p=p.replace(/\s$/,"");if(e===0&&p.indexOf(":")!==-1){a=true;this.indent()}}else if(this._ch==="@"){this.preserveSingleSpace(c);if(this._input.peek()==="{"){this.print_string(this._ch+this.eatString("}"))}else{this.print_string(this._ch);var m=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);if(m.match(/[ :]$/)){m=this.eatString(": ").replace(/\s$/,"");this.print_string(m);this._output.space_before_token=true}m=m.replace(/\s$/,"");if(e===0&&m.indexOf(":")!==-1){a=true;this.indent()}else if(m in this.NESTED_AT_RULE){this._nestedLevel+=1;if(m in this.CONDITIONAL_GROUP_RULE){u=true}}else if(e===0&&!a){n=true}}}else if(this._ch==="#"&&this._input.peek()==="{"){this.preserveSingleSpace(c);this.print_string(this._ch+this.eatString("}"))}else if(this._ch==="{"){if(a){a=false;this.outdent()}n=false;if(u){u=false;h=this._indentLevel>=this._nestedLevel}else{h=this._indentLevel>=this._nestedLevel-1}if(this._options.newline_between_rules&&h){if(this._output.previous_line&&this._output.previous_line.item(-1)!=="{"){this._output.ensure_empty_line_above("/",",")}}this._output.space_before_token=true;if(this._options.brace_style==="expand"){this._output.add_new_line();this.print_string(this._ch);this.indent();this._output.set_indent(this._indentLevel)}else{if(d==="("){this._output.space_before_token=false}else if(d!==","){this.indent()}this.print_string(this._ch)}this.eatWhitespace(true);this._output.add_new_line()}else if(this._ch==="}"){this.outdent();this._output.add_new_line();if(d==="{"){this._output.trim(true)}if(a){this.outdent();a=false}this.print_string(this._ch);h=false;if(this._nestedLevel){this._nestedLevel--}this.eatWhitespace(true);this._output.add_new_line();if(this._options.newline_between_rules&&!this._output.just_added_blankline()){if(this._input.peek()!=="}"){this._output.add_new_line(true)}}if(this._input.peek()===")"){this._output.trim(true);if(this._options.brace_style==="expand"){this._output.add_new_line(true)}}}else if(this._ch===":"){for(var g=0;g<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;g++){if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[g])){o=true;break}}if((h||u)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!n&&e===0){this.print_string(":");if(!a){a=true;this._output.space_before_token=true;this.eatWhitespace(true);this.indent()}}else{if(this._input.lookBack(" ")){this._output.space_before_token=true}if(this._input.peek()===":"){this._ch=this._input.next();this.print_string("::")}else{this.print_string(":")}}}else if(this._ch==='"'||this._ch==="'"){var k=d==='"'||d==="'";this.preserveSingleSpace(k||c);this.print_string(this._ch+this.eatString(this._ch));this.eatWhitespace(true)}else if(this._ch===";"){o=false;if(e===0){if(a){this.outdent();a=false}n=false;this.print_string(this._ch);this.eatWhitespace(true);if(this._input.peek()!=="/"){this._output.add_new_line()}}else{this.print_string(this._ch);this.eatWhitespace(true);this._output.space_before_token=true}}else if(this._ch==="("){if(this._input.lookBack("url")){this.print_string(this._ch);this.eatWhitespace();e++;this.indent();this._ch=this._input.next();if(this._ch===")"||this._ch==='"'||this._ch==="'"){this._input.back()}else if(this._ch){this.print_string(this._ch+this.eatString(")"));if(e){e--;this.outdent()}}}else{var w=false;if(this._input.lookBack("with")){w=true}this.preserveSingleSpace(c||w);this.print_string(this._ch);if(a&&d==="$"&&this._options.selector_separator_newline){this._output.add_new_line();r=true}else{this.eatWhitespace();e++;this.indent()}}}else if(this._ch===")"){if(e){e--;this.outdent()}if(r&&this._input.peek()===";"&&this._options.selector_separator_newline){r=false;this.outdent();this._output.add_new_line()}this.print_string(this._ch)}else if(this._ch===","){this.print_string(this._ch);this.eatWhitespace(true);if(this._options.selector_separator_newline&&(!a||r)&&e===0&&!n){this._output.add_new_line()}else{this._output.space_before_token=true}}else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!a&&e===0){if(this._options.space_around_combinator){this._output.space_before_token=true;this.print_string(this._ch);this._output.space_before_token=true}else{this.print_string(this._ch);this.eatWhitespace();if(this._ch&&_i.test(this._ch)){this._ch=""}}}else if(this._ch==="]"){this.print_string(this._ch)}else if(this._ch==="["){this.preserveSingleSpace(c);this.print_string(this._ch)}else if(this._ch==="="){this.eatWhitespace();this.print_string("=");if(_i.test(this._ch)){this._ch=""}}else if(this._ch==="!"&&!this._input.lookBack("\\")){this._output.space_before_token=true;this.print_string(this._ch)}else{var x=d==='"'||d==="'";this.preserveSingleSpace(x||c);this.print_string(this._ch);if(!this._output.just_added_newline()&&this._input.peek()==="\n"&&o){this._output.add_new_line()}}}var _=this._output.get_code(i);return _};var Ni=Ai;var Oi={Beautifier:Ni};var ji=Oi.Beautifier,Ci=vi.Options;function Ri(t,i){var s=new ji(t,i);return s.beautify()}var Ki=Ri;var Si=function(){return new Ci};Ki.defaultOptions=Si;var zi=E.Options;function Li(t){zi.call(this,t,"html");if(this.templating.length===1&&this.templating[0]==="auto"){this.templating=["django","erb","handlebars","php"]}this.indent_inner_html=this._get_boolean("indent_inner_html");this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",true);this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",true);this.indent_handlebars=this._get_boolean("indent_handlebars",true);this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]);this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2);this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size);this.extra_liners=this._get_array("extra_liners",["head","body","/html"]);this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]);this.inline_custom_elements=this._get_boolean("inline_custom_elements",true);this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]);this.unformatted=this._get_array("unformatted",[]);this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]);this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter");this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}Li.prototype=new zi;var $i=Li;var Di={Options:$i};var Mi=H.Tokenizer;var Wi=H.TOKEN;var Ii=it.Directives;var Pi=ut.TemplatablePattern;var Bi=W.Pattern;var Fi={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:Wi.START,RAW:Wi.RAW,EOF:Wi.EOF};var qi=new Ii(/<\!--/,/-->/);var Ui=function(t,i){Mi.call(this,t,i);this._current_tag_name="";var s=new Pi(this._input).read_options(this._options);var e=new Bi(this._input);this.__patterns={word:s.until(/[\n\r\t <]/),single_quote:s.until_after(/'/),double_quote:s.until_after(/"/),attribute:s.until(/[\n\r\t =>]|\/>/),element_name:s.until(/[\n\r\t >\/]/),handlebars_comment:e.starting_with(/{{!--/).until_after(/--}}/),handlebars:e.starting_with(/{{/).until_after(/}}/),handlebars_open:e.until(/[\n\r\t }]/),handlebars_raw_close:e.until(/}}/),comment:e.starting_with(/<!--/).until_after(/-->/),cdata:e.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:e.starting_with(/<!\[/).until_after(/]>/),processing:e.starting_with(/<\?/).until_after(/\?>/)};if(this._options.indent_handlebars){this.__patterns.word=this.__patterns.word.exclude("handlebars")}this._unformatted_content_delimiter=null;if(this._options.unformatted_content_delimiter){var h=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=e.matching(h).until_after(h)}};Ui.prototype=new Mi;Ui.prototype._is_comment=function(t){return false};Ui.prototype._is_opening=function(t){return t.type===Fi.TAG_OPEN};Ui.prototype._is_closing=function(t,i){return t.type===Fi.TAG_CLOSE&&(i&&((t.text===">"||t.text==="/>")&&i.text[0]==="<"||t.text==="}}"&&i.text[0]==="{"&&i.text[1]==="{"))};Ui.prototype._reset=function(){this._current_tag_name=""};Ui.prototype._get_next_token=function(t,i){var s=null;this._readWhitespace();var e=this._input.peek();if(e===null){return this._create_token(Fi.EOF,"")}s=s||this._read_open_handlebars(e,i);s=s||this._read_attribute(e,t,i);s=s||this._read_close(e,i);s=s||this._read_raw_content(e,t,i);s=s||this._read_content_word(e);s=s||this._read_comment_or_cdata(e);s=s||this._read_processing(e);s=s||this._read_open(e,i);s=s||this._create_token(Fi.UNKNOWN,this._input.next());return s};Ui.prototype._read_comment_or_cdata=function(t){var i=null;var s=null;var e=null;if(t==="<"){var h=this._input.peek(1);if(h==="!"){s=this.__patterns.comment.read();if(s){e=qi.get_directives(s);if(e&&e.ignore==="start"){s+=qi.readIgnored(this._input)}}else{s=this.__patterns.cdata.read()}}if(s){i=this._create_token(Fi.COMMENT,s);i.directives=e}}return i};Ui.prototype._read_processing=function(t){var i=null;var s=null;var e=null;if(t==="<"){var h=this._input.peek(1);if(h==="!"||h==="?"){s=this.__patterns.conditional_comment.read();s=s||this.__patterns.processing.read()}if(s){i=this._create_token(Fi.COMMENT,s);i.directives=e}}return i};Ui.prototype._read_open=function(t,i){var s=null;var e=null;if(!i){if(t==="<"){s=this._input.next();if(this._input.peek()==="/"){s+=this._input.next()}s+=this.__patterns.element_name.read();e=this._create_token(Fi.TAG_OPEN,s)}}return e};Ui.prototype._read_open_handlebars=function(t,i){var s=null;var e=null;if(!i){if(this._options.indent_handlebars&&t==="{"&&this._input.peek(1)==="{"){if(this._input.peek(2)==="!"){s=this.__patterns.handlebars_comment.read();s=s||this.__patterns.handlebars.read();e=this._create_token(Fi.COMMENT,s)}else{s=this.__patterns.handlebars_open.read();e=this._create_token(Fi.TAG_OPEN,s)}}}return e};Ui.prototype._read_close=function(t,i){var s=null;var e=null;if(i){if(i.text[0]==="<"&&(t===">"||t==="/"&&this._input.peek(1)===">")){s=this._input.next();if(t==="/"){s+=this._input.next()}e=this._create_token(Fi.TAG_CLOSE,s)}else if(i.text[0]==="{"&&t==="}"&&this._input.peek(1)==="}"){this._input.next();this._input.next();e=this._create_token(Fi.TAG_CLOSE,"}}")}}return e};Ui.prototype._read_attribute=function(t,i,s){var e=null;var h="";if(s&&s.text[0]==="<"){if(t==="="){e=this._create_token(Fi.EQUALS,this._input.next())}else if(t==='"'||t==="'"){var a=this._input.next();if(t==='"'){a+=this.__patterns.double_quote.read()}else{a+=this.__patterns.single_quote.read()}e=this._create_token(Fi.VALUE,a)}else{h=this.__patterns.attribute.read();if(h){if(i.type===Fi.EQUALS){e=this._create_token(Fi.VALUE,h)}else{e=this._create_token(Fi.ATTRIBUTE,h)}}}}return e};Ui.prototype._is_content_unformatted=function(t){return this._options.void_elements.indexOf(t)===-1&&(this._options.content_unformatted.indexOf(t)!==-1||this._options.unformatted.indexOf(t)!==-1)};Ui.prototype._read_raw_content=function(t,i,s){var e="";if(s&&s.text[0]==="{"){e=this.__patterns.handlebars_raw_close.read()}else if(i.type===Fi.TAG_CLOSE&&i.opened.text[0]==="<"&&i.text[0]!=="/"){var h=i.opened.text.substr(1).toLowerCase();if(h==="script"||h==="style"){var a=this._read_comment_or_cdata(t);if(a){a.type=Fi.TEXT;return a}e=this._input.readUntil(new RegExp("</"+h+"[\\n\\r\\t ]*?>","ig"))}else if(this._is_content_unformatted(h)){e=this._input.readUntil(new RegExp("</"+h+"[\\n\\r\\t ]*?>","ig"))}}if(e){return this._create_token(Fi.TEXT,e)}return null};Ui.prototype._read_content_word=function(t){var i="";if(this._options.unformatted_content_delimiter){if(t===this._options.unformatted_content_delimiter[0]){i=this.__patterns.unformatted_content_delimiter.read()}}if(!i){i=this.__patterns.word.read()}if(i){return this._create_token(Fi.TEXT,i)}};var Gi=Ui;var Vi=Fi;var Xi={Tokenizer:Gi,TOKEN:Vi};var Qi=Di.Options;var Zi=d.Output;var Yi=Xi.Tokenizer;var Hi=Xi.TOKEN;var Ji=/\r\n|[\r\n]/;var ts=/\r\n|[\r\n]/g;var is=function(t,i){this.indent_level=0;this.alignment_size=0;this.max_preserve_newlines=t.max_preserve_newlines;this.preserve_newlines=t.preserve_newlines;this._output=new Zi(t,i)};is.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)};is.prototype.set_space_before_token=function(t,i){this._output.space_before_token=t;this._output.non_breaking_space=i};is.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size);this._output.set_wrap_point()};is.prototype.add_raw_token=function(t){this._output.add_raw_token(t)};is.prototype.print_preserved_newlines=function(t){var i=0;if(t.type!==Hi.TEXT&&t.previous.type!==Hi.TEXT){i=t.newlines?1:0}if(this.preserve_newlines){i=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1}for(var s=0;s<i;s++){this.print_newline(s>0)}return i!==0};is.prototype.traverse_whitespace=function(t){if(t.whitespace_before||t.newlines){if(!this.print_preserved_newlines(t)){this._output.space_before_token=true}return true}return false};is.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped};is.prototype.print_newline=function(t){this._output.add_new_line(t)};is.prototype.print_token=function(t){if(t.text){this._output.set_indent(this.indent_level,this.alignment_size);this._output.add_token(t.text)}};is.prototype.indent=function(){this.indent_level++};is.prototype.get_full_indent=function(t){t=this.indent_level+(t||0);if(t<1){return""}return this._output.get_indent_string(t)};var ss=function(t){var i=null;var s=t.next;while(s.type!==Hi.EOF&&t.closed!==s){if(s.type===Hi.ATTRIBUTE&&s.text==="type"){if(s.next&&s.next.type===Hi.EQUALS&&s.next.next&&s.next.next.type===Hi.VALUE){i=s.next.next.text}break}s=s.next}return i};var es=function(t,i){var s=null;var e=null;if(!i.closed){return null}if(t==="script"){s="text/javascript"}else if(t==="style"){s="text/css"}s=ss(i)||s;if(s.search("text/css")>-1){e="css"}else if(s.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1){e="javascript"}else if(s.search(/(text|application|dojo)\/(x-)?(html)/)>-1){e="html"}else if(s.search(/test\/null/)>-1){e="null"}return e};function hs(t,i){return i.indexOf(t)!==-1}function as(t,i,s){this.parent=t||null;this.tag=i?i.tag_name:"";this.indent_level=s||0;this.parser_token=i||null}function us(t){this._printer=t;this._current_frame=null}us.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null};us.prototype.record_tag=function(t){var i=new as(this._current_frame,t,this._printer.indent_level);this._current_frame=i};us.prototype._try_pop_frame=function(t){var i=null;if(t){i=t.parser_token;this._printer.indent_level=t.indent_level;this._current_frame=t.parent}return i};us.prototype._get_frame=function(t,i){var s=this._current_frame;while(s){if(t.indexOf(s.tag)!==-1){break}else if(i&&i.indexOf(s.tag)!==-1){s=null;break}s=s.parent}return s};us.prototype.try_pop=function(t,i){var s=this._get_frame([t],i);return this._try_pop_frame(s)};us.prototype.indent_to_tag=function(t){var i=this._get_frame(t);if(i){this._printer.indent_level=i.indent_level}};function ns(t,i,s,e){this._source_text=t||"";i=i||{};this._js_beautify=s;this._css_beautify=e;this._tag_stack=null;var h=new Qi(i,"html");this._options=h;this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,"force".length)==="force";this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline";this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned";this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple";this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,"preserve".length)==="preserve";this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}ns.prototype.beautify=function(){if(this._options.disabled){return this._source_text}var t=this._source_text;var i=this._options.eol;if(this._options.eol==="auto"){i="\n";if(t&&Ji.test(t)){i=t.match(Ji)[0]}}t=t.replace(ts,"\n");var s=t.match(/^[\t ]*/)[0];var e={text:"",type:""};var h=new rs;var a=new is(this._options,s);var u=new Yi(t,this._options).tokenize();this._tag_stack=new us(a);var n=null;var r=u.next();while(r.type!==Hi.EOF){if(r.type===Hi.TAG_OPEN||r.type===Hi.COMMENT){n=this._handle_tag_open(a,r,h,e,u);h=n}else if(r.type===Hi.ATTRIBUTE||r.type===Hi.EQUALS||r.type===Hi.VALUE||r.type===Hi.TEXT&&!h.tag_complete){n=this._handle_inside_tag(a,r,h,e)}else if(r.type===Hi.TAG_CLOSE){n=this._handle_tag_close(a,r,h)}else if(r.type===Hi.TEXT){n=this._handle_text(a,r,h)}else{a.add_raw_token(r)}e=n;r=u.next()}var f=a._output.get_code(i);return f};ns.prototype._handle_tag_close=function(t,i,s){var e={text:i.text,type:i.type};t.alignment_size=0;s.tag_complete=true;t.set_space_before_token(i.newlines||i.whitespace_before!=="",true);if(s.is_unformatted){t.add_raw_token(i)}else{if(s.tag_start_char==="<"){t.set_space_before_token(i.text[0]==="/",true);if(this._is_wrap_attributes_force_expand_multiline&&s.has_wrapped_attrs){t.print_newline(false)}}t.print_token(i)}if(s.indent_content&&!(s.is_unformatted||s.is_content_unformatted)){t.indent();s.indent_content=false}if(!s.is_inline_element&&!(s.is_unformatted||s.is_content_unformatted)){t.set_wrap_point()}return e};ns.prototype._handle_inside_tag=function(t,i,s,e){var h=s.has_wrapped_attrs;var a={text:i.text,type:i.type};t.set_space_before_token(i.newlines||i.whitespace_before!=="",true);if(s.is_unformatted){t.add_raw_token(i)}else if(s.tag_start_char==="{"&&i.type===Hi.TEXT){if(t.print_preserved_newlines(i)){i.newlines=0;t.add_raw_token(i)}else{t.print_token(i)}}else{if(i.type===Hi.ATTRIBUTE){t.set_space_before_token(true)}else if(i.type===Hi.EQUALS){t.set_space_before_token(false)}else if(i.type===Hi.VALUE&&i.previous.type===Hi.EQUALS){t.set_space_before_token(false)}if(i.type===Hi.ATTRIBUTE&&s.tag_start_char==="<"){if(this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned){t.traverse_whitespace(i);h=h||i.newlines!==0}if(this._is_wrap_attributes_force&&s.attr_count>=this._options.wrap_attributes_min_attrs&&(e.type!==Hi.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)){t.print_newline(false);h=true}}t.print_token(i);h=h||t.previous_token_wrapped();s.has_wrapped_attrs=h}return a};ns.prototype._handle_text=function(t,i,s){var e={text:i.text,type:"TK_CONTENT"};if(s.custom_beautifier_name){this._print_custom_beatifier_text(t,i,s)}else if(s.is_unformatted||s.is_content_unformatted){t.add_raw_token(i)}else{t.traverse_whitespace(i);t.print_token(i)}return e};ns.prototype._print_custom_beatifier_text=function(t,i,s){var e=this;if(i.text!==""){var h=i.text,a,u=1,n="",r="";if(s.custom_beautifier_name==="javascript"&&typeof this._js_beautify==="function"){a=this._js_beautify}else if(s.custom_beautifier_name==="css"&&typeof this._css_beautify==="function"){a=this._css_beautify}else if(s.custom_beautifier_name==="html"){a=function(t,i){var s=new ns(t,i,e._js_beautify,e._css_beautify);return s.beautify()}}if(this._options.indent_scripts==="keep"){u=0}else if(this._options.indent_scripts==="separate"){u=-t.indent_level}var f=t.get_full_indent(u);h=h.replace(/\n[ \t]*$/,"");if(s.custom_beautifier_name!=="html"&&h[0]==="<"&&h.match(/^(<!--|<!\[CDATA\[)/)){var o=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(h);if(!o){t.add_raw_token(i);return}n=f+o[1]+"\n";h=o[4];if(o[5]){r=f+o[5]}h=h.replace(/\n[ \t]*$/,"");if(o[2]||o[3].indexOf("\n")!==-1){o=o[3].match(/[ \t]+$/);if(o){i.whitespace_before=o[0]}}}if(h){if(a){var l=function(){this.eol="\n"};l.prototype=this._options.raw_options;var c=new l;h=a(f+h,c)}else{var d=i.whitespace_before;if(d){h=h.replace(new RegExp("\n("+d+")?","g"),"\n")}h=f+h.replace(/\n/g,"\n"+f)}}if(n){if(!h){h=n+r}else{h=n+h+"\n"+r}}t.print_newline(false);if(h){i.text=h;i.whitespace_before="";i.newlines=0;t.add_raw_token(i);t.print_newline(true)}}};ns.prototype._handle_tag_open=function(t,i,s,e,h){var a=this._get_tag_open_token(i);if((s.is_unformatted||s.is_content_unformatted)&&!s.is_empty_element&&i.type===Hi.TAG_OPEN&&!a.is_start_tag){t.add_raw_token(i);a.start_tag_token=this._tag_stack.try_pop(a.tag_name)}else{t.traverse_whitespace(i);this._set_tag_position(t,i,a,s,e);if(!a.is_inline_element){t.set_wrap_point()}t.print_token(i)}if(a.is_start_tag&&this._is_wrap_attributes_force){var u=0;var n;do{n=h.peek(u);if(n.type===Hi.ATTRIBUTE){a.attr_count+=1}u+=1}while(n.type!==Hi.EOF&&n.type!==Hi.TAG_CLOSE)}if(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned){a.alignment_size=i.text.length+1}if(!a.tag_complete&&!a.is_unformatted){t.alignment_size=a.alignment_size}return a};var rs=function(t,i){this.parent=t||null;this.text="";this.type="TK_TAG_OPEN";this.tag_name="";this.is_inline_element=false;this.is_unformatted=false;this.is_content_unformatted=false;this.is_empty_element=false;this.is_start_tag=false;this.is_end_tag=false;this.indent_content=false;this.multiline_content=false;this.custom_beautifier_name=null;this.start_tag_token=null;this.attr_count=0;this.has_wrapped_attrs=false;this.alignment_size=0;this.tag_complete=false;this.tag_start_char="";this.tag_check="";if(!i){this.tag_complete=true}else{var s;this.tag_start_char=i.text[0];this.text=i.text;if(this.tag_start_char==="<"){s=i.text.match(/^<([^\s>]*)/);this.tag_check=s?s[1]:""}else{s=i.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/);this.tag_check=s?s[1]:"";if((i.text.startsWith("{{#>")||i.text.startsWith("{{~#>"))&&this.tag_check[0]===">"){if(this.tag_check===">"&&i.next!==null){this.tag_check=i.next.text.split(" ")[0]}else{this.tag_check=i.text.split(">")[1]}}}this.tag_check=this.tag_check.toLowerCase();if(i.type===Hi.COMMENT){this.tag_complete=true}this.is_start_tag=this.tag_check.charAt(0)!=="/";this.tag_name=!this.is_start_tag?this.tag_check.substr(1):this.tag_check;this.is_end_tag=!this.is_start_tag||i.closed&&i.closed.text==="/>";var e=2;if(this.tag_start_char==="{"&&this.text.length>=3){if(this.text.charAt(2)==="~"){e=3}}this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(e)))}};ns.prototype._get_tag_open_token=function(t){var i=new rs(this._tag_stack.get_parser_token(),t);i.alignment_size=this._options.wrap_attributes_indent_size;i.is_end_tag=i.is_end_tag||hs(i.tag_check,this._options.void_elements);i.is_empty_element=i.tag_complete||i.is_start_tag&&i.is_end_tag;i.is_unformatted=!i.tag_complete&&hs(i.tag_check,this._options.unformatted);i.is_content_unformatted=!i.is_empty_element&&hs(i.tag_check,this._options.content_unformatted);i.is_inline_element=hs(i.tag_name,this._options.inline)||this._options.inline_custom_elements&&i.tag_name.includes("-")||i.tag_start_char==="{";return i};ns.prototype._set_tag_position=function(t,i,s,e,h){if(!s.is_empty_element){if(s.is_end_tag){s.start_tag_token=this._tag_stack.try_pop(s.tag_name)}else{if(this._do_optional_end_element(s)){if(!s.is_inline_element){t.print_newline(false)}}this._tag_stack.record_tag(s);if((s.tag_name==="script"||s.tag_name==="style")&&!(s.is_unformatted||s.is_content_unformatted)){s.custom_beautifier_name=es(s.tag_check,i)}}}if(hs(s.tag_check,this._options.extra_liners)){t.print_newline(false);if(!t._output.just_added_blankline()){t.print_newline(true)}}if(s.is_empty_element){if(s.tag_start_char==="{"&&s.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]);s.indent_content=true;var a=t.current_line_has_match(/{{#if/);if(!a){t.print_newline(false)}}if(s.tag_name==="!--"&&h.type===Hi.TAG_CLOSE&&e.is_end_tag&&s.text.indexOf("\n")===-1);else{if(!(s.is_inline_element||s.is_unformatted)){t.print_newline(false)}this._calcluate_parent_multiline(t,s)}}else if(s.is_end_tag){var u=false;u=s.start_tag_token&&s.start_tag_token.multiline_content;u=u||!s.is_inline_element&&!(e.is_inline_element||e.is_unformatted)&&!(h.type===Hi.TAG_CLOSE&&s.start_tag_token===e)&&h.type!=="TK_CONTENT";if(s.is_content_unformatted||s.is_unformatted){u=false}if(u){t.print_newline(false)}}else{s.indent_content=!s.custom_beautifier_name;if(s.tag_start_char==="<"){if(s.tag_name==="html"){s.indent_content=this._options.indent_inner_html}else if(s.tag_name==="head"){s.indent_content=this._options.indent_head_inner_html}else if(s.tag_name==="body"){s.indent_content=this._options.indent_body_inner_html}}if(!(s.is_inline_element||s.is_unformatted)&&(h.type!=="TK_CONTENT"||s.is_content_unformatted)){t.print_newline(false)}this._calcluate_parent_multiline(t,s)}};ns.prototype._calcluate_parent_multiline=function(t,i){if(i.parent&&t._output.just_added_newline()&&!((i.is_inline_element||i.is_unformatted)&&i.parent.is_inline_element)){i.parent.multiline_content=true}};var fs=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"];var os=["a","audio","del","ins","map","noscript","video"];ns.prototype._do_optional_end_element=function(t){var i=null;if(t.is_empty_element||!t.is_start_tag||!t.parent){return}if(t.tag_name==="body"){i=i||this._tag_stack.try_pop("head")}else if(t.tag_name==="li"){i=i||this._tag_stack.try_pop("li",["ol","ul","menu"])}else if(t.tag_name==="dd"||t.tag_name==="dt"){i=i||this._tag_stack.try_pop("dt",["dl"]);i=i||this._tag_stack.try_pop("dd",["dl"])}else if(t.parent.tag_name==="p"&&fs.indexOf(t.tag_name)!==-1){var s=t.parent.parent;if(!s||os.indexOf(s.tag_name)===-1){i=i||this._tag_stack.try_pop("p")}}else if(t.tag_name==="rp"||t.tag_name==="rt"){i=i||this._tag_stack.try_pop("rt",["ruby","rtc"]);i=i||this._tag_stack.try_pop("rp",["ruby","rtc"])}else if(t.tag_name==="optgroup"){i=i||this._tag_stack.try_pop("optgroup",["select"])}else if(t.tag_name==="option"){i=i||this._tag_stack.try_pop("option",["select","datalist","optgroup"])}else if(t.tag_name==="colgroup"){i=i||this._tag_stack.try_pop("caption",["table"])}else if(t.tag_name==="thead"){i=i||this._tag_stack.try_pop("caption",["table"]);i=i||this._tag_stack.try_pop("colgroup",["table"])}else if(t.tag_name==="tbody"||t.tag_name==="tfoot"){i=i||this._tag_stack.try_pop("caption",["table"]);i=i||this._tag_stack.try_pop("colgroup",["table"]);i=i||this._tag_stack.try_pop("thead",["table"]);i=i||this._tag_stack.try_pop("tbody",["table"])}else if(t.tag_name==="tr"){i=i||this._tag_stack.try_pop("caption",["table"]);i=i||this._tag_stack.try_pop("colgroup",["table"]);i=i||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])}else if(t.tag_name==="th"||t.tag_name==="td"){i=i||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]);i=i||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"])}t.parent=this._tag_stack.get_parser_token();return i};var ls=ns;var cs={Beautifier:ls};var ds=cs.Beautifier,vs=Di.Options;function bs(t,i,s,e){var h=new ds(t,i,s,e);return h.beautify()}var ps=bs;var ms=function(){return new vs};ps.defaultOptions=ms;function gs(t,i,s,e){s=s||fi;e=e||Ki;return ps(t,i,s,e)}gs.defaultOptions=ps.defaultOptions;var ks=fi;var ws=Ki;var xs=gs;var _s={js:ks,css:ws,html:xs};var ys=n((function(t){function i(t,i,s){var e=function(i,s){return t.js_beautify(i,s)};e.js=t.js_beautify;e.css=i.css_beautify;e.html=s.html_beautify;e.js_beautify=t.js_beautify;e.css_beautify=i.css_beautify;e.html_beautify=s.html_beautify;return e}{(function(t){var s=_s;s.js_beautify=s.js;s.css_beautify=s.css;s.html_beautify=s.html;t.exports=i(s,s,s)})(t)}}));const Es='code[class*=language-],pre[class*=language-]{color:#393A34;font-family:"Consolas", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre>code[class*=language-]{font-size:1em}pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection{background:#C1DEF1}pre[class*=language-]::selection,pre[class*=language-] ::selection,code[class*=language-]::selection,code[class*=language-] ::selection{background:#C1DEF1}pre[class*=language-]{padding:1em;margin:0.5em 0;overflow:auto;border:1px solid #dddddd;background-color:white}:not(pre)>code[class*=language-]{padding:0.2em;padding-top:1px;padding-bottom:1px;background:#f8f8f8;border:1px solid #dddddd}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#008000;font-style:italic}.token.namespace{opacity:0.7}.token.string{color:#A31515}.token.punctuation,.token.operator{color:#393A34;}.token.url,.token.symbol,.token.number,.token.boolean,.token.variable,.token.constant,.token.inserted{color:#36acaa}.token.atrule,.token.keyword,.token.attr-value,.language-autohotkey .token.selector,.language-json .token.boolean,.language-json .token.number,code[class*=language-css]{color:#0000ff}.token.function{color:#393A34}.token.deleted,.language-autohotkey .token.tag{color:#9a050f}.token.selector,.language-autohotkey .token.keyword{color:#00009f}.token.important{color:#e90}.token.important,.token.bold{font-weight:bold}.token.italic{font-style:italic}.token.class-name,.language-json .token.property{color:#2B91AF}.token.tag,.token.selector{color:#800000}.token.attr-name,.token.property,.token.regex,.token.entity{color:#ff0000}.token.directive.tag .tag{background:#ffff00;color:#393A34}.line-numbers.line-numbers .line-numbers-rows{border-right-color:#a5a5a5}.line-numbers .line-numbers-rows>span:before{color:#2B91AF}.line-highlight.line-highlight{background:rgba(193, 222, 241, 0.2);background:-webkit-linear-gradient(left, rgba(193, 222, 241, 0.2) 70%, rgba(221, 222, 241, 0));background:linear-gradient(to right, rgba(193, 222, 241, 0.2) 70%, rgba(221, 222, 241, 0))}:host-context([data-theme=dark]){}:host-context([data-theme=dark]) pre[class*=language-],:host-context([data-theme=dark]) code[class*=language-]{color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, "Andale Mono", "Ubuntu Mono", "Courier New", monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}:host-context([data-theme=dark]) pre[class*=language-]::selection,:host-context([data-theme=dark]) code[class*=language-]::selection,:host-context([data-theme=dark]) pre[class*=language-] *::selection,:host-context([data-theme=dark]) code[class*=language-] *::selection{text-shadow:none;background:#264F78}@media print{:host-context([data-theme=dark]) pre[class*=language-],:host-context([data-theme=dark]) code[class*=language-]{text-shadow:none}}:host-context([data-theme=dark]) pre[class*=language-]{padding:1em;margin:0.5em 0;overflow:auto;background:#1e1e1e}:host-context([data-theme=dark]) :not(pre)>code[class*=language-]{padding:0.1em 0.3em;border-radius:0.3em;color:#db4c69;background:#1e1e1e}:host-context([data-theme=dark]) .namespace{opacity:0.7}:host-context([data-theme=dark]) .token.doctype .token.doctype-tag{color:#569CD6}:host-context([data-theme=dark]) .token.doctype .token.name{color:#9cdcfe}:host-context([data-theme=dark]) .token.comment,:host-context([data-theme=dark]) .token.prolog{color:#6a9955}:host-context([data-theme=dark]) .token.punctuation,:host-context([data-theme=dark]) .language-html .language-css .token.punctuation,:host-context([data-theme=dark]) .language-html .language-javascript .token.punctuation{color:#d4d4d4}:host-context([data-theme=dark]) .token.property,:host-context([data-theme=dark]) .token.tag,:host-context([data-theme=dark]) .token.boolean,:host-context([data-theme=dark]) .token.number,:host-context([data-theme=dark]) .token.constant,:host-context([data-theme=dark]) .token.symbol,:host-context([data-theme=dark]) .token.inserted,:host-context([data-theme=dark]) .token.unit{color:#b5cea8}:host-context([data-theme=dark]) .token.selector,:host-context([data-theme=dark]) .token.attr-name,:host-context([data-theme=dark]) .token.string,:host-context([data-theme=dark]) .token.char,:host-context([data-theme=dark]) .token.builtin,:host-context([data-theme=dark]) .token.deleted{color:#ce9178}:host-context([data-theme=dark]) .language-css .token.string.url{text-decoration:underline}:host-context([data-theme=dark]) .token.operator,:host-context([data-theme=dark]) .token.entity{color:#d4d4d4}:host-context([data-theme=dark]) .token.operator.arrow{color:#569CD6}:host-context([data-theme=dark]) .token.atrule{color:#ce9178}:host-context([data-theme=dark]) .token.atrule .token.rule{color:#c586c0}:host-context([data-theme=dark]) .token.atrule .token.url{color:#9cdcfe}:host-context([data-theme=dark]) .token.atrule .token.url .token.function{color:#dcdcaa}:host-context([data-theme=dark]) .token.atrule .token.url .token.punctuation{color:#d4d4d4}:host-context([data-theme=dark]) .token.keyword{color:#569CD6}:host-context([data-theme=dark]) .token.keyword.module,:host-context([data-theme=dark]) .token.keyword.control-flow{color:#c586c0}:host-context([data-theme=dark]) .token.function,:host-context([data-theme=dark]) .token.function .token.maybe-class-name{color:#dcdcaa}:host-context([data-theme=dark]) .token.regex{color:#d16969}:host-context([data-theme=dark]) .token.important{color:#569cd6}:host-context([data-theme=dark]) .token.italic{font-style:italic}:host-context([data-theme=dark]) .token.constant{color:#9cdcfe}:host-context([data-theme=dark]) .token.class-name,:host-context([data-theme=dark]) .token.maybe-class-name{color:#4ec9b0}:host-context([data-theme=dark]) .token.console{color:#9cdcfe}:host-context([data-theme=dark]) .token.parameter{color:#9cdcfe}:host-context([data-theme=dark]) .token.interpolation{color:#9cdcfe}:host-context([data-theme=dark]) .token.punctuation.interpolation-punctuation{color:#569cd6}:host-context([data-theme=dark]) .token.boolean{color:#569cd6}:host-context([data-theme=dark]) .token.property,:host-context([data-theme=dark]) .token.variable,:host-context([data-theme=dark]) .token.imports .token.maybe-class-name,:host-context([data-theme=dark]) .token.exports .token.maybe-class-name{color:#9cdcfe}:host-context([data-theme=dark]) .token.selector{color:#d7ba7d}:host-context([data-theme=dark]) .token.escape{color:#d7ba7d}:host-context([data-theme=dark]) .token.tag{color:#569cd6}:host-context([data-theme=dark]) .token.tag .token.punctuation{color:#808080}:host-context([data-theme=dark]) .token.cdata{color:#808080}:host-context([data-theme=dark]) .token.attr-name{color:#9cdcfe}:host-context([data-theme=dark]) .token.attr-value,:host-context([data-theme=dark]) .token.attr-value .token.punctuation{color:#ce9178}:host-context([data-theme=dark]) .token.attr-value .token.punctuation.attr-equals{color:#d4d4d4}:host-context([data-theme=dark]) .token.entity{color:#569cd6}:host-context([data-theme=dark]) .token.namespace{color:#4ec9b0}:host-context([data-theme=dark]) pre[class*=language-javascript],:host-context([data-theme=dark]) code[class*=language-javascript],:host-context([data-theme=dark]) pre[class*=language-jsx],:host-context([data-theme=dark]) code[class*=language-jsx],:host-context([data-theme=dark]) pre[class*=language-typescript],:host-context([data-theme=dark]) code[class*=language-typescript],:host-context([data-theme=dark]) pre[class*=language-tsx],:host-context([data-theme=dark]) code[class*=language-tsx]{color:#9cdcfe}:host-context([data-theme=dark]) pre[class*=language-css],:host-context([data-theme=dark]) code[class*=language-css]{color:#ce9178}:host-context([data-theme=dark]) pre[class*=language-html],:host-context([data-theme=dark]) code[class*=language-html]{color:#d4d4d4}:host-context([data-theme=dark]) .language-regex .token.anchor{color:#dcdcaa}:host-context([data-theme=dark]) .language-html .token.punctuation{color:#808080}:host-context([data-theme=dark]) pre[class*=language-]>code[class*=language-]{position:relative;z-index:1}:host-context([data-theme=dark]) .line-highlight.line-highlight{background:#f7ebc6;box-shadow:inset 5px 0 0 #f7d87c;z-index:0}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:0.8em;text-align:right}*{box-sizing:border-box}:host{font-family:var(--font-family-base)}::selection{color:var(--color-white, white);background:var(--color-primary, #0f62fe)}::-webkit-scrollbar{width:var(--scrollbar-width, 0.75rem);height:var(--scrollbar-width, 0.75rem)}::-webkit-scrollbar-track{background:#f1f1f1}::-webkit-scrollbar-thumb{background:#888}::-webkit-scrollbar-thumb :hover{background:#555}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.center-content{display:flex;align-items:center;justify-content:center}:host([hidden]){display:none}@keyframes reveal{0%{opacity:0;transform:translateY(8px)}}:host{display:block;height:100%}.code-loader{height:10rem;background-color:var(--field-01, #f4f4f4);display:flex;align-items:center;justify-content:center;gap:var(--spacing-02, 0.25rem)}.code-highlighter{position:relative;height:100%;background-color:var(--code-highlighter-background, var(--color-purple-10, #f6f2ff));color:var(--text-primary, #161616)}.code-highlighter .scroll-wrapper{height:100%;overflow-y:auto;padding:var(--spacing-05, 1rem)}.code-highlighter .scroll-wrapper .line-numbers-wrapper{height:100%;position:relative;font-family:var(--text-sm-font-family, );font-size:var(--text-sm-font-size, 0.875rem);font-weight:var(--text-sm-font-weight, );line-height:var(--text-sm-line-height, 1.25rem);letter-spacing:var(--text-sm-letter-spacing, 0rem)}.code-highlighter .scroll-wrapper .line-numbers-wrapper.line-numbers{margin-left:3.8rem}.code-highlighter .scroll-wrapper .line-numbers-wrapper .highlighter{margin:0}.code-highlighter .copy-btn{position:absolute;top:0.675rem;right:var(--spacing-03, 0.5rem)}.code-highlighter .icon-only{--button-padding:.5rem}:host-context([data-theme=dark]) .code-highlighter{background-color:var(--code-highlighter-background-dark, var(--color-purple-100, #1c0f30))}';var Ts;(function(t){t["markup"]="markup";t["css"]="css";t["clike"]="clike";t["javascript"]="javascript";t["abap"]="abap";t["actionscript"]="actionscript";t["ada"]="ada";t["apacheconf"]="apacheconf";t["apl"]="apl";t["applescript"]="applescript";t["arduino"]="arduino";t["arff"]="arff";t["asciidoc"]="asciidoc";t["asm6502"]="asm6502";t["aspnet"]="aspnet";t["autohotkey"]="autohotkey";t["autoit"]="autoit";t["bash"]="bash";t["basic"]="basic";t["batch"]="batch";t["bison"]="bison";t["brainfuck"]="brainfuck";t["bro"]="bro";t["c"]="c";t["csharp"]="csharp";t["cpp"]="cpp";t["coffeescript"]="coffeescript";t["clojure"]="clojure";t["crystal"]="crystal";t["csp"]="csp";t["cssExtras"]="css-extras";t["d"]="d";t["dart"]="dart";t["diff"]="diff";t["django"]="django";t["docker"]="docker";t["eiffel"]="eiffel";t["elixir"]="elixir";t["elm"]="elm";t["erb"]="erb";t["erlang"]="erlang";t["fsharp"]="fsharp";t["flow"]="flow";t["fortran"]="fortran";t["gedcom"]="gedcom";t["gherkin"]="gherkin";t["git"]="git";t["glsl"]="glsl";t["go"]="go";t["graphql"]="graphql";t["groovy"]="groovy";t["haml"]="haml";t["handlebars"]="handlebars";t["haskell"]="haskell";t["haxe"]="haxe";t["http"]="http";t["hpkp"]="hpkp";t["hsts"]="hsts";t["ichigojam"]="ichigojam";t["icon"]="icon";t["inform7"]="inform7";t["ini"]="ini";t["io"]="io";t["j"]="j";t["java"]="java";t["jolie"]="jolie";t["json"]="json";t["jsx"]="jsx";t["julia"]="julia";t["keyman"]="keyman";t["kotlin"]="kotlin";t["latex"]="latex";t["less"]="less";t["lilypond"]="lilypond";t["liquid"]="liquid";t["lisp"]="lisp";t["livescript"]="livescript";t["lolcode"]="lolcode";t["lua"]="lua";t["makefile"]="makefile";t["markdown"]="markdown";t["markupTemplating"]="markup-templating";t["matlab"]="matlab";t["mel"]="mel";t["mizar"]="mizar";t["monkey"]="monkey";t["n4js"]="n4js";t["nasm"]="nasm";t["nginx"]="nginx";t["nim"]="nim";t["nix"]="nix";t["nsis"]="nsis";t["objectivec"]="objectivec";t["ocaml"]="ocaml";t["opencl"]="opencl";t["oz"]="oz";t["parigp"]="parigp";t["parser"]="parser";t["pascal"]="pascal";t["perl"]="perl";t["php"]="php";t["phpExtras"]="php-extras";t["plsql"]="plsql";t["powershell"]="powershell";t["processing"]="processing";t["prolog"]="prolog";t["properties"]="properties";t["protobuf"]="protobuf";t["pug"]="pug";t["puppet"]="puppet";t["pure"]="pure";t["python"]="python";t["q"]="q";t["qore"]="qore";t["r"]="r"})(Ts||(Ts={}));const As=class{constructor(i){t(this,i);this.codeString="";this.parsedCodeString="";this.language=Ts.javascript;this.lineNumbers=false;this.value="";this.format=true;this.compiledCode=null}languageWatcher(){this.renderPrism()}themeWatcher(){this.renderPrism()}async componentWillLoad(){this.codeString="";if(this.value){this.codeString=this.value}else if(this.elm.querySelector("code")){this.codeString=this.elm.querySelector("code").innerHTML}this.codeString=this.decode(this.codeString);if(!window["Prism"]){await u()}}componentDidLoad(){const t=window["Prism"];const i=t.plugins.autoloader;if(i){if(!t.languages[this.language])i.loadLanguages([this.language])}setTimeout((()=>this.renderPrism()),1e3)}decode(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")}renderPrism(){if(this.format&&this.language==="javascript"||this.language==="html"||this.language==="css"){switch(this.language){case"javascript":this.parsedCodeString=ys.js(this.codeString,{wrap_line_length:120});break;case"html":this.parsedCodeString=ys.html(this.codeString,{wrap_line_length:120});break;case"css":this.parsedCodeString=ys.css(this.codeString,{wrap_line_length:120});break}this.populateCode()}else{this.parsedCodeString=this.codeString;this.populateCode()}}populateCode(){const t=window["Prism"];const i=t.highlight(this.parsedCodeString,t.languages[this.language],this.language);let s="";if(this.lineNumbers){const t=i.split("\n").length;const e=new Array(t+1).join("<span></span>");s=`<span aria-hidden='true' class='line-numbers-rows'>${e}</span>`}this.compiledCode=i+s}handleCopyClick(){window.navigator.clipboard.writeText(this.parsedCodeString);alert("copied")}render(){return i(s,null,this.compiledCode!==null&&i("div",{class:"code-highlighter"},i("div",{class:"scroll-wrapper"},i("div",{class:{"line-numbers-wrapper":true,"line-numbers":this.lineNumbers}},i("pre",{dir:"ltr",class:"highlighter line-numbers",innerHTML:this.compiledCode}))),i("goat-button",{class:"copy-btn icon-only",size:"sm",color:"secondary",variant:"ghost","aria-label":"Copy code",title:"Copy code",icon:"copy","onGoat:click":()=>{this.handleCopyClick()}})),this.compiledCode===null&&i("div",{class:"code-loader"},i("goat-spinner",null),"Loading code..."))}get elm(){return e(this)}static get watchers(){return{language:["languageWatcher"],lineNumbers:["themeWatcher"]}}};As.style=Es;export{As as goat_code_highlighter};
//# sourceMappingURL=p-037574b6.entry.js.map
import{h as t,r as l,c as o,H as e,g as r}from"./p-268f1d1c.js";import{a as s}from"./p-ede0f94e.js";const a=class{constructor(t){l(this,t),this.p4CellClick=o(this,"p4CellClick",7),this.p4SelectChange=o(this,"p4SelectChange",7),this.isSelectAll=!1,this.columns=[],this.dataSource=[],this.selectedRowKeys=[],this.keyField="id",this.onSelectAllClick=()=>{let t=[];this.isSelectAll=!this.isSelectAll,this.isSelectAll&&(t=this.dataSource.map((t=>t[this.keyField]))),this.onSelectChange(t)},this.onRowSelectClick=t=>{let l=[...this.selectedRowKeys];l.includes(t[this.keyField])?(this.isSelectAll=!1,l=l.filter((l=>l!==t[this.keyField]))):l.push(t[this.keyField]),this.onSelectChange(l)},this.onCellMouseOver=t=>{this.hoverRecord=t},this.handleScroll=s((()=>{const t=this.el.shadowRoot,l=t.querySelector(".header"),o=l.querySelector(".right-panel"),e=t.querySelectorAll(".left-panel"),r=t.querySelector(".list-scroll-wrapper"),s=r.getBoundingClientRect().x-o.getBoundingClientRect().x;e.forEach((function(t){t.style.left=s+"px"}));const a=t.querySelector(".body");a&&(l.style.top=r.getBoundingClientRect().y-a.getBoundingClientRect().y+"px")}),1)}onSelectChange(t){this.selectedRowKeys=t,this.p4SelectChange.emit({value:this.selectedRowKeys})}onCellClick(t,l){this.p4CellClick.emit({record:t,column:l})}componentDidLoad(){const t=this.el.shadowRoot,l=t.querySelector(".header"),o=l.querySelector(".left-panel"),e=l.querySelector(".right-panel");let r=o.clientHeight;r<e.clientHeight?o.querySelector(".col").style.height=e.clientHeight+"px":e.querySelector(".col").style.height=r+"px";let s=o.clientWidth;if(e.style.paddingLeft=s+"px",this.dataSource&&this.dataSource.length){const o=t.querySelector(".body"),e=o.querySelector(".right-panel"),r=o.querySelector(".left-panel");e.style.paddingLeft=s+"px",o.style.paddingTop=l.clientHeight+"px";const a=e.querySelectorAll(".row");r.querySelectorAll(".row").forEach(((t,l)=>{let o=t.querySelector(".col").clientHeight;o<a[l].querySelector(".col").clientHeight?t.querySelector(".col").style.height=a[l].querySelector(".col").clientHeight+"px":a[l].querySelector(".col").style.height=o+1+"px"}))}}renderHeader(){const l=[],o=[];return"checkbox"===this.selectionType&&l.push(t("div",{class:"col",style:{width:"3rem"}},t("div",{class:"col-content"},t("p4-checkbox",{class:"checkbox",value:this.isSelectAll,onP4Change:this.onSelectAllClick})))),this.columns.forEach((e=>{let r=300;e.width&&(r=parseInt(e.width));const s=t("div",{class:"col",style:{width:r+"px",maxWidth:r+"px"}},t("div",{class:"col-content"},e.label));e.fixed?l.push(s):o.push(s)})),t("div",{class:"header"},t("div",{class:"left-panel"},t("div",{class:"table"},t("div",{class:"row"},l))),t("div",{class:"right-panel"},t("div",{class:"table"},t("div",{class:"row"},o))))}renderBody(){const l=[],o=[];return this.dataSource.forEach((e=>{const r=[],s=[];"checkbox"===this.selectionType&&r.push(t("div",{class:{col:!0,"col-hover":this.hoverRecord===e},style:{width:"3rem"}},t("p4-checkbox",{class:"checkbox",value:this.selectedRowKeys.includes(e[this.keyField]),onP4Change:()=>this.onRowSelectClick(e)}))),this.columns.forEach((l=>{let o=300;l.width&&(o=parseInt(l.width));const a=t("div",{class:{col:!0,"col-hover":this.hoverRecord===e},style:{width:o+"px",maxWidth:o+"px"},onMouseOver:()=>this.onCellMouseOver(e),onClick:()=>{"Range"!=window.getSelection().type&&this.onCellClick(e,l)}},t("div",{class:"col-content"},e[l.name]?e[l.name]:""));l.fixed?r.push(a):s.push(a)})),o.push(t("div",{class:"row"},r)),l.push(t("div",{class:"row"},s))})),t("div",{class:"body"},t("div",{class:"body-container"},t("div",{class:"left-panel"},t("div",{class:"table"},o)),t("div",{class:"right-panel"},t("div",{class:"table"},l))))}render(){return t(e,null,t("div",{class:"table-component"},t("div",{class:"list-scroll-wrapper",onScroll:t=>this.handleScroll(t)},this.renderHeader(),this.dataSource.length?this.renderBody():t("div",{class:"empty-data"},t("div",{class:"empty-image"},t("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},t("g",{transform:"translate(0 1)",fill:"none","fill-rule":"evenodd"},t("ellipse",{fill:"#F5F5F5",cx:"32",cy:"33",rx:"32",ry:"7"}),t("g",{"fill-rule":"nonzero",stroke:"#D9D9D9"},t("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),t("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:"#FAFAFA"}))))),t("p",{class:"empty-image-description"},"No Data")))))}get el(){return r(this)}};a.style="*{box-sizing:border-box}::selection{color:var(--color-shades-white);background:var(--color-primary-500)}:host{display:block}.table-component{color:var(--color-paragraph);font-family:var(--font-family-paragraph);font-size:var(--font-size-p1);line-height:var(--line-height-p1);font-weight:normal;font-weight:600;border:1px solid var(--color-neutral-200);box-sizing:border-box;border-radius:5px;height:100%}.table-component .list-scroll-wrapper{position:relative;overflow:auto;height:100%;width:100%;min-height:20em}.table-component .list-scroll-wrapper .header{color:var(--color-paragraph);font-family:var(--font-family-paragraph);font-size:var(--font-size-caption);line-height:var(--line-height-caption);font-weight:600;letter-spacing:0.08em;text-transform:uppercase;position:absolute;left:0;top:0;z-index:100}.table-component .list-scroll-wrapper .header .left-panel .col{background:var(--color-neutral-50)}.table-component .list-scroll-wrapper .header .right-panel .col{background:var(--color-neutral-50)}.table-component .list-scroll-wrapper .body{position:absolute;padding-top:100px}.table-component .list-scroll-wrapper .checkbox{padding-bottom:0}.table-component .list-scroll-wrapper .body-container{position:relative}.table-component .list-scroll-wrapper .left-panel{position:absolute}.table-component .list-scroll-wrapper .table{display:table;line-height:normal}.table-component .list-scroll-wrapper .table .row{display:table-row;line-height:normal}.table-component .list-scroll-wrapper .table .col{margin:0;display:table-cell;border-right:1px solid var(--color-neutral-200);border-bottom:1px solid var(--color-neutral-200);padding:var(--space-3) var(--space-6);box-sizing:border-box;vertical-align:middle;line-height:normal}.table-component .list-scroll-wrapper .body .row .col{cursor:pointer;background:white}.table-component .list-scroll-wrapper .body .row .col .col-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.table-component .list-scroll-wrapper .body .row .col.col-hover{background:var(--color-success-50)}.table-component .list-scroll-wrapper .right-panel .table{width:100%;table-layout:fixed}.table-component .list-scroll-wrapper .right-panel .table .col:last-child{border-right:none}.table-component .list-scroll-wrapper .empty-data{text-align:center;position:absolute;margin:auto;top:46px;right:0;bottom:0;left:0;border-radius:3px;height:max-content;color:var(--color-neutral-600)}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:#f1f1f1}::-webkit-scrollbar-thumb{background:#888}::-webkit-scrollbar-thumb :hover{background:#555}";export{a as p4_table}
import{r as t,c as i,h as n,H as o,g as a}from"./p-29952b49.js";import{d as e,f as s}from"./p-1df439d8.js";let r=0;const l=class{constructor(n){t(this,n),this.p4Input=i(this,"p4:input",7),this.p4Change=i(this,"p4:change",7),this.p4Blur=i(this,"p4:blur",7),this.p4Focus=i(this,"p4:focus",7),this.p4ActionClick=i(this,"p4:action-click",7),this.id=++r,this.startSlotHasContent=!1,this.endSlotHasContent=!1,this.hasFocus=!1,this.name=`p4-input-${this.id}`,this.value="",this.size="md",this.type="text",this.disabled=!1,this.required=!1,this.clearInput=!1,this.debounce=300,this.autocomplete="off",this.actions=[],this.inputHandler=t=>{const i=t.target;i&&(this.value=i.value),this.p4Input.emit(t),this.p4Change.emit(t)},this.blurHandler=t=>{this.hasFocus=!1,this.p4Blur.emit(t)},this.focusHandler=t=>{this.hasFocus=!0,this.p4Focus.emit(t)},this.actionClickHandler=t=>{t.disabled||this.p4ActionClick.emit(t)}}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async setBlur(){this.nativeInput&&this.nativeInput.blur()}valueChanged(){let t=this.value;"number"===this.type&&t&&(this.value=JSON.parse(t+""))}debounceChanged(){this.p4Change=e(this.p4Change,this.debounce)}componentWillLoad(){if(this.elm.hasAttribute("tabindex")){const t=this.elm.getAttribute("tabindex");this.tabindex=null!==t?t:void 0,this.elm.removeAttribute("tabindex")}const t=s(this.elm);t&&(t.id=`p4-input-${this.id}-lbl`,t.setAttribute("required",this.required+""))}componentDidLoad(){let t=this.elm.shadowRoot.querySelector(".slot-container.start").querySelector("slot");this.startSlotHasContent=t&&!!t.assignedNodes().length,t=this.elm.shadowRoot.querySelector(".slot-container.end").querySelector("slot"),this.endSlotHasContent=t&&!!t.assignedNodes().length}connectedCallback(){this.debounceChanged(),document.dispatchEvent(new CustomEvent("p4InputDidLoad",{detail:this.elm}))}disconnectedCallback(){document.dispatchEvent(new CustomEvent("p4InputDidUnload",{detail:this.elm}))}getActionIconSize(){return"lg"==this.size?"1.5rem":"sm"==this.size?"1rem":"1.25rem"}render(){const t=`p4-input-${this.id}-lbl`,i=s(this.elm),a=this.actions;return i&&(i.id=t,i.setAttribute("required",this.required+"")),n(o,{"aria-disabled":this.disabled?"true":null,focused:this.hasFocus},n("div",{class:{input:!0,[`input-type-${this.type}`]:!0,[`input-size-${this.size}`]:!0,"input-has-actions":!!a.length,"input-disabled":this.disabled,"start-slot-has-content":this.startSlotHasContent,"end-slot-has-content":this.endSlotHasContent}},n("div",{class:"slot-container start"},n("slot",{name:"start"})),n("input",{class:"native-input",name:this.name,"aria-labelledby":t,ref:t=>this.nativeInput=t,type:this.type,placeholder:this.placeholder,autocomplete:this.autocomplete,value:this.value,tabindex:this.tabindex,required:this.required,onInput:this.inputHandler,onBlur:this.blurHandler,onFocus:this.focusHandler,disabled:this.disabled}),n("div",{class:"slot-container end"},n("slot",{name:"end"})),n("div",{class:"input-actions"},a.map((t=>n("button",{type:"button",class:{"action-button":!0,"action-button-disabled":t.disabled},"aria-disabled":t.disabled,onClick:()=>this.actionClickHandler(t)},n("p4-icon",{type:t.icon,class:"action-icon",size:this.getActionIconSize()})))))))}get elm(){return a(this)}static get watchers(){return{value:["valueChanged"],debounce:["debounceChanged"]}}};l.style="*{box-sizing:border-box}::selection{color:var(--color-shades-white);background:var(--color-primary-500)}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.center-content{display:flex;align-items:center;justify-content:center}:host{display:block;padding-bottom:var(--space-3);--input-border-radius:var(--border-radius);--input-border-style:solid}.input{position:relative;display:flex;box-sizing:border-box;background-color:var(--color-shades-white);border:1px var(--input-border-style) var(--border-color);border-radius:var(--input-border-radius);overflow:hidden;cursor:text;align-items:stretch;justify-content:center;}.input .native-input,.input .display-value{flex:1;border:none;outline:none;background:none;padding-left:var(--space-4);padding-right:var(--space-4);width:100%;cursor:inherit}.input .native-input::placeholder,.input .display-value::placeholder{color:var(--color-neutral-400)}.input .slot-container{display:flex;align-items:center;justify-content:center}.input .slot-container slot::slotted(*){padding-bottom:0 !important;margin-bottom:0 !important;color:var(--color-neutral-400)}.input .slot-container slot::slotted(*) p4-icon{--color:var(--color-neutral-400)}.input .slot-container.start{padding-left:var(--space-3_5)}.input .slot-container.end{padding-right:var(--space-3_5)}.input .input-actions{line-height:0;display:flex}.input .input-actions .action-button{position:relative;border:none;box-shadow:none;background:var(--color-neutral-100);padding:0 var(--space-3_5) 0 var(--space-3_5);margin:0;border-radius:0;line-height:0;border-left:1px solid var(--border-color);cursor:pointer}.input .input-actions .action-button .action-icon{padding-bottom:0;--color:var(--color-neutral-600)}.input .input-actions .action-button:not(.action-button-disabled):focus{outline:none;background:var(--color-neutral-300)}.input .input-actions .action-button:not(.action-button-disabled):focus .action-icon{--color:var(--color-neutral-800)}.input .input-actions .action-button:not(.action-button-disabled):active{background:var(--color-primary-500)}.input .input-actions .action-button:not(.action-button-disabled):active .action-icon{--color:var(--color-shades-white)}.input .input-actions .action-button.action-button-disabled{cursor:not-allowed}.input .input-actions .action-button.action-button-disabled .action-icon{--color:var(--color-neutral-300)}.input.start-slot-has-content .native-input,.input.start-slot-has-content .display-value{padding-left:var(--space-2)}.input.input-has-actions .native-input,.input.input-has-actions .display-value,.input.end-slot-has-content .native-input,.input.end-slot-has-content .display-value{padding-right:var(--space-2)}.input:not(.start-slot-has-content) .slot-container.start{display:none}.input:not(.end-slot-has-content) .slot-container.end{display:none}.input.input-size-lg .native-input,.input.input-size-lg .display-value{height:3.25rem;font-family:var(--font-family-paragraph);font-size:var(--font-size-p2);line-height:var(--line-height-p2);font-weight:normal;padding-top:var(--space-3_5);padding-bottom:var(--space-3_5)}.input.input-size-md .native-input,.input.input-size-md .display-value{height:var(--space-11);font-family:var(--font-family-paragraph);font-size:var(--font-size-p1);line-height:var(--line-height-p1);font-weight:normal;padding-top:var(--space-3);padding-bottom:var(--space-3)}.input.input-size-sm .native-input,.input.input-size-sm .display-value{height:var(--space-9);font-family:var(--font-family-paragraph);font-size:var(--font-size-p1);line-height:var(--line-height-p1);font-weight:normal;padding-top:var(--space-2_5);padding-bottom:var(--space-2_5)}.input.input-disabled{background-color:var(--color-neutral-100);cursor:not-allowed;opacity:1}.input.input-disabled .native-input,.input.input-disabled .display-value{color:var(--color-neutral-400)}:host([focused]) .input:not(.input-disabled){border-color:var(--color-primary-500);outline:none;box-shadow:0 0 0 0.25rem rgba(3, 155, 229, 0.25)}:host([focused]):host(.success) .input:not(.input-disabled){box-shadow:0 0 0 0.25rem rgba(16, 185, 129, 0.25)}:host([focused]):host(.error) .input:not(.input-disabled){box-shadow:0 0 0 0.25rem rgba(239, 68, 68, 0.25)}:host(.success) .input:not(.input-disabled){border-color:var(--color-success-500)}:host(.error) .input:not(.input-disabled){border-color:var(--color-error-500)}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield}";export{l as p4_input}
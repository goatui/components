import{r as t,c as i,h as n,H as e,g as s}from"./p-268f1d1c.js";import{d as o,f as a}from"./p-ede0f94e.js";let r=0;const h=class{constructor(n){t(this,n),this.p4Input=i(this,"p4Input",7),this.p4Change=i(this,"p4Change",7),this.p4Blur=i(this,"p4Blur",7),this.p4Focus=i(this,"p4Focus",7),this.inputId="p4-input-"+r++,this.hasFocus=!1,this.name=this.inputId,this.value="",this.size="md",this.variant="default",this.type="text",this.disabled=!1,this.required=!1,this.clearInput=!1,this.debounce=0,this.autocomplete="off",this.onInput=t=>{const i=t.target;i&&(this.value=i.value),this.p4Input.emit(t)},this.onBlur=t=>{this.hasFocus=!1,this.p4Blur.emit(t)},this.onFocus=t=>{this.hasFocus=!0,this.p4Focus.emit(t)},this.clearTextOnEnter=t=>{"Enter"===t.key&&this.clearTextInput(t)},this.clearTextInput=t=>{this.clearInput&&!this.disabled&&t&&(t.preventDefault(),t.stopPropagation(),this.setFocus()),this.value="",this.nativeInput&&(this.nativeInput.value="")}}getCssClasses(){const t=["input-component"];return t.push("variant-"+this.variant),t.push("size-"+this.size),t.push("type-"+this.type),this.required&&t.push("required"),this.disabled&&t.push("disabled"),t.join(" ")+" "}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async setBlur(){this.nativeInput&&this.nativeInput.blur()}valueChanged(){let t=this.value;"number"===this.type&&(t=t?JSON.parse(t+""):null),this.p4Change.emit({value:t})}debounceChanged(){this.p4Change=o(this.p4Change,this.debounce)}componentWillLoad(){if(this.el.hasAttribute("tabindex")){const t=this.el.getAttribute("tabindex");this.tabindex=null!==t?t:void 0,this.el.removeAttribute("tabindex")}}connectedCallback(){this.debounceChanged(),document.dispatchEvent(new CustomEvent("p4InputDidLoad",{detail:this.el}))}disconnectedCallback(){document.dispatchEvent(new CustomEvent("p4InputDidUnload",{detail:this.el}))}hasValue(){return("number"==typeof this.value?this.value.toString():(this.value||"").toString()).length>0}render(){const t=this.inputId+"-lbl",i=a(this.el);return i&&(i.id=t,this.required&&i.classList.add("required")),n(e,{"aria-disabled":this.disabled?"true":null,class:{"has-focus":this.hasFocus,"has-value":this.hasValue()}},n("div",{class:this.getCssClasses()},n("input",{class:"native-input",name:this.name,"aria-labelledby":t,ref:t=>this.nativeInput=t,type:this.type,placeholder:this.placeholder,autocomplete:this.autocomplete,value:this.value,tabindex:this.tabindex,required:this.required,onInput:this.onInput,onBlur:this.onBlur,onFocus:this.onFocus,disabled:this.disabled}),n("div",{class:"input-actions"},this.clearInput&&!this.disabled&&this.hasValue()&&n("button",{"aria-label":"reset",type:"button",class:"input-clear-icon",onTouchStart:this.clearTextInput,onMouseDown:this.clearTextInput,onKeyDown:this.clearTextOnEnter},n("p4-icon",{type:"x",size:"1.1rem",class:"icon"})))))}get el(){return s(this)}static get watchers(){return{value:["valueChanged"],debounce:["debounceChanged"]}}};h.style=":host{display:block;padding-bottom:var(--space-3);--input-border-radius:var(--border-radius)}.input-component{position:relative;display:flex;background-color:var(--color-shades-white);border:1px solid var(--border-color);border-radius:var(--input-border-radius);box-sizing:border-box;color:var(--color-neutral-500);line-height:1.5715;background-image:none;transition:all 0.3s;text-align:start;font-weight:400;letter-spacing:normal;cursor:text;}.input-component .native-input,.input-component .display-value{flex:1;border:none;outline:none;background:none;height:100%;width:100%;cursor:inherit;padding:0.25rem 0.75rem}.input-component .native-input::placeholder,.input-component .display-value::placeholder{color:#bfbfbf}.input-component .input-actions{line-height:0;display:flex}.input-component .input-actions>*:last-child{margin-right:0.5rem}.input-component .input-actions>*{height:100%;background:transparent;border:none;box-shadow:none;margin-left:0.5rem;padding:0;line-height:0}.input-component .input-actions .input-clear-icon{cursor:pointer}.input-component:not(.disabled):hover{color:var(--color-primary-500);border-color:var(--color-primary-500)}.input-component:not(.disabled):hover .input-clear-icon{display:inline-block}.input-component.variant-dashed{border-style:dashed}.input-component.disabled{background-color:#f5f5f5;cursor:not-allowed;opacity:1}:host(.has-focus) .input-component{outline:0}:host(.has-focus) .input-component .input-clear-icon{display:inline-block}:host(.danger){}:host(.no-border) .input-component{border:0}.input-component{}.input-component.size-lg{height:2.75rem}.input-component.size-md{height:2rem}.input-component.size-sm{height:1.5rem}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield}";export{h as p4_input}
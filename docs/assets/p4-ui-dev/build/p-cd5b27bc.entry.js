import{r as t,c as o,h as i,H as s,g as r}from"./p-29952b49.js";const n=class{constructor(i){t(this,i),this.p4ItemClick=o(this,"p4:dropdown:item-click",7),this.hasFocus=!1,this.isOpen=!1,this.size="md",this.listVariant="default",this.itemVariant="default",this.disabled=!1,this.showLoader=!1,this.data=[],this.position="bottom-left",this.itemClickHandler=t=>{this.disabled||this.p4ItemClick.emit(t)},this.closeList=()=>{!this.disabled&&this.isOpen&&(this.isOpen=!1,setTimeout((()=>this.setFocus()),100))},this.openList=()=>{this.disabled||this.isOpen||(this.isOpen=!0,setTimeout((()=>this.setFocus()),100))},this.toggleList=()=>{this.isOpen?this.closeList():this.openList()},this.blurHandler=()=>{this.hasFocus=!1},this.focusHandler=()=>{this.hasFocus=!0},this.keyDownHandler=t=>{"Enter"===t.key?(t.preventDefault(),this.toggleList()):"ArrowDown"===t.key?this.isOpen&&(t.preventDefault(),this.listElement.setFocus()):"ArrowUp"===t.key&&this.isOpen&&(t.preventDefault(),this.listElement.setFocus(!0))}}windowClick(t){t.target.closest("p4-dropdown")!==this.elm&&(this.isOpen=!1)}async setFocus(){this.displayElement.focus()}async setOpen(t=!0){this.isOpen=t}render(){return i(s,{"aria-disabled":this.disabled?"true":null,focused:this.hasFocus,position:this.position},i("div",{class:{dropdown:!0,[this.position]:!0}},i("button",{class:"dropdown-button",ref:t=>this.displayElement=t,onKeyDown:this.keyDownHandler,onBlur:this.blurHandler,onFocus:this.focusHandler,onClick:this.toggleList},i("div",{class:"slot-container"},i("slot",null))),this.renderDropdownList()))}renderDropdownList(){if(this.isOpen&&"string"!=typeof this.data)return i("div",{class:"dropdown-result"},i("p4-list",{ref:t=>this.listElement=t,data:this.data,variant:this.listVariant,itemVariant:this.itemVariant,"onP4:item-click":t=>{this.closeList(),this.itemClickHandler(t.detail)}}))}get elm(){return r(this)}};n.style="*{box-sizing:border-box}::selection{color:var(--color-shades-white);background:var(--color-primary-500)}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.center-content{display:flex;align-items:center;justify-content:center}:host{display:inline-block}.dropdown{position:relative;height:100%;width:100%;border-radius:var(--border-radius)}.dropdown .dropdown-button{border:none;background:none;height:100%;width:100%}.dropdown .dropdown-result{position:absolute;width:max-content;line-height:0;z-index:1000}.dropdown slot::slotted(*){font-family:var(--font-family-paragraph);font-size:var(--font-size-p1);line-height:var(--line-height-p1);font-weight:normal;padding-bottom:0 !important;margin-bottom:0 !important;color:var(--color-neutral-400)}.dropdown slot::slotted(*) p4-icon{--color:var(--color-neutral-400)}.dropdown.bottom-left .dropdown-result{top:calc(100% + var(--space-1));left:0}.dropdown.bottom-right .dropdown-result{top:calc(100% + var(--space-1));right:0}.dropdown.top-left .dropdown-result{bottom:calc(100% + var(--space-1));left:0}.dropdown.top-right .dropdown-result{bottom:calc(100% + var(--space-1));right:0}:host([focused]) .dropdown .dropdown-button{outline:none;box-shadow:0 0 0 0.25rem rgba(3, 155, 229, 0.25)}";export{n as p4_dropdown}
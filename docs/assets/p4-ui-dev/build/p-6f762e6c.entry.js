import{r as t,c as i,h as n,H as o,g as a}from"./p-29952b49.js";import{d as e,f as s}from"./p-ede0f94e.js";let r=0;const p=class{constructor(n){t(this,n),this.p4Input=i(this,"p4:input",7),this.p4Change=i(this,"p4:change",7),this.p4Blur=i(this,"p4:blur",7),this.p4Focus=i(this,"p4:focus",7),this.p4ActionClick=i(this,"p4:action-click",7),this.inputId="p4-input-"+r++,this.hasFocus=!1,this.name=this.inputId,this.value="",this.size="md",this.variant="default",this.type="text",this.disabled=!1,this.required=!1,this.clearInput=!1,this.debounce=300,this.autocomplete="off",this.actions=[],this.inputHandler=t=>{const i=t.target;i&&(this.value=i.value),this.p4Input.emit(t),this.p4Change.emit(t)},this.blurHandler=t=>{this.hasFocus=!1,this.p4Blur.emit(t)},this.focusHandler=t=>{this.hasFocus=!0,this.p4Focus.emit(t)},this.actionClickHandler=t=>{this.p4ActionClick.emit(t)}}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async setBlur(){this.nativeInput&&this.nativeInput.blur()}valueChanged(){let t=this.value;"number"===this.type&&t&&(this.value=JSON.parse(t+""))}debounceChanged(){this.p4Change=e(this.p4Change,this.debounce)}componentWillLoad(){if(this.el.hasAttribute("tabindex")){const t=this.el.getAttribute("tabindex");this.tabindex=null!==t?t:void 0,this.el.removeAttribute("tabindex")}}connectedCallback(){this.debounceChanged(),document.dispatchEvent(new CustomEvent("p4InputDidLoad",{detail:this.el}))}disconnectedCallback(){document.dispatchEvent(new CustomEvent("p4InputDidUnload",{detail:this.el}))}hasValue(){return("number"==typeof this.value?this.value.toString():(this.value||"").toString()).length>0}getActionIconSize(){return"lg"==this.size?"1.5rem":"sm"==this.size?"1rem":"1.25rem"}render(){const t=this.inputId+"-lbl",i=s(this.el),a=this.actions;return i&&(i.id=t,i.setAttribute("required",this.required+"")),n(o,{"aria-disabled":this.disabled?"true":null,class:{"has-focus":this.hasFocus,"has-value":this.hasValue()}},n("div",{class:{input:!0,[`input-variant-${this.variant}`]:!0,[`input-type-${this.type}`]:!0,[`input-size-${this.size}`]:!0,"input-has-actions":!!a.length,"input-disabled":this.disabled}},n("input",{class:"native-input",name:this.name,"aria-labelledby":t,ref:t=>this.nativeInput=t,type:this.type,placeholder:this.placeholder,autocomplete:this.autocomplete,value:this.value,tabindex:this.tabindex,required:this.required,onInput:this.inputHandler,onBlur:this.blurHandler,onFocus:this.focusHandler,disabled:this.disabled}),n("div",{class:"input-actions"},a.map((t=>n("button",{type:"button",class:{"action-button":!0,"action-button-disabled":t.disabled},disabled:!t.eventName||t.disabled,onClick:()=>this.actionClickHandler(t)},n("p4-icon",{type:t.icon,class:"action-icon",size:this.getActionIconSize()})))))))}get el(){return a(this)}static get watchers(){return{value:["valueChanged"],debounce:["debounceChanged"]}}};p.style="*{box-sizing:border-box}::selection{color:var(--color-shades-white);background:var(--color-primary-500)}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.center-content{display:flex;align-items:center;justify-content:center}:host{display:block;padding-bottom:var(--space-3);--input-border-radius:var(--border-radius)}.input{position:relative;display:flex;box-sizing:border-box;background-color:var(--color-shades-white);border:1px solid var(--border-color);border-radius:var(--input-border-radius);overflow:hidden;cursor:text;align-items:stretch;justify-content:center;}.input .native-input,.input .display-value{flex:1;border:none;outline:none;background:none;padding-left:var(--space-4);padding-right:var(--space-4);width:100%;cursor:inherit}.input .native-input::placeholder,.input .display-value::placeholder{color:var(--color-neutral-400)}.input.input-has-actions .native-input,.input.input-has-actions .display-value{padding-right:var(--space-2)}.input .input-actions{line-height:0;display:flex}.input .input-actions .action-button{position:relative;border:none;box-shadow:none;background:var(--color-neutral-100);padding:0 var(--space-3_5) 0 var(--space-3_5);margin:0;border-radius:0;line-height:0;border-left:1px solid var(--border-color);cursor:pointer}.input .input-actions .action-button .action-icon{padding-bottom:0;--color:var(--color-neutral-600)}.input .input-actions .action-button:focus{outline:none;background:var(--color-neutral-300)}.input .input-actions .action-button:focus .action-icon{--color:var(--color-neutral-800)}.input .input-actions .action-button:not(.action-button-disabled):active{background:var(--color-primary-500)}.input .input-actions .action-button:not(.action-button-disabled):active .action-icon{--color:var(--color-shades-white)}.input .input-actions .action-button.action-button-disabled{cursor:not-allowed}.input .input-actions .action-button.action-button-disabled .action-icon{--color:var(--color-neutral-300)}.input.input-size-lg .native-input,.input.input-size-lg .display-value{height:3.25rem;font-family:var(--font-family-paragraph);font-size:var(--font-size-p2);line-height:var(--line-height-p2);font-weight:normal;padding-top:var(--space-3_5);padding-bottom:var(--space-3_5)}.input.input-size-md .native-input,.input.input-size-md .display-value{height:var(--space-11);font-family:var(--font-family-paragraph);font-size:var(--font-size-p1);line-height:var(--line-height-p1);font-weight:normal;padding-top:var(--space-3);padding-bottom:var(--space-3)}.input.input-size-sm .native-input,.input.input-size-sm .display-value{height:var(--space-9);font-family:var(--font-family-paragraph);font-size:var(--font-size-p1);line-height:var(--line-height-p1);font-weight:normal;padding-top:var(--space-2_5);padding-bottom:var(--space-2_5)}.input.input-variant-dashed{border-style:dashed}.input.input-disabled{background-color:var(--color-neutral-100);cursor:not-allowed;opacity:1}.input.input-disabled .native-input,.input.input-disabled .display-value{color:var(--color-neutral-400)}:host(.has-focus) .input{outline:0}:host(.has-focus) .input:not(.input-disabled){border-color:var(--color-primary-300);box-shadow:-1px 0px 0px var(--color-neutral-300)}:host(.danger) .input{border-color:var(--color-error-500)}:host(.danger) .input:focus:not(.input-disabled):not(.input-variant-no-border){box-shadow:-1px 0px 0px var(--color-error-700)}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield}";export{p as p4_input}
import{r as t,c as i,h as o,H as n,g as e}from"./p-29952b49.js";import{f as s}from"./p-ede0f94e.js";let a=0;const r=class{constructor(o){t(this,o),this.p4Change=i(this,"p4Change",7),this.p4ActionClick=i(this,"p4ActionClick",7),this.p4Blur=i(this,"p4Blur",7),this.p4Focus=i(this,"p4Focus",7),this.hasFocus=!1,this.size="md",this.variant="default",this.required=!1,this.disabled=!1,this.showLoader=!1,this.type="select",this.config={itemValue:"value",itemLabel:"label"},this.options=[],this.actions=[],this.clearInput=!1,this.mode="close",this.searchString="",this.inputId="p4-select-"+a++,this.name=this.inputId,this.changeHandler=t=>{this.disabled||(this.value=this.getItemValue(t),this.activeOption=t,this.p4Change.emit({value:this.value,item:t}))},this.closeList=()=>{this.disabled||"open"!=this.mode||(this.mode="close",setTimeout((()=>{this.setFocus()}),100))},this.openList=()=>{this.disabled||"close"!=this.mode||(this.mode="open")},this.toggleList=()=>{"open"===this.mode?this.closeList():this.openList()},this.blurHandler=t=>{this.hasFocus=!1,this.p4Blur.emit(t),setTimeout((()=>{this.openList()}),300)},this.focusHandler=t=>{this.hasFocus=!0,this.p4Focus.emit(t)}}async setFocus(){this.displayElement.focus()}windowClick(t){t.target.closest("p4-select")!==this.elm&&this.closeList()}getOptionLabelByValue(t){if(this.options){const i=this.options.find((i=>this.getItemValue(i)===t));return i?this.getItemLabel(i):this.placeholder}}render(){const t=this.inputId+"-lbl",i=s(this.elm);return i&&(i.id=t,this.required&&i.classList.add("required")),o(n,{"aria-disabled":this.disabled?"true":null,class:{"has-focus":this.hasFocus,"has-value":this.hasValue()}},o("div",{class:"select"},o("div",{class:{input:!0,[`input-variant-${this.variant}`]:!0,[`input-size-${this.size}`]:!0,[`input-type-${this.type}`]:!0,"input-disabled":this.disabled}},o("div",{class:"display-value",tabindex:"1",onFocus:this.focusHandler,ref:t=>this.displayElement=t,onBlur:this.blurHandler,onKeyDown:t=>{"Enter"===t.key?(t.preventDefault(),this.toggleList()):"ArrowDown"===t.key?"open"==this.mode&&(t.preventDefault(),this.listElement.setFocus()):"ArrowUp"===t.key&&"open"==this.mode&&(t.preventDefault(),this.listElement.setFocus(!0))},onClick:()=>{this.toggleList()}},this.getOptionLabelByValue(this.value)),o("div",{class:"input-actions"},this.getModeIcon())),"open"==this.mode&&this.getOptions()))}getItemValue(t){return t[this.config.itemValue]}getItemLabel(t){return t[this.config.itemLabel]}hasValue(){return(this.value||"").toString().length>0}getActionIconSize(){return"lg"==this.size?"1.5rem":"sm"==this.size?"1rem":"1.25rem"}getModeIcon(){return o("button",{class:"action-button",type:"button",onClick:t=>(t.preventDefault(),setTimeout((()=>{"open"===this.mode?this.closeList():this.openList()})),!1)},o("p4-icon",{type:"open"==this.mode?"chevron-up":"chevron-down",size:this.getActionIconSize(),class:"action-icon"}))}getOptions(){if("string"!=typeof this.options){let t=[];return"string"!=typeof this.options&&(t=this.options),o("div",{class:"select-options"},o("p4-list",{ref:t=>this.listElement=t,data:t,value:this.value,"onP4:item-click":t=>{this.closeList(),this.changeHandler(t.detail.item),setTimeout((()=>{this.setFocus()}),100)}}))}}get elm(){return e(this)}};r.style="*{box-sizing:border-box}::selection{color:var(--color-shades-white);background:var(--color-primary-500)}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.center-content{display:flex;align-items:center;justify-content:center}:host{display:block;padding-bottom:var(--space-3);--input-border-radius:var(--border-radius)}.input{position:relative;display:flex;box-sizing:border-box;background-color:var(--color-shades-white);border:1px solid var(--border-color);border-radius:var(--input-border-radius);overflow:hidden;cursor:text;align-items:stretch;justify-content:center;}.input .native-input,.input .display-value{flex:1;border:none;outline:none;background:none;padding-left:var(--space-4);padding-right:var(--space-4);width:100%;cursor:inherit}.input .native-input::placeholder,.input .display-value::placeholder{color:var(--color-neutral-400)}.input.input-has-actions .native-input,.input.input-has-actions .display-value{padding-right:var(--space-2)}.input .input-actions{line-height:0;display:flex}.input .input-actions .action-button{position:relative;border:none;box-shadow:none;background:var(--color-neutral-100);padding:0 var(--space-3_5) 0 var(--space-3_5);margin:0;border-radius:0;line-height:0;border-left:1px solid var(--border-color);cursor:pointer}.input .input-actions .action-button .action-icon{padding-bottom:0;--color:var(--color-neutral-600)}.input .input-actions .action-button:focus{outline:none;background:var(--color-neutral-300)}.input .input-actions .action-button:focus .action-icon{--color:var(--color-neutral-800)}.input .input-actions .action-button:not(.action-button-disabled):active{background:var(--color-primary-500)}.input .input-actions .action-button:not(.action-button-disabled):active .action-icon{--color:var(--color-shades-white)}.input .input-actions .action-button.action-button-disabled{cursor:not-allowed}.input .input-actions .action-button.action-button-disabled .action-icon{--color:var(--color-neutral-300)}.input.input-size-lg .native-input,.input.input-size-lg .display-value{height:3.25rem;font-family:var(--font-family-paragraph);font-size:var(--font-size-p2);line-height:var(--line-height-p2);font-weight:normal;padding-top:var(--space-3_5);padding-bottom:var(--space-3_5)}.input.input-size-md .native-input,.input.input-size-md .display-value{height:var(--space-11);font-family:var(--font-family-paragraph);font-size:var(--font-size-p1);line-height:var(--line-height-p1);font-weight:normal;padding-top:var(--space-3);padding-bottom:var(--space-3)}.input.input-size-sm .native-input,.input.input-size-sm .display-value{height:var(--space-9);font-family:var(--font-family-paragraph);font-size:var(--font-size-p1);line-height:var(--line-height-p1);font-weight:normal;padding-top:var(--space-2_5);padding-bottom:var(--space-2_5)}.input.input-variant-dashed{border-style:dashed}.input.input-disabled{background-color:var(--color-neutral-100);cursor:not-allowed;opacity:1}.input.input-disabled .native-input,.input.input-disabled .display-value{color:var(--color-neutral-400)}:host(.has-focus) .input{outline:0}:host(.has-focus) .input:not(.input-disabled){border-color:var(--color-primary-300);box-shadow:-1px 0px 0px var(--color-neutral-300)}:host(.danger) .input{border-color:var(--color-error-500)}:host(.danger) .input:focus:not(.input-disabled):not(.input-variant-no-border){box-shadow:-1px 0px 0px var(--color-error-700)}.select{position:relative}.select .display-value{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;cursor:pointer}.select .select-options{position:absolute;width:max-content;line-height:0;top:calc(100% + var(--space-1));left:0;z-index:1000}.select.input-variant-no-border{border-style:none;box-shadow:none}:host(.has-focus) .select .input{outline:0}:host(.has-focus) .select .input:not(.input-disabled):not(.input-variant-no-border){border-color:var(--color-primary-300);box-shadow:-1px 0px 0px var(--color-neutral-300)}";export{r as p4_select}
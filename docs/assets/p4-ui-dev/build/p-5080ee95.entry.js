import{r as t,c as i,h as o,H as e,g as n}from"./p-623e9ba8.js";import{d as s,f as r}from"./p-ede0f94e.js";let a=0;const l=class{constructor(o){t(this,o),this.p4Input=i(this,"p4Input",7),this.p4Change=i(this,"p4Change",7),this.p4Blur=i(this,"p4Blur",7),this.p4Focus=i(this,"p4Focus",7),this.inputId="p4-input-"+a++,this.hasFocus=!1,this.name=this.inputId,this.value="",this.size="md",this.variant="default",this.type="text",this.disabled=!1,this.required=!1,this.clearInput=!1,this.debounce=0,this.autocomplete="off",this.onInput=t=>{const i=t.target;i&&(this.value=i.value),this.p4Input.emit(t)},this.onBlur=t=>{this.hasFocus=!1,this.p4Blur.emit(t)},this.onFocus=t=>{this.hasFocus=!0,this.p4Focus.emit(t)},this.clearTextOnEnter=t=>{"Enter"===t.key&&this.clearTextInput(t)},this.clearTextInput=t=>{this.clearInput&&!this.disabled&&t&&(t.preventDefault(),t.stopPropagation(),this.setFocus()),this.value="",this.nativeInput&&(this.nativeInput.value="")}}getCssClasses(){const t=["input-component"];return t.push("variant-"+this.variant),t.push("size-"+this.size),t.push("type-"+this.type),this.required&&t.push("required"),this.disabled&&t.push("disabled"),t.join(" ")+" "}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async setBlur(){this.nativeInput&&this.nativeInput.blur()}valueChanged(){let t=this.value;"number"===this.type&&(t=t?JSON.parse(t+""):null),this.p4Change.emit({value:t})}debounceChanged(){this.p4Change=s(this.p4Change,this.debounce)}componentWillLoad(){if(this.el.hasAttribute("tabindex")){const t=this.el.getAttribute("tabindex");this.tabindex=null!==t?t:void 0,this.el.removeAttribute("tabindex")}}connectedCallback(){this.debounceChanged(),document.dispatchEvent(new CustomEvent("p4InputDidLoad",{detail:this.el}))}disconnectedCallback(){document.dispatchEvent(new CustomEvent("p4InputDidUnload",{detail:this.el}))}hasValue(){return("number"==typeof this.value?this.value.toString():(this.value||"").toString()).length>0}render(){const t=this.inputId+"-lbl",i=r(this.el);return i&&(i.id=t,this.required&&i.classList.add("required")),o(e,{"aria-disabled":this.disabled?"true":null,class:{"has-focus":this.hasFocus,"has-value":this.hasValue()}},o("div",{class:this.getCssClasses()},o("input",{class:"native-input",name:this.name,"aria-labelledby":t,ref:t=>this.nativeInput=t,type:this.type,placeholder:this.placeholder,autocomplete:this.autocomplete,value:this.value,tabindex:this.tabindex,required:this.required,onInput:this.onInput,onBlur:this.onBlur,onFocus:this.onFocus,disabled:this.disabled}),o("div",{class:"input-actions"},this.clearInput&&!this.disabled&&this.hasValue()&&o("button",{"aria-label":"reset",type:"button",class:"input-clear-icon",onTouchStart:this.clearTextInput,onMouseDown:this.clearTextInput,onKeyDown:this.clearTextOnEnter},o("p4-icon",{type:"x",size:"1.1rem",class:"icon"})))))}get el(){return n(this)}static get watchers(){return{value:["valueChanged"],debounce:["debounceChanged"]}}};l.style='*{box-sizing:border-box}::selection{color:#fff;background:#1890ff}:host{display:block}.input-component{font-family:var(--font-normal, -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol);position:relative;display:flex;box-sizing:border-box;min-width:0;margin-bottom:var(--space-3, 0.75rem);background-color:var(--color-white, #fff);border:1px solid var(--color-gray-6, #9f9eb2);font-variant:tabular-nums;list-style:none;font-feature-settings:"tnum";width:100%;color:var(--color-gray-5, #aaa9bb);line-height:1.5715;background-image:none;border-radius:2px;transition:all 0.3s;text-align:start;font-weight:400;letter-spacing:normal;cursor:text;}.input-component .native-input,.input-component .display-value{font-family:var(--font-normal, -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol);flex:1;border:none;outline:none;background:0 0;height:100%;width:100%;cursor:inherit;padding:0.25rem 0.75rem}.input-component .native-input::placeholder,.input-component .display-value::placeholder{color:#bfbfbf}.input-component .input-actions{line-height:0;display:flex}.input-component .input-actions>*:last-child{margin-right:0.5rem}.input-component .input-actions>*{height:100%;background:transparent;border:none;box-shadow:none;margin-left:0.5rem;padding:0;line-height:0}.input-component .input-actions .input-clear-icon{cursor:pointer}.input-component:not(.disabled):hover{color:var(--color-primary, var(--color-indigo-6, #4c48ff));border-color:var(--color-primary, var(--color-indigo-6, #4c48ff))}.input-component:not(.disabled):hover .input-clear-icon{display:inline-block}.input-component.size-lg .native-input,.input-component.size-lg .display-value{font-size:var(--font-size-5, 1rem)}.input-component.size-md .native-input,.input-component.size-md .display-value{font-size:var(--font-size-4, 0.875rem)}.input-component.size-sm .native-input,.input-component.size-sm .display-value{font-size:var(--font-size-3, 0.8125rem)}.input-component.variant-dashed{border-style:dashed}.input-component.disabled{background-color:#f5f5f5;cursor:not-allowed;opacity:1}:host(.has-focus) .input-component{color:var(--color-primary, var(--color-indigo-6, #4c48ff));border-color:var(--color-primary, var(--color-indigo-6, #4c48ff));outline:0;box-shadow:0 0 0 2px var(--color-blue-3, #afd4ff)}:host(.has-focus) .input-component .input-clear-icon{display:inline-block}:host(.danger){}:host(.danger) .input-component{border-color:var(--color-red-6, #ff4c47)}:host(.danger) .input-component:hover{border-color:var(--color-red-6, #ff4c47);box-shadow:0 0 0 2px var(--color-red-3, #ffbbb9)}:host(.has-focus.danger) .input-component{box-shadow:0 0 0 2px var(--color-red-3, #ffbbb9)}:host(.no-border) .input-component{border:0}.input-component{}.input-component.size-lg{height:2.75rem}.input-component.size-md{height:2rem}.input-component.size-sm{height:1.5rem}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield}';export{l as p4_input}
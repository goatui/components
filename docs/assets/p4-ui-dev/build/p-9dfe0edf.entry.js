import{r as t,c as o,h as i,H as e,g as n}from"./p-785ecf5d.js";import{d as s,f as a}from"./p-e3657887.js";let r=0;const l=class{constructor(i){t(this,i),this.p4Input=o(this,"p4Input",7),this.p4Change=o(this,"p4Change",7),this.p4Blur=o(this,"p4Blur",7),this.p4Focus=o(this,"p4Focus",7),this.inputId="p4-textarea-"+r++,this.hasFocus=!1,this.name=this.inputId,this.size="md",this.variant="default",this.inline=!1,this.type="text",this.disabled=!1,this.required=!1,this.clearInput=!1,this.debounce=0,this.onInputChange=t=>{const o=t.target;o&&(this.value=o.value||""),this.p4Input.emit(t)},this.onBlur=t=>{this.hasFocus=!1,this.p4Blur.emit(t)},this.onFocus=t=>{this.hasFocus=!0,this.p4Focus.emit(t)},this.clearTextOnEnter=t=>{"Enter"===t.key&&this.clearTextInput(t)},this.clearTextInput=t=>{this.clearInput&&!this.disabled&&t&&(t.preventDefault(),t.stopPropagation(),this.setFocus()),this.value="",this.nativeInput&&(this.nativeInput.value="")}}debounceChanged(){this.p4Change=s(this.p4Change,this.debounce)}getCssClasses(){const t=["component input-component textarea-component"];return t.push("variant-"+this.variant),t.push("size-"+this.size),t.push("type-"+this.type),this.required&&t.push("required"),this.disabled&&t.push("disabled"),t.join(" ")}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async setBlur(){this.nativeInput&&this.nativeInput.blur()}valueChanged(){this.p4Change.emit({value:null==this.value?this.value:this.value.toString()})}componentWillLoad(){if(this.el.hasAttribute("tabindex")){const t=this.el.getAttribute("tabindex");this.tabindex=null!==t?t:void 0,this.el.removeAttribute("tabindex")}}connectedCallback(){this.debounceChanged(),document.dispatchEvent(new CustomEvent("p4InputDidLoad",{detail:this.el}))}disconnectedCallback(){document.dispatchEvent(new CustomEvent("p4InputDidUnload",{detail:this.el}))}getValue(){return(this.value||"").toString()}hasValue(){return this.getValue().length>0}render(){const t=this.getValue(),o=this.inputId+"-lbl",n=a(this.el);return n&&(n.id=o,this.required&&n.classList.add("required")),i(e,{"aria-disabled":this.disabled?"true":null,class:{"has-focus":this.hasFocus,"has-value":this.hasValue()}},i("div",{class:this.getCssClasses()},i("textarea",{rows:4,ref:t=>this.nativeInput=t,required:this.required,class:"native-input",name:this.name,"aria-labelledby":o,placeholder:this.placeholder,value:t,tabindex:this.tabindex,onInput:this.onInputChange,onBlur:this.onBlur,onFocus:this.onFocus,disabled:this.disabled}),i("div",{class:"input-actions"},this.clearInput&&!this.disabled&&this.hasValue()&&i("button",{"aria-label":"reset",type:"button",class:"input-clear-icon",onTouchStart:this.clearTextInput,onMouseDown:this.clearTextInput,onKeyDown:this.clearTextOnEnter},i("p4-icon",{type:"x",size:"1.1rem",class:"icon"})))))}get el(){return n(this)}static get watchers(){return{debounce:["debounceChanged"],value:["valueChanged"]}}};l.style='*{box-sizing:border-box}::selection{color:#fff;background:#1890ff}:host{display:block}.input-component{font-family:var(--font-normal, -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol);position:relative;display:flex;box-sizing:border-box;min-width:0;margin-bottom:var(--space-3, 0.75rem);background-color:var(--color-white, #fff);border:1px solid var(--color-gray-6, #9f9eb2);font-variant:tabular-nums;list-style:none;font-feature-settings:"tnum";width:100%;color:var(--color-gray-5, #aaa9bb);line-height:1.5715;background-image:none;border-radius:2px;transition:all 0.3s;text-align:start;font-weight:400;letter-spacing:normal;cursor:text;}.input-component .native-input,.input-component .display-value{font-family:var(--font-normal, -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol);flex:1;border:none;outline:none;background:0 0;height:100%;width:100%;cursor:inherit;padding:0.25rem 0.75rem}.input-component .native-input::placeholder,.input-component .display-value::placeholder{color:#bfbfbf}.input-component .input-actions{line-height:0;display:flex}.input-component .input-actions>*:last-child{margin-right:0.5rem}.input-component .input-actions>*{height:100%;background:transparent;border:none;box-shadow:none;margin-left:0.5rem;padding:0;line-height:0}.input-component .input-actions .input-clear-icon{cursor:pointer}.input-component:not(.disabled):hover{color:var(--color-primary, var(--color-indigo-6, #4c48ff));border-color:var(--color-primary, var(--color-indigo-6, #4c48ff))}.input-component:not(.disabled):hover .input-clear-icon{display:inline-block}.input-component.size-lg .native-input,.input-component.size-lg .display-value{font-size:var(--font-size-5, 1rem)}.input-component.size-md .native-input,.input-component.size-md .display-value{font-size:var(--font-size-4, 0.875rem)}.input-component.size-sm .native-input,.input-component.size-sm .display-value{font-size:var(--font-size-3, 0.8125rem)}.input-component.variant-dashed{border-style:dashed}.input-component.disabled{background-color:#f5f5f5;cursor:not-allowed;opacity:1}:host(.has-focus) .input-component{color:var(--color-primary, var(--color-indigo-6, #4c48ff));border-color:var(--color-primary, var(--color-indigo-6, #4c48ff));outline:0;box-shadow:0 0 0 2px var(--color-blue-3, #afd4ff)}:host(.has-focus) .input-component .input-clear-icon{display:inline-block}:host(.danger){}:host(.danger) .input-component{border-color:var(--color-red-6, #ff4c47)}:host(.danger) .input-component:hover{border-color:var(--color-red-6, #ff4c47);box-shadow:0 0 0 2px var(--color-red-3, #ffbbb9)}:host(.has-focus.danger) .input-component{box-shadow:0 0 0 2px var(--color-red-3, #ffbbb9)}:host(.no-border) .input-component{border:0}.textarea-component textarea.native-input{font-family:var(--font-normal, -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol);resize:vertical}.textarea-component .input-actions{position:absolute;right:0;top:0;height:2rem}';export{l as p4_textarea}
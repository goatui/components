{"file":"goat-canvas.entry.esm.js","mappings":";;AAAA,MAAM,SAAS,GAAG,ilCAAilC;;;;;;;;;;MCOtlC,MAAM;EALnB;;IAOU,aAAQ,GAAW,EAAE,CAAC;IACtB,UAAK,GAAU,EAAE,CAAC;IAClB,YAAO,GAAW,CAAC,CAAC;IAIpB,gBAAW,GAAG;MACpB,IAAI,EAAE,CAAC;MACP,IAAI,EAAE,CAAC;MACP,IAAI,EAAE,CAAC;MACP,IAAI,EAAE,CAAC;KACR,CAAC;IAEO,oBAAe,GAAG;MACzB,CAAC,EAAE,CAAC;MACJ,CAAC,EAAE,CAAC;MACJ,KAAK,EAAE,CAAC;MACR,MAAM,EAAE,CAAC;KACV,CAAC;IAEO,UAAK,GAAa,EAAE,CAAC;IA0M9B,oCAA0B,CAAC,KAAK;MAC9B,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;MAC9B,OAAO,IAAI,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;KACjE,EAAC;IAEF,6CAAmC,CAAC,MAAM,EAAE,MAAM;MAChD,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;MAC/B,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;MAC/B,OAAO,KAAK,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,IAAI,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,IAAI,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,IAAI,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;KAC5H,EAAC;IAEF,mCAAyB,CAAC,KAAK;MAC7B,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;MAC9B,OAAO,IAAI,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;KACjE,EAAC;GAEH;EArNC,gBAAgB;IACd,UAAU,CAAC;MACT,IAAI,CAAC,YAAY,EAAE,CAAC;KACrB,CAAC,CAAC;GACJ;EAED,YAAY;IAEV,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,KAAK,EAAE;MAC7B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;KACrB;IAED,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC/C,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;GAC9B;EAED,gBAAgB;IACd,IAAI,MAAM,CAAC;IACX,IAAI,IAAI,CAAC,OAAO,EAAE;MAChB,MAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;MACxC,MAAM,GAAG;QACP,CAAC,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;QAC3B,CAAC,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;QAC3B,KAAK,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;QAC/B,MAAM,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;OACjC,CAAC;KACH;SAAM;MACL,MAAM,GAAG;QACP,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI;QACxB,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI;QACxB,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;QACtD,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;OACxD,CAAC;KACH;IAED,IAAI,IAAI,CAAC,OAAO,EAAE;MAChB,MAAM,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC;MACzB,MAAM,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC;MACzB,MAAM,CAAC,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;MACjC,MAAM,CAAC,MAAM,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;KACnC;IACD,OAAO,MAAM,CAAC;GACf;EAGD,QAAQ,CAAC,IAAI;IAEX,MAAM,cAAc,GAAG;MACrB,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;MACf,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;KAChB,CAAC;IACF,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE;MAClB,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,MAAM,EAAE;QAClC,cAAc,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;OACpC;WAAM,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,EAAE;QACvC,cAAc,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;OACpC;WAAM,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,OAAO,EAAE;QAC1C,cAAc,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;OACpC;WAAM,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,MAAM,EAAE;QACzC,cAAc,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;OACpC;KACF;IAED,MAAM,YAAY,GAAG;MACnB,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;MACb,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;KACd,CAAC;IAEF,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE;MAChB,IAAI,IAAI,CAAC,GAAG,CAAC,SAAS,IAAI,MAAM,EAAE;QAChC,YAAY,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;OAChC;WAAM,IAAI,IAAI,CAAC,GAAG,CAAC,SAAS,IAAI,KAAK,EAAE;QACtC,YAAY,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;OAChC;WAAM,IAAI,IAAI,CAAC,GAAG,CAAC,SAAS,IAAI,OAAO,EAAE;QACxC,YAAY,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;OAChC;WAAM,IAAI,IAAI,CAAC,GAAG,CAAC,SAAS,IAAI,MAAM,EAAE;QACvC,YAAY,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;OAChC;KACF;IAED,IAAI,UAAU,GAAG,uBAAA,IAAI,iCAAmB,MAAvB,IAAI,EAAoB,IAAI,CAAC,KAAK,CAAC,CAAC;;;;IAKrD,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,IAAI,eAAe,EAAE;MAC9C,UAAU,IAAI,IAAI,CAAC,sBAAsB,CAAC,IAAI,EAAE,cAAc,EAAE,YAAY,CAAC,CAAC;KAC/E;IAED,IAAI,IAAI,CAAC,IAAI,IAAI,iBAAiB,EAAE;MAClC,UAAU,IAAI,IAAI,CAAC,wBAAwB,CAAC,IAAI,EAAE,cAAc,EAAE,YAAY,CAAC,CAAC;KACjF;IAGD,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACnC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAEjC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;GAE7B;EAED,sBAAsB,CAAC,IAAI,EAAE,cAAc,EAAE,YAAY;IACvD,IAAI,UAAU,GAAG,EAAE,CAAC;IACpB,UAAU,CAAC,IAAI,CAAC,uBAAA,IAAI,gCAAkB,MAAtB,IAAI,EAAmB,cAAc,CAAC,CAAC,CAAC;IACxD,UAAU,CAAC,IAAI,CAAC,uBAAA,IAAI,gCAAkB,MAAtB,IAAI,EAAmB,YAAY,CAAC,CAAC,CAAC;IACtD,UAAU,CAAC,IAAI,CAAC,uBAAA,IAAI,gCAAkB,MAAtB,IAAI,EAAmB,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;IAClD,OAAO,IAAI,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;GACnC;EAED,wBAAwB,CAAC,IAAI,EAAE,cAAc,EAAE,YAAY;IAEzD,IAAI,UAAU,GAAG,EAAE,CAAC;IACpB,IAAI,SAAS,GAAG,CAAC,CAAC;IAElB,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,MAAM,EAAE;MAClC,IAAI,IAAI,CAAC,GAAG,CAAC,SAAS,IAAI,KAAK,EAAE;QAC/B,IAAI,cAAc,CAAC,CAAC,KAAK,YAAY,CAAC,CAAC,EAAE;UACvC,UAAU,CAAC,IAAI,CAAC,uBAAA,IAAI,gCAAkB,MAAtB,IAAI,EAAmB,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;SACnD;aAAM,IAAI,cAAc,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,EAAE;UAC5C,UAAU,CAAC,IAAI,CAAC,uBAAA,IAAI,gCAAkB,MAAtB,IAAI,EAAmB,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC,GAAG,SAAS,EAAE,CAAC,CAAC,CAAC;UAClG,UAAU,CAAC,IAAI,CAAC,uBAAA,IAAI,0CAA4B,MAAhC,IAAI,EAA6B,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC,EAAE,EAC3F,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC,GAAG,SAAS,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;UAE7D,UAAU,CAAC,IAAI,CAAC,uBAAA,IAAI,gCAAkB,MAAtB,IAAI,EAAmB,EAAE,CAAC,EAAE,YAAY,CAAC,CAAC,GAAG,SAAS,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;UAChG,UAAU,CAAC,IAAI,CAAC,uBAAA,IAAI,0CAA4B,MAAhC,IAAI,EAA6B,EAAE,CAAC,EAAE,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC,EAAE,EACzF,EAAE,CAAC,EAAE,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC,GAAG,SAAS,EAAE,CAAC,CAAC,CAAC;UAC3D,UAAU,CAAC,IAAI,CAAC,uBAAA,IAAI,gCAAkB,MAAtB,IAAI,EAAmB,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;SACnD;aAAM;UACL,UAAU,CAAC,IAAI,CAAC,uBAAA,IAAI,gCAAkB,MAAtB,IAAI,EAAmB,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC,GAAG,SAAS,EAAE,CAAC,CAAC,CAAC;UAClG,UAAU,CAAC,IAAI,CAAC,uBAAA,IAAI,0CAA4B,MAAhC,IAAI,EAA6B,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC,EAAE,EAC3F,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC,GAAG,SAAS,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;UAE7D,UAAU,CAAC,IAAI,CAAC,uBAAA,IAAI,gCAAkB,MAAtB,IAAI,EAAmB,EAAE,CAAC,EAAE,YAAY,CAAC,CAAC,GAAG,SAAS,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;UAChG,UAAU,CAAC,IAAI,CAAC,uBAAA,IAAI,0CAA4B,MAAhC,IAAI,EAA6B,EAAE,CAAC,EAAE,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC,EAAE,EACzF,EAAE,CAAC,EAAE,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC,GAAG,SAAS,EAAE,CAAC,CAAC,CAAC;UAC3D,UAAU,CAAC,IAAI,CAAC,uBAAA,IAAI,gCAAkB,MAAtB,IAAI,EAAmB,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;SACnD;OACF;KACF;;;;;;;;;;;;;IAeD,OAAO,IAAI,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;GACnC;EAGD,iBAAiB,CAAC,QAAQ;IACxB,IAAI,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE;MACtC,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC;KACpC;IACD,IAAI,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE;MACtC,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC;KACpC;IACD,IAAI,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE;MACtC,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC;KACpC;IACD,IAAI,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE;MACtC,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC;KACpC;GACF;EAED,MAAM;IACJ,OAAO,EAAC,IAAI,QACV,WAAK,KAAK,EAAC,gBAAgB,EAAC,KAAK,EAAE;QACjC,iBAAiB,EAAE,GAAG,IAAI,CAAC,QAAQ,MAAM,IAAI,CAAC,QAAQ,IAAI;QAC1D,qBAAqB,EAAE,GAAG,IAAI,CAAC,QAAQ,GAAG,CAAC,MAAM,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI;OACvE,IAEC,WAAK,KAAK,EAAC,QAAQ,EACd,OAAO,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,EAAE,KAE3L,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI;MACnB,OAAO,YAAM,KAAK,EAAC,gBAAgB,kBACT,GAAG,oBACD,OAAO,qBACN,OAAO,EACvB,MAAM,EAAC,MAAM,EACb,CAAC,EAAE,GAAG,IAAI,EAAE,EACZ,IAAI,EAAC,MAAM,GAAG,CAAC;KAC7B,CAAC,EAEA,CACF,CACD,CAAC;GACT;;;;;;;;","names":[],"sources":["./src/components/flow-designer/canvas/canvas.scss?tag=goat-canvas&encapsulation=shadow","./src/components/flow-designer/canvas/canvas.tsx"],"sourcesContent":["@import \"../../../globalStyles/commons\";\r\n\r\n:host {\r\n  display: block;\r\n}\r\n\r\n.canvas-wrapper {\r\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='8d8d8d' class='bi bi-dot' viewBox='0 0 16 16'%3E%3Cpath d='M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z'/%3E%3C/svg%3E\");\r\n  width: max-content;\r\n}\r\n\r\n.line {\r\n  stroke: v(--border-color);\r\n\r\n  &.clickable {\r\n    cursor: pointer;\r\n    &:hover {\r\n      stroke: v(--color-primary);\r\n    }\r\n    z-index: 1;\r\n  }\r\n}\r\n","import { Component, Element, h, Host, Prop, State } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'goat-canvas',\r\n  styleUrl: 'canvas.scss',\r\n  shadow: true,\r\n})\r\nexport class Canvas {\r\n\r\n  @Prop() unitSize: number = 16;\r\n  @Prop() lines: any[] = [];\r\n  @Prop() padding: number = 2;\r\n\r\n  @Prop() viewbox?: string;\r\n\r\n  private drawingArea = {\r\n    minX: 0,\r\n    minY: 0,\r\n    maxX: 0,\r\n    maxY: 0,\r\n  };\r\n\r\n  @State() computedViewbox = {\r\n    x: 0,\r\n    y: 0,\r\n    width: 0,\r\n    height: 0,\r\n  };\r\n\r\n  @State() paths: string[] = [];\r\n\r\n  @Element() elm!: HTMLElement;\r\n\r\n\r\n  componentDidLoad() {\r\n    setTimeout(() => {\r\n      this.renderCanvas();\r\n    });\r\n  }\r\n\r\n  renderCanvas() {\r\n\r\n    for (const line of this.lines) {\r\n      this.drawLine(line);\r\n    }\r\n\r\n    this.computedViewbox = this.calculateViewbox();\r\n    this.paths = [...this.paths];\r\n  }\r\n\r\n  calculateViewbox() {\r\n    let result;\r\n    if (this.viewbox) {\r\n      const viewbox = this.viewbox.split(' ');\r\n      result = {\r\n        x: parseInt(viewbox[0], 10),\r\n        y: parseInt(viewbox[1], 10),\r\n        width: parseInt(viewbox[2], 10),\r\n        height: parseInt(viewbox[3], 10),\r\n      };\r\n    } else {\r\n      result = {\r\n        x: this.drawingArea.minX,\r\n        y: this.drawingArea.minY,\r\n        width: (this.drawingArea.maxX - this.drawingArea.minX),\r\n        height: (this.drawingArea.maxY - this.drawingArea.minY),\r\n      };\r\n    }\r\n\r\n    if (this.padding) {\r\n      result.x -= this.padding;\r\n      result.y -= this.padding;\r\n      result.width += 2 * this.padding;\r\n      result.height += 2 * this.padding;\r\n    }\r\n    return result;\r\n  }\r\n\r\n\r\n  drawLine(line) {\r\n\r\n    const startConnector = {\r\n      x: line.start.x,\r\n      y: line.start.y,\r\n    };\r\n    if (line.start.gap) {\r\n      if (line.start.direction == 'down') {\r\n        startConnector.y += line.start.gap;\r\n      } else if (line.start.direction == 'up') {\r\n        startConnector.y -= line.start.gap;\r\n      } else if (line.start.direction == 'right') {\r\n        startConnector.x += line.start.gap;\r\n      } else if (line.start.direction == 'left') {\r\n        startConnector.x -= line.start.gap;\r\n      }\r\n    }\r\n\r\n    const endConnector = {\r\n      x: line.end.x,\r\n      y: line.end.y,\r\n    };\r\n\r\n    if (line.end.gap) {\r\n      if (line.end.direction == 'down') {\r\n        endConnector.y += line.end.gap;\r\n      } else if (line.end.direction == 'top') {\r\n        endConnector.y -= line.end.gap;\r\n      } else if (line.end.direction == 'right') {\r\n        endConnector.x += line.end.gap;\r\n      } else if (line.end.direction == 'left') {\r\n        endConnector.x -= line.end.gap;\r\n      }\r\n    }\r\n\r\n    let pathString = this.#createStartString(line.start);\r\n\r\n    /**\r\n     * Straight line between two connectors\r\n     */\r\n    if (!line.type || line.type == 'straight_line') {\r\n      pathString += this.createStraightLinePath(line, startConnector, endConnector);\r\n    }\r\n\r\n    if (line.type == 'shape_connector') {\r\n      pathString += this.createShapeConnectorPath(line, startConnector, endConnector);\r\n    }\r\n\r\n\r\n    this.updateDrawingArea(line.start);\r\n    this.updateDrawingArea(line.end);\r\n\r\n    this.paths.push(pathString);\r\n\r\n  }\r\n\r\n  createStraightLinePath(line, startConnector, endConnector) {\r\n    let pathString = [];\r\n    pathString.push(this.#createLineString(startConnector));\r\n    pathString.push(this.#createLineString(endConnector));\r\n    pathString.push(this.#createLineString(line.end));\r\n    return ` ${pathString.join(' ')}`;\r\n  }\r\n\r\n  createShapeConnectorPath(line, startConnector, endConnector) {\r\n\r\n    let pathString = [];\r\n    let curveSize = 2;\r\n\r\n    if (line.start.direction == 'down') {\r\n      if (line.end.direction == 'top') {\r\n        if (startConnector.x === endConnector.x) {\r\n          pathString.push(this.#createLineString(line.end));\r\n        } else if (startConnector.x < endConnector.x) {\r\n          pathString.push(this.#createLineString({ x: startConnector.x, y: startConnector.y - curveSize }));\r\n          pathString.push(this.#createQuadraticCurveString({ x: startConnector.x, y: startConnector.y },\r\n            { x: startConnector.x + curveSize, y: startConnector.y }));\r\n\r\n          pathString.push(this.#createLineString({ x: endConnector.x - curveSize, y: startConnector.y }));\r\n          pathString.push(this.#createQuadraticCurveString({ x: endConnector.x, y: startConnector.y },\r\n            { x: endConnector.x, y: startConnector.y + curveSize }));\r\n          pathString.push(this.#createLineString(line.end));\r\n        } else {\r\n          pathString.push(this.#createLineString({ x: startConnector.x, y: startConnector.y - curveSize }));\r\n          pathString.push(this.#createQuadraticCurveString({ x: startConnector.x, y: startConnector.y },\r\n            { x: startConnector.x - curveSize, y: startConnector.y }));\r\n\r\n          pathString.push(this.#createLineString({ x: endConnector.x + curveSize, y: startConnector.y }));\r\n          pathString.push(this.#createQuadraticCurveString({ x: endConnector.x, y: startConnector.y },\r\n            { x: endConnector.x, y: startConnector.y + curveSize }));\r\n          pathString.push(this.#createLineString(line.end));\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    /*if (startConnector.x === endConnector.x) {\r\n      pathString.push(this.#createLineString(endConnector));\r\n    } else {\r\n      if (line.start.direction === 'down' && line.end.direction === 'left') {\r\n        if (startConnector.y < endConnector.y) {\r\n          pathString += ` ${this.#createLineString({ x: startConnector.x, y: endConnector.y })}`;\r\n        } else {\r\n          pathString += ` ${this.#createLineString({ x: endConnector.x, y: startConnector.y })}`;\r\n        }\r\n      }\r\n      pathString += ` ${this.#createLineString(endConnector)}`;\r\n    }*/\r\n    return ` ${pathString.join(' ')}`;\r\n  }\r\n\r\n\r\n  updateDrawingArea(position) {\r\n    if (position.x > this.drawingArea.maxX) {\r\n      this.drawingArea.maxX = position.x;\r\n    }\r\n    if (position.y > this.drawingArea.maxY) {\r\n      this.drawingArea.maxY = position.y;\r\n    }\r\n    if (position.x < this.drawingArea.minX) {\r\n      this.drawingArea.minX = position.x;\r\n    }\r\n    if (position.y < this.drawingArea.minY) {\r\n      this.drawingArea.minY = position.y;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <Host>\r\n      <div class='canvas-wrapper' style={{\r\n        'background-size': `${this.unitSize}px ${this.unitSize}px`,\r\n        'background-position': `${this.unitSize / 2}px ${this.unitSize / 2}px`,\r\n      }}>\r\n\r\n        <svg class='canvas'\r\n             viewBox={`${this.computedViewbox.x * this.unitSize} ${this.computedViewbox.x * this.unitSize} ${this.computedViewbox.width * this.unitSize} ${this.computedViewbox.height * this.unitSize}`}>\r\n          {\r\n            (this.paths.map((path) => {\r\n              return <path class='line clickable'\r\n                           stroke-width='4'\r\n                           stroke-linecap='round'\r\n                           stroke-linejoin='round'\r\n                           stroke='#000'\r\n                           d={`${path}`}\r\n                           fill='none' />;\r\n            }))\r\n          }\r\n        </svg>\r\n      </div>\r\n    </Host>;\r\n  }\r\n\r\n  #createStartString: any = (point) => {\r\n    this.updateDrawingArea(point);\r\n    return `M${point.x * this.unitSize} ${point.y * this.unitSize}`;\r\n  };\r\n\r\n  #createQuadraticCurveString: any = (pointA, pointB) => {\r\n    this.updateDrawingArea(pointA);\r\n    this.updateDrawingArea(pointA);\r\n    return `Q ${pointA.x * this.unitSize} ${pointA.y * this.unitSize} ${pointB.x * this.unitSize} ${pointB.y * this.unitSize}`;\r\n  };\r\n\r\n  #createLineString: any = (point) => {\r\n    this.updateDrawingArea(point);\r\n    return `L${point.x * this.unitSize} ${point.y * this.unitSize}`;\r\n  };\r\n\r\n}\r\n"],"version":3}
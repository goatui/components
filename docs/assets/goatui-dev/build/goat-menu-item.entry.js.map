{"file":"goat-menu-item.entry.esm.js","mappings":"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","names":[],"sources":["./src/components/menu/menu-item/menu-item.scss?tag=goat-menu-item&encapsulation=shadow","./src/components/menu/menu-item/menu-item.tsx"],"sourcesContent":["@import \"../../../globalStyles/commons\";\r\n\r\n:host {\r\n  display: block;\r\n}\r\n\r\n.menu-item {\r\n  cursor: pointer;\r\n  @include font-style(text-md);\r\n  padding: v(--spacing-2) v(--spacing-4);\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: v(--spacing-2);\r\n  color: v(--text-secondary);\r\n  outline: none;\r\n\r\n  .item-section {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  .slot-main {\r\n    display: block;\r\n    flex: 1;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .slot-end {\r\n    color: v(--text-05);\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n.menu-item {\r\n  &:hover, &.has-focus:not(.active) {\r\n    background: v(--hover-ui);\r\n    color: v(--text-primary);\r\n    .slot-end {\r\n      color: v(--icon-01);\r\n    }\r\n  }\r\n\r\n  &.active, &.selected {\r\n    background: v(--selected-ui);\r\n  }\r\n}\r\n\r\n.menu-item.has-focus:not(.active) {\r\n  @include focus-ring;\r\n}\r\n\r\n.menu-item.disabled {\r\n  cursor: not-allowed;\r\n  color: v(--text-disabled) !important;\r\n  background-color: v(--disabled-01) !important;\r\n\r\n  &:hover, &.has-focus:not(.active) {\r\n    color: v(--text-disabled) !important;\r\n    background-color: v(--disabled-01) !important;\r\n  }\r\n\r\n  &.active, &.selected {\r\n    color: v(--text-disabled) !important;\r\n    background-color: v(--disabled-01) !important;\r\n  }\r\n}\r\n\r\n\r\n.menu-item:not(.start-slot-has-content) {\r\n  .slot-start {\r\n    display: none;\r\n  }\r\n}\r\n\r\n.menu-item:not(.end-slot-has-content) {\r\n  .slot-end {\r\n    display: none;\r\n  }\r\n}\r\n\r\n\r\n","import { Component, Element, Event, EventEmitter, h, Host, Listen, Method, Prop, State } from '@stencil/core';\r\nimport { getComponentIndex } from '../../../utils/utils';\r\n\r\n\r\n@Component({\r\n  tag: 'goat-menu-item',\r\n  styleUrl: 'menu-item.scss',\r\n  shadow: true,\r\n})\r\nexport class GoatMenu {\r\n\r\n  gid: string = getComponentIndex();\r\n\r\n  private nativeInput?: HTMLElement;\r\n\r\n  private tabindex?: string | number = 1;\r\n\r\n\r\n  /**\r\n   * The menu item value.\r\n   */\r\n  @Prop({mutable: true}) value?: string | number | null;\r\n\r\n  /**\r\n   * If true, the user cannot interact with the button. Defaults to `false`.\r\n   */\r\n  @Prop({ reflect: true }) disabled: boolean = false;\r\n\r\n  /**\r\n   * Menu item selection state.\r\n   */\r\n  @Prop({ reflect: true }) selected: boolean = false;\r\n\r\n  /**\r\n   * Emitted when the menu item is clicked.\r\n   */\r\n  @Event({ eventName: 'goat:menu-item-click' }) goatMenuItemClick: EventEmitter;\r\n\r\n\r\n  @State() startSlotHasContent = false;\r\n  @State() endSlotHasContent = false;\r\n\r\n  /**\r\n   * Sets focus on the native `input` in `goat-input`. Use this method instead of the global\r\n   * `input.focus()`.\r\n   */\r\n  @Method()\r\n  async setFocus() {\r\n    if (this.nativeInput) {\r\n      this.nativeInput.focus();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sets blur on the native `input` in `goat-input`. Use this method instead of the global\r\n   * `input.blur()`.\r\n   */\r\n  @Method()\r\n  async setBlur() {\r\n    if (this.nativeInput) {\r\n      this.nativeInput.blur();\r\n    }\r\n  }\r\n\r\n  @Listen('mouseup', { target: 'window' })\r\n  windowMouseUp() {\r\n    if (this.isActive)\r\n      this.isActive = false;\r\n  }\r\n\r\n  @Listen('keyup', { target: 'window' })\r\n  windowKeyUp(evt) {\r\n    if (this.isActive && (evt.key == ' '))\r\n      this.isActive = false;\r\n  }\r\n\r\n  @State() hasFocus = false;\r\n  @State() isActive = false;\r\n  @Element() elm!: HTMLElement;\r\n\r\n  private clickHandler = (event) => {\r\n    if (!this.disabled) {\r\n      this.goatMenuItemClick.emit({\r\n        value: this.value || this.elm.innerText\r\n      });\r\n    } else {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      return;\r\n    }\r\n  };\r\n\r\n  private blurHandler = () => {\r\n    this.hasFocus = false;\r\n  };\r\n\r\n  private focusHandler = () => {\r\n    this.hasFocus = true;\r\n  };\r\n\r\n  private mouseDownHandler = () => {\r\n    this.isActive = true;\r\n  };\r\n\r\n  private keyDownHandler = (evt) => {\r\n    if (evt.key == ' ') {\r\n      evt.preventDefault();\r\n      this.isActive = true;\r\n      this.clickHandler(evt);\r\n    }\r\n  };\r\n\r\n  componentWillLoad() {\r\n    // If the ion-input has a tabindex attribute we get the value\r\n    // and pass it down to the native input, then remove it from the\r\n    // goat-input to avoid causing tabbing twice on the same element\r\n    if (this.elm.hasAttribute('tabindex')) {\r\n      const tabindex = this.elm.getAttribute('tabindex');\r\n      this.tabindex = tabindex !== null ? tabindex : undefined;\r\n      this.elm.removeAttribute('tabindex');\r\n    }\r\n    this.startSlotHasContent = !!this.elm.querySelector('[slot=\"start\"]');\r\n    this.endSlotHasContent = !!this.elm.querySelector('[slot=\"end\"]');\r\n  }\r\n\r\n  render = () => {\r\n    return <Host active={this.isActive} has-focus={this.hasFocus}>\r\n      <div\r\n        ref={(el) => this.nativeInput = el as HTMLElement}\r\n        class={{\r\n          'menu-item': true,\r\n          'selected': this.selected,\r\n          'active': this.isActive,\r\n          'disabled': this.disabled,\r\n          'has-focus': this.hasFocus,\r\n          'start-slot-has-content': this.startSlotHasContent,\r\n          'end-slot-has-content': this.endSlotHasContent,\r\n        }}\r\n        tabindex={this.tabindex}\r\n        onBlur={this.blurHandler}\r\n        onFocus={this.focusHandler}\r\n        onClick={this.clickHandler}\r\n        onMouseDown={this.mouseDownHandler}\r\n        onKeyDown={this.keyDownHandler}\r\n        aria-disabled={this.disabled}>\r\n\r\n        <div class=\"item-section slot-start\">\r\n          <slot name=\"start\" />\r\n        </div>\r\n\r\n        <div class='item-section slot-main'>\r\n          <slot />\r\n        </div>\r\n\r\n        <div class=\"item-section slot-end\">\r\n          <slot name=\"end\" />\r\n        </div>\r\n\r\n      </div>\r\n    </Host>;\r\n  };\r\n\r\n\r\n}\r\n"],"version":3}
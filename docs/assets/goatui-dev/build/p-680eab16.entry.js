import{r as t,h as e,H as i,g as s}from"./p-433e69ff.js";import{l as o}from"./p-41676fa7.js";const r="*{box-sizing:border-box}:host{font-family:var(--font-family-base)}::selection{color:var(--color-white, #ffffff);background:var(--color-primary, var(--color-blue-60, #0f62fe))}::-webkit-scrollbar{width:1rem;height:1rem}::-webkit-scrollbar-track{background:#f1f1f1}::-webkit-scrollbar-thumb{background:#888}::-webkit-scrollbar-thumb :hover{background:#555}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.center-content{display:flex;align-items:center;justify-content:center}:host([hidden]){display:none}@keyframes reveal{0%{opacity:0;transform:translateY(8px)}}:host{display:block;--table-border-radius:var(border-radius, );height:400px}.flow-designer{height:100%;width:100%;overflow:hidden;border-radius:var(--table-border-radius);background-color:var(background-color, );border:1px solid var(border-color, )}.canvas-wrapper{font-size:var(--text-md-font-size, 1rem);line-height:var(--text-md-line-height, 1.5rem);letter-spacing:var(--text-md-letter-spacing, 0rem);position:relative;width:100%;height:100%}.flow-lines,.flow-items{position:absolute;top:0;left:0}.flow-items{position:absolute;top:0;left:50%;pointer-events:none}.activity{fill:var(--background, #ffffff);stroke:var(--border-color, var(--color-gray-50, #8d8d8d))}.flow-designer{}";function a(t){return t*16}let n=class{constructor(e){t(this,e);this.blockSize=10;this.activities=[];this.disabled=false;this.isMouseDown=false;this.activityHeight=10;this.activityWidth=5;this.lines=[]}handleMouseDown(){this.isMouseDown=false}async componentWillLoad(){if(!window["SVG"]){await o(`https://cdnjs.cloudflare.com/ajax/libs/svg.js/3.1.2/svg.min.js`)}this.lines=[{start:{x:0,y:0,gap:8,direction:"down"},end:{x:-15,y:15,direction:"top"},type:"shape_connector"},{start:{x:0,y:0,gap:8,direction:"down"},end:{x:15,y:15,direction:"top"},type:"shape_connector"}]}componentDidLoad(){setTimeout((()=>{this.nativeScrollElm.scrollLeft=(this.canvasElm.clientWidth-this.nativeScrollElm.clientWidth)/2;this.initializeCanvas()}),100)}getViewBoxHeight(){return a(this.blockSize*this.activityHeight)}getViewBoxWidth(){return a(this.blockSize*this.activityWidth)}initializeCanvas(){}createStartNode(){const t=a(this.blockSize/2);return(new window["SVG"].Circle).radius(t).move(0,0).attr({fill:"var(--color-success-100)"}).stroke({color:"var(--color-success-500)"})}createActivityNode(t,e){const i=a(this.blockSize/2);const s=i/2;return(new window["SVG"].Rect).addClass("activity").size(i,i).radius(15).move(((this.activityWidth-1)/2+t)*a(this.blockSize)+s,e*a(this.blockSize)+s)}render(){return e(i,{disabled:this.disabled},e("div",{class:"flow-designer",ref:t=>this.nativeScrollElm=t},e("div",{class:"canvas-wrapper",onMouseDown:t=>{t.preventDefault();this.isMouseDown=true;this.startX=t.pageX-this.nativeScrollElm.offsetLeft;this.startY=t.pageY-this.nativeScrollElm.offsetTop;this.scrollLeft=this.nativeScrollElm.scrollLeft;this.scrollTop=this.nativeScrollElm.scrollTop},onMouseLeave:t=>{t.preventDefault();this.isMouseDown=false},onMouseMove:t=>{t.preventDefault();if(!this.isMouseDown)return;const e=t.pageX-this.nativeScrollElm.offsetLeft;const i=e-this.startX;this.nativeScrollElm.scrollLeft=this.scrollLeft-i;const s=t.pageY-this.nativeScrollElm.offsetTop;const o=s-this.startY;this.nativeScrollElm.scrollTop=this.scrollTop-o}},e("goat-canvas",{ref:t=>this.canvasElm=t,class:"flow-lines",lines:this.lines,padding:0,viewbox:`0 0 124 134`}),e("div",{class:"flow-items",style:{width:`${this.getViewBoxWidth()}px`,height:`${this.getViewBoxHeight()}px`}}))))}get elm(){return s(this)}};n.style=r;export{n as goat_flow_designer};
//# sourceMappingURL=p-680eab16.entry.js.map
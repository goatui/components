import{r as t,c as e,h as i,H as o,g as s}from"./p-433e69ff.js";const r="*{box-sizing:border-box}:host{font-family:var(--font-family-base)}::selection{color:var(--color-white, #ffffff);background:var(--color-primary, var(--color-blue-60, #0f62fe))}::-webkit-scrollbar{width:1rem;height:1rem}::-webkit-scrollbar-track{background:#f1f1f1}::-webkit-scrollbar-thumb{background:#888}::-webkit-scrollbar-thumb :hover{background:#555}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.center-content{display:flex;align-items:center;justify-content:center}:host([hidden]){display:none}@keyframes reveal{0%{opacity:0;transform:translateY(8px)}}:host{display:block;height:100%;min-height:20em;--table-border-color:var(--ui-04, var(--color-gray-50, #8d8d8d))}.table{height:100%;border:1px solid var(--table-border-color);font-size:var(--text-md-font-size, 1rem);line-height:var(--text-md-line-height, 1.5rem);letter-spacing:var(--text-md-letter-spacing, 0rem)}.table .table-scroll-container{position:relative;overflow:auto;height:100%}.table .empty-table{height:80%;display:flex;align-items:center;justify-content:center}.table.paginate .table-scroll-container{height:calc(100% - 2.4375rem)}.table .pagination{display:flex;border-top:1px solid var(--table-border-color)}.table .pagination .form-control{margin:0}.table .pagination .select{margin:0;--input-border-radius:none;--input-border-style:none;border-left:1px solid var(--table-border-color);border-right:1px solid var(--table-border-color)}.table .pagination .page-sizes-select{margin-inline-start:var(--spacing-3, 0.75rem)}.table .pagination .pagination-item-count{margin-inline-start:var(--spacing-4, 1rem);flex:1;display:flex;align-items:center}.row{display:flex;box-sizing:border-box}.row .columns-container{display:flex}.row .col{margin:0;color:var(--text-primary, var(--color-gray-100, #161616));box-sizing:border-box;vertical-align:middle;line-height:normal}.row .col .col-content{display:flex;align-items:center;height:100%}.row .col .col-content .col-text{padding:var(--spacing-2, 0.5rem) var(--spacing-3, 0.75rem);flex:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.row .col .col-content .col-action{--button-border-radius:none}.row .col .col-content .col-action.has-focus{z-index:12}.row .col .col-content .checkbox{padding:0 var(--spacing-3, 0.75rem)}.row .col.center .col-content{justify-content:center}.row .col:last-child{flex:1}.row .fixed-columns{position:sticky;left:0}.row .scrollable-columns{flex:1}.header{z-index:var(--z-index-table-header, 30);font-weight:var(--font-weight-semi-bold, 600);text-transform:uppercase;position:sticky;top:0;background:var(--ui-01, var(--color-gray-20, #e0e0e0))}.header .left-panel{position:sticky;top:0;left:0}.header .col{background:var(--ui-01, var(--color-gray-20, #e0e0e0));border-bottom:1px solid var(--table-border-color)}.header .col.sort{background:var(--active-ui, var(--color-gray-30, #c6c6c6))}.body .row:hover{background-color:var(--hover-ui, var(--color-gray-10, #f4f4f4))}.body .row:hover .col{background-color:var(--hover-ui, var(--color-gray-10, #f4f4f4))}.body .row .col{cursor:pointer;background:var(--background, #ffffff);border:2px solid transparent;border-bottom:1px solid var(--ui-03)}.body .row .col:focus{outline:none;border:2px solid var(--color-primary, var(--color-blue-60, #0f62fe));z-index:1}.body .left-panel{position:sticky;left:0}:host(.show-full-content) .body .col-text{overflow:initial;white-space:initial;text-overflow:initial}.empty-data{text-align:center;position:absolute;margin:auto;top:46px;right:0;bottom:0;left:0;border-radius:3px;height:max-content;color:var(--color-neutral-600, )}";const a=16;const l=[{value:10,label:10},{value:25,label:25},{value:50,label:50},{value:100,label:100}];let n=class{constructor(i){t(this,i);this.goatCellClick=e(this,"goat:table-cell-click",7);this.goatSelectChange=e(this,"goat:table-select-change",7);this.goatSort=e(this,"goat:sort",7);this.goatPage=e(this,"goat:page",7);this.columns=[];this.data=[];this.selectedRowKeys=[];this.keyField="id";this.managed=false;this.sortable=true;this.sortOrder="asc";this.paginate=true;this.page=1;this.pageSize=10;this.emptyState={title:"No items",description:"There are no items to display"};this.hoveredCell={};this.isSelectAll=false;this.onSelectAllClick=()=>{let t=[];this.isSelectAll=!this.isSelectAll;if(this.isSelectAll)t=this.data.map((t=>t[this.keyField]));this.onSelectChange(t)};this.onRowSelectClick=t=>{let e=[...this.selectedRowKeys];if(e.includes(t[this.keyField])){this.isSelectAll=false;e=e.filter((e=>e!==t[this.keyField]))}else{e.push(t[this.keyField])}this.onSelectChange(e)};this.onCellMouseOver=(t,e)=>{this.hoveredCell={row:t,column:e}}}onSelectChange(t){this.selectedRowKeys=t;this.goatSelectChange.emit({value:this.selectedRowKeys,isSelectAll:this.isSelectAll})}onCellClick(t,e){this.goatCellClick.emit({record:t,column:e})}renderHeader(){const t=[];const e=[];if(this.selectionType==="checkbox"){t.push(i("div",{class:"col center"},i("div",{class:"col-content"},i("goat-checkbox",{class:"checkbox light",size:"sm",value:this.isSelectAll,"onGoat:change":this.onSelectAllClick}))))}this.columns.forEach((o=>{let s=a;if(o.width)s=parseInt(o.width);const r=i("div",{class:{col:true,sort:this.sortBy===o.name},style:{width:s+"rem"}},i("div",{class:"col-content"},i("div",{class:"col-text"},o.label),i("div",{class:"col-actions"},(()=>{if(!this.sortable)return;let t="arrow-down-up";if(this.sortBy===o.name){if(this.sortOrder==="asc")t="arrow-up";else t="arrow-down"}return i("goat-button",{size:"sm",icon:t,class:"col-action color-secondary",variant:"ghost",onClick:()=>{if(this.sortBy===o.name){if(this.sortOrder==="asc")this.sortOrder="desc";else this.sortBy=null}else{this.sortBy=o.name;this.sortOrder="asc"}this.goatSort.emit({sortBy:this.sortBy,sortOrder:this.sortOrder})}})})())));o.fixed?t.push(r):e.push(r)}));return i("div",{class:"header"},i("div",{class:"row"},i("div",{class:"fixed-columns columns-container"},t),i("div",{class:"scrollable-columns columns-container"},e)))}renderBody(){const t=[];let e=[...this.data];if(!this.managed){if(this.sortable&&this.sortBy){e=e.sort(((t,e)=>{if(t[this.sortBy]<e[this.sortBy])return this.sortOrder==="asc"?-1:1;if(t[this.sortBy]>e[this.sortBy])return this.sortOrder==="asc"?1:-1;return 0}))}if(this.paginate){e=e.slice((this.page-1)*this.pageSize,this.page*this.pageSize)}}e.forEach((e=>{const o=[];const s=[];if(this.selectionType==="checkbox")o.push(i("div",{class:{col:true,center:true}},i("div",{class:"col-content"},i("goat-checkbox",{class:"checkbox light",size:"sm",value:this.selectedRowKeys.includes(e[this.keyField]),"onGoat:change":()=>this.onRowSelectClick(e)}))));this.columns.forEach((t=>{let r=a;if(t.width)r=parseInt(t.width);const l=i("div",{tabindex:"1",class:{col:true,"col-hover":this.hoveredCell.row===e&&this.hoveredCell.column===t},style:{width:r+"rem"},onMouseOver:()=>this.onCellMouseOver(e,t),onClick:()=>{const i=window.getSelection();if(i.type!="Range")this.onCellClick(e,t)}},i("div",{class:"col-content"},i("div",{class:"col-text",title:e===null||e===void 0?void 0:e[t.name]},e===null||e===void 0?void 0:e[t.name])));t.fixed?o.push(l):s.push(l)}));t.push(i("div",{class:{row:true,"row-hover":this.hoveredCell.row===e}},i("div",{class:"fixed-columns columns-container"},o),i("div",{class:"scrollable-columns columns-container"},s)))}));return i("div",{class:"body"},t)}getTotalItems(){let t=this.totalItems;if(this.paginate&&!this.managed)t=this.data.length;return t}renderPagination(){if(this.paginate)return i("div",{class:"pagination"},i("div",{class:"page-sizes-select"},i("goat-form-control",{label:"Items per page:",inline:true,class:"form-control"},i("goat-select",{size:"sm",class:"select",items:l,positions:"top-right",value:this.pageSize,"onGoat:change":t=>{this.pageSize=t.detail.value;this.goatPage.emit({page:this.page,pageSize:this.pageSize})}}))),i("div",{class:"pagination-item-count"},i("goat-text",{size:"sm"},this.pageSize*(this.page-1)," - ",this.pageSize*this.page<this.getTotalItems()?this.pageSize*this.page:this.getTotalItems()," of ",this.getTotalItems()," items")),i("div",{class:"pagination-right"},i("div",{class:"table-footer-right-content"},i("div",{class:"table-footer-right-content-pagination"},i("goat-button",{size:"sm",icon:"arrow-left",variant:"ghost",disabled:this.page===1,onClick:()=>{this.page=this.page-1;this.goatPage.emit({page:this.page,pageSize:this.pageSize})}}),i("goat-button",{size:"sm",icon:"arrow-right",variant:"ghost",disabled:this.pageSize*this.page>=this.getTotalItems(),onClick:()=>{this.page=this.page+1;this.goatPage.emit({page:this.page,pageSize:this.pageSize})}})))))}render(){return i(o,null,i("div",{class:{table:true,sortable:this.sortable,paginate:this.paginate}},i("div",{class:"table-scroll-container"},this.renderHeader(),this.data.length?this.renderBody():this.renderEmptyState()),i("div",{class:"table-footer"},this.renderPagination())))}renderEmptyState(){return i("div",{class:"empty-table"},i("goat-empty-state",Object.assign({class:"content-center"},this.emptyState)))}get elm(){return s(this)}};n.style=r;export{n as goat_table};
//# sourceMappingURL=p-fb8e1a5b.entry.js.map